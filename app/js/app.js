/*!
 * 
 * Angle - Bootstrap Admin App + AngularJS
 * 
 * Version: 3.1.0
 * Author: @themicon_co
 * Website: http://themicon.co
 * License: https://wrapbootstrap.com/help/licenses
 * 
 */

// APP START
// ----------------------------------- 

(function() {
    'use strict';

    angular
        .module('angle', [
            'app.core',
            'app.routes',
            'app.sidebar',
            'app.navsearch',
            'app.preloader',
            'app.loadingbar',
            'app.translate',
            'app.settings',
            'app.dashboard',
            'app.icons',
            'app.flatdoc',
            'app.notify',
            'app.bootstrapui',
            'app.elements',
            'app.panels',
            'app.charts',
            'app.forms',
            'app.locale',
            'app.maps',
            'app.pages',
            'app.tables',
            'app.extras',
            'app.mailbox',
            'app.utils',
            'app.items',
            'app.myshop',
            'app.sales',
            'app.members',
            'app.costs'
        ]);
})();


(function() {
    'use strict';

    angular
        .module('app.bootstrapui', []);
})();
(function() {
    'use strict';

    angular
        .module('app.charts', []);
})();
(function() {
    'use strict';

    angular
        .module('app.colors', []);
})();
(function() {
    'use strict';

    angular
        .module('app.core', [
            'ngRoute',
            'ngAnimate',
            'ngStorage',
            'ngCookies',
            'pascalprecht.translate',
            'ui.bootstrap',
            'ui.router',
            'oc.lazyLoad',
            'cfp.loadingBar',
            'ngSanitize',
            'ngResource',
            'tmh.dynamicLocale',
            'ui.utils',
            'lbServices'
        ]);
})();
(function() {
    'use strict';

    angular
        .module('app.costs', []);
})();
(function() {
    'use strict';

    angular
        .module('app.dashboard', []);
})();
(function() {
    'use strict';

    angular
        .module('app.elements', []);
})();
(function() {
    'use strict';

    angular
        .module('app.extras', []);
})();
(function() {
    'use strict';

    angular
        .module('app.flatdoc', []);
})();
(function() {
    'use strict';

    angular
        .module('app.forms', []);
})();
(function() {
    'use strict';

    angular
        .module('app.icons', []);
})();
(function() {
    'use strict';

    angular
        .module('app.items', []);
})();
(function() {
    'use strict';

    angular
        .module('app.lazyload', []);
})();
(function() {
    'use strict';

    angular
        .module('app.loadingbar', []);
})();
(function() {
    'use strict';

    angular
        .module('app.locale', []);
})();
(function() {
    'use strict';

    angular
        .module('app.mailbox', []);
})();
(function() {
    'use strict';

    angular
        .module('app.maps', []);
})();
(function() {
    'use strict';

    angular
        .module('app.members', []);
})();
(function() {
    'use strict';

    angular
        .module('app.myshop', []);
})();
(function() {
    'use strict';

    angular
        .module('app.navsearch', []);
})();
(function() {
    'use strict';

    angular
        .module('app.notify', []);
})();
(function() {
    'use strict';

    angular
        .module('app.pages', []);
})();
(function() {
    'use strict';

    angular
        .module('app.panels', []);
})();
(function() {
    'use strict';

    angular
        .module('app.preloader', []);
})();


(function() {
    'use strict';

    angular
        .module('app.routes', [
            'app.lazyload'
        ]);
})();
(function() {
    'use strict';

    angular
        .module('app.sales', []);
})();
(function() {
    'use strict';

    angular
        .module('app.settings', []);
})();
(function() {
    'use strict';

    angular
        .module('app.sidebar', []);
})();
(function() {
    'use strict';

    angular
        .module('app.tables', []);
})();
(function() {
    'use strict';

    angular
        .module('app.translate', []);
})();
(function() {
    'use strict';

    angular
        .module('app.utils', [
          'app.colors'
        ]);
})();

/**=========================================================
 * Module: demo-alerts.js
 * Provides a simple demo for pagination
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('AlertDemoCtrl', AlertDemoCtrl);

    function AlertDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.alerts = [
            { type: 'danger', msg: 'Oh snap! Change a few things up and try submitting again.' },
            { type: 'warning', msg: 'Well done! You successfully read this important alert message.' }
          ];

          vm.addAlert = function() {
            vm.alerts.push({msg: 'Another alert!'});
          };

          vm.closeAlert = function(index) {
            vm.alerts.splice(index, 1);
          };
        }
    }
})();

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .config(bootstrapuiConfig);

    bootstrapuiConfig.$inject = ['$tooltipProvider'];
    function bootstrapuiConfig($tooltipProvider){
      $tooltipProvider.options({appendToBody: true});
    }
})();
/**=========================================================
 * Module: demo-buttons.js
 * Provides a simple demo for buttons actions
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('ButtonsCtrl', ButtonsCtrl);

    function ButtonsCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.singleModel = 1;

          vm.radioModel = 'Middle';

          vm.checkModel = {
            left: false,
            middle: true,
            right: false
          };
        }
    }
})();

/**=========================================================
 * Module: demo-carousel.js
 * Provides a simple demo for bootstrap ui carousel
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('CarouselDemoCtrl', CarouselDemoCtrl);

    function CarouselDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.myInterval = 5000;
          
          var slides = vm.slides = [];
          vm.addSlide = function() {
            var newWidth = 800 + slides.length;
            slides.push({
              image: '//placekitten.com/' + newWidth + '/300',
              text: ['More','Extra','Lots of','Surplus'][slides.length % 2] + ' ' +
                ['Cats', 'Kittys', 'Felines', 'Cutes'][slides.length % 2]
            });
          };
          
          for (var i=0; i<2; i++) {
            vm.addSlide();
          }

        }
    }
})();

/**=========================================================
 * Module: demo-datepicker.js
 * Provides a simple demo for bootstrap datepicker
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('DatepickerDemoCtrl', DatepickerDemoCtrl);

    function DatepickerDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.today = function() {
            vm.dt = new Date();
          };
          vm.today();

          vm.clear = function () {
            vm.dt = null;
          };

          // Disable weekend selection
          vm.disabled = function(date, mode) {
            return ( mode === 'day' && ( date.getDay() === 0 || date.getDay() === 6 ) );
          };

          vm.toggleMin = function() {
            vm.minDate = vm.minDate ? null : new Date();
          };
          vm.toggleMin();

          vm.open = function($event) {
            $event.preventDefault();
            $event.stopPropagation();

            vm.opened = true;
          };

          vm.dateOptions = {
            formatYear: 'yy',
            startingDay: 1
          };

          vm.initDate = new Date('2019-10-20');
          vm.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];
          vm.format = vm.formats[0];
        }
    }
})();


/**=========================================================
 * Module: modals.js
 * Provides a simple way to implement bootstrap modals from templates
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('ModalController', ModalController);

    ModalController.$inject = ['$modal'];
    function ModalController($modal) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.open = function (size) {

            var modalInstance = $modal.open({
              templateUrl: '/myModalContent.html',
              controller: ModalInstanceCtrl,
              size: size
            });

            var state = $('#modal-state');
            modalInstance.result.then(function () {
              state.text('Modal dismissed with OK status');
            }, function () {
              state.text('Modal dismissed with Cancel status');
            });
          };

          // Please note that $modalInstance represents a modal window (instance) dependency.
          // It is not the same as the $modal service used above.

          ModalInstanceCtrl.$inject = ['$scope', '$modalInstance'];
          function ModalInstanceCtrl($scope, $modalInstance) {

            $scope.ok = function () {
              $modalInstance.close('closed');
            };

            $scope.cancel = function () {
              $modalInstance.dismiss('cancel');
            };
          }
        }
    }

})();

/**=========================================================
 * Module: demo-pagination.js
 * Provides a simple demo for pagination
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('PaginationDemoCtrl', PaginationDemoCtrl);

    function PaginationDemoCtrl() {
        var vm = this;


        activate();

        ////////////////

        function activate() {
          vm.totalItems = 64;
          vm.currentPage = 4;

          vm.setPage = function (pageNo) {
            vm.currentPage = pageNo;
          };

          vm.pageChanged = function() {
            console.log('Page changed to: ' + vm.currentPage);
          };

          vm.maxSize = 5;
          vm.bigTotalItems = 175;
          vm.bigCurrentPage = 1;
        }
    }
})();

/**=========================================================
 * Module: demo-popover.js
 * Provides a simple demo for popovers
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('PopoverDemoCtrl', PopoverDemoCtrl);

    function PopoverDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.dynamicPopover = 'Hello, World!';
          vm.dynamicPopoverTitle = 'Title';
        }
    }
})();

/**=========================================================
 * Module: demo-progress.js
 * Provides a simple demo to animate progress bar
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('ProgressDemoCtrl', ProgressDemoCtrl);

    function ProgressDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.max = 200;

          vm.random = function() {
            var value = Math.floor((Math.random() * 100) + 1);
            var type;

            if (value < 25) {
              type = 'success';
            } else if (value < 50) {
              type = 'info';
            } else if (value < 75) {
              type = 'warning';
            } else {
              type = 'danger';
            }

            vm.showWarning = (type === 'danger' || type === 'warning');

            vm.dynamic = value;
            vm.type = type;
          };
          vm.random();

          vm.randomStacked = function() {
            vm.stacked = [];
            var types = ['success', 'info', 'warning', 'danger'];

            for (var i = 0, n = Math.floor((Math.random() * 4) + 1); i < n; i++) {
                var index = Math.floor((Math.random() * 4));
                vm.stacked.push({
                  value: Math.floor((Math.random() * 30) + 1),
                  type: types[index]
                });
            }
          };
          vm.randomStacked();
        }
    }
})();

/**=========================================================
 * Module: demo-rating.js
 * Provides a demo for ratings UI
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('RatingDemoCtrl', RatingDemoCtrl);

    function RatingDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.rate = 7;
          vm.max = 10;
          vm.isReadonly = false;

          vm.hoveringOver = function(value) {
            vm.overStar = value;
            vm.percent = 100 * (value / vm.max);
          };

          vm.ratingStates = [
            {stateOn: 'fa fa-check', stateOff: 'fa fa-check-circle'},
            {stateOn: 'fa fa-star', stateOff: 'fa fa-star-o'},
            {stateOn: 'fa fa-heart', stateOff: 'fa fa-ban'},
            {stateOn: 'fa fa-heart'},
            {stateOff: 'fa fa-power-off'}
          ];
        }
    }
})();

/**=========================================================
 * Module: demo-timepicker.js
 * Provides a simple demo for bootstrap ui timepicker
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('TimepickerDemoCtrl', TimepickerDemoCtrl);

    function TimepickerDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.mytime = new Date();

          vm.hstep = 1;
          vm.mstep = 15;

          vm.options = {
            hstep: [1, 2, 3],
            mstep: [1, 5, 10, 15, 25, 30]
          };

          vm.ismeridian = true;
          vm.toggleMode = function() {
            vm.ismeridian = ! vm.ismeridian;
          };

          vm.update = function() {
            var d = new Date();
            d.setHours( 14 );
            d.setMinutes( 0 );
            vm.mytime = d;
          };

          vm.changed = function () {
            console.log('Time changed to: ' + vm.mytime);
          };

          vm.clear = function() {
            vm.mytime = null;
          };
        }
    }
})();

/**=========================================================
 * Module: demo-tooltip.js
 * Provides a simple demo for tooltip
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('TooltipDemoCtrl', TooltipDemoCtrl);

    function TooltipDemoCtrl() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.dynamicTooltip = 'Hello, World!';
          vm.dynamicTooltipText = 'dynamic';
          vm.htmlTooltip = 'I\'ve been made <b>bold</b>!';

          vm.autoplace = function (context, source) {
            //return (predictTooltipTop(source) < 0) ?  "bottom": "top";
            var pos = 'top';
            if(predictTooltipTop(source) < 0)
              pos = 'bottom';
            if(predictTooltipLeft(source) < 0)
              pos = 'right';
            return pos;
          };

            // Predicts tooltip top position 
            // based on the trigger element
            function predictTooltipTop(el) {
              var top = el.offsetTop;
              var height = 40; // asumes ~40px tooltip height

              while(el.offsetParent) {
                el = el.offsetParent;
                top += el.offsetTop;
              }
              return (top - height) - (window.pageYOffset);
            }

            // Predicts tooltip top position 
            // based on the trigger element
            function predictTooltipLeft(el) {
              var left = el.offsetLeft;
              var width = el.offsetWidth;

              while(el.offsetParent) {
                el = el.offsetParent;
                left += el.offsetLeft;
              }
              return (left - width) - (window.pageXOffset);
            }
        }
    }
})();

/**=========================================================
 * Module: demo-typeahead.js
 * Provides a simple demo for typeahead
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.bootstrapui')
        .controller('TypeaheadCtrl', TypeaheadCtrl);

    TypeaheadCtrl.$inject = ['$http'];
    function TypeaheadCtrl($http) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.selected = undefined;
          vm.states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Dakota', 'North Carolina', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];

          // Any function returning a promise object can be used to load values asynchronously
          vm.getLocation = function(val) {
            return $http.get('//maps.googleapis.com/maps/api/geocode/json', {
              params: {
                address: val,
                sensor: false
              }
            }).then(function(res){
              var addresses = [];
              angular.forEach(res.data.results, function(item){
                /*jshint -W106*/
                addresses.push(item.formatted_address);
              });
              return addresses;
            });
          };

          vm.statesWithFlags = [{'name':'Alabama','flag':'5/5c/Flag_of_Alabama.svg/45px-Flag_of_Alabama.svg.png'},{'name':'Alaska','flag':'e/e6/Flag_of_Alaska.svg/43px-Flag_of_Alaska.svg.png'},{'name':'Arizona','flag':'9/9d/Flag_of_Arizona.svg/45px-Flag_of_Arizona.svg.png'},{'name':'Arkansas','flag':'9/9d/Flag_of_Arkansas.svg/45px-Flag_of_Arkansas.svg.png'},{'name':'California','flag':'0/01/Flag_of_California.svg/45px-Flag_of_California.svg.png'},{'name':'Colorado','flag':'4/46/Flag_of_Colorado.svg/45px-Flag_of_Colorado.svg.png'},{'name':'Connecticut','flag':'9/96/Flag_of_Connecticut.svg/39px-Flag_of_Connecticut.svg.png'},{'name':'Delaware','flag':'c/c6/Flag_of_Delaware.svg/45px-Flag_of_Delaware.svg.png'},{'name':'Florida','flag':'f/f7/Flag_of_Florida.svg/45px-Flag_of_Florida.svg.png'},{'name':'Georgia','flag':'5/54/Flag_of_Georgia_%28U.S._state%29.svg/46px-Flag_of_Georgia_%28U.S._state%29.svg.png'},{'name':'Hawaii','flag':'e/ef/Flag_of_Hawaii.svg/46px-Flag_of_Hawaii.svg.png'},{'name':'Idaho','flag':'a/a4/Flag_of_Idaho.svg/38px-Flag_of_Idaho.svg.png'},{'name':'Illinois','flag':'0/01/Flag_of_Illinois.svg/46px-Flag_of_Illinois.svg.png'},{'name':'Indiana','flag':'a/ac/Flag_of_Indiana.svg/45px-Flag_of_Indiana.svg.png'},{'name':'Iowa','flag':'a/aa/Flag_of_Iowa.svg/44px-Flag_of_Iowa.svg.png'},{'name':'Kansas','flag':'d/da/Flag_of_Kansas.svg/46px-Flag_of_Kansas.svg.png'},{'name':'Kentucky','flag':'8/8d/Flag_of_Kentucky.svg/46px-Flag_of_Kentucky.svg.png'},{'name':'Louisiana','flag':'e/e0/Flag_of_Louisiana.svg/46px-Flag_of_Louisiana.svg.png'},{'name':'Maine','flag':'3/35/Flag_of_Maine.svg/45px-Flag_of_Maine.svg.png'},{'name':'Maryland','flag':'a/a0/Flag_of_Maryland.svg/45px-Flag_of_Maryland.svg.png'},{'name':'Massachusetts','flag':'f/f2/Flag_of_Massachusetts.svg/46px-Flag_of_Massachusetts.svg.png'},{'name':'Michigan','flag':'b/b5/Flag_of_Michigan.svg/45px-Flag_of_Michigan.svg.png'},{'name':'Minnesota','flag':'b/b9/Flag_of_Minnesota.svg/46px-Flag_of_Minnesota.svg.png'},{'name':'Mississippi','flag':'4/42/Flag_of_Mississippi.svg/45px-Flag_of_Mississippi.svg.png'},{'name':'Missouri','flag':'5/5a/Flag_of_Missouri.svg/46px-Flag_of_Missouri.svg.png'},{'name':'Montana','flag':'c/cb/Flag_of_Montana.svg/45px-Flag_of_Montana.svg.png'},{'name':'Nebraska','flag':'4/4d/Flag_of_Nebraska.svg/46px-Flag_of_Nebraska.svg.png'},{'name':'Nevada','flag':'f/f1/Flag_of_Nevada.svg/45px-Flag_of_Nevada.svg.png'},{'name':'New Hampshire','flag':'2/28/Flag_of_New_Hampshire.svg/45px-Flag_of_New_Hampshire.svg.png'},{'name':'New Jersey','flag':'9/92/Flag_of_New_Jersey.svg/45px-Flag_of_New_Jersey.svg.png'},{'name':'New Mexico','flag':'c/c3/Flag_of_New_Mexico.svg/45px-Flag_of_New_Mexico.svg.png'},{'name':'New York','flag':'1/1a/Flag_of_New_York.svg/46px-Flag_of_New_York.svg.png'},{'name':'North Carolina','flag':'b/bb/Flag_of_North_Carolina.svg/45px-Flag_of_North_Carolina.svg.png'},{'name':'North Dakota','flag':'e/ee/Flag_of_North_Dakota.svg/38px-Flag_of_North_Dakota.svg.png'},{'name':'Ohio','flag':'4/4c/Flag_of_Ohio.svg/46px-Flag_of_Ohio.svg.png'},{'name':'Oklahoma','flag':'6/6e/Flag_of_Oklahoma.svg/45px-Flag_of_Oklahoma.svg.png'},{'name':'Oregon','flag':'b/b9/Flag_of_Oregon.svg/46px-Flag_of_Oregon.svg.png'},{'name':'Pennsylvania','flag':'f/f7/Flag_of_Pennsylvania.svg/45px-Flag_of_Pennsylvania.svg.png'},{'name':'Rhode Island','flag':'f/f3/Flag_of_Rhode_Island.svg/32px-Flag_of_Rhode_Island.svg.png'},{'name':'South Carolina','flag':'6/69/Flag_of_South_Carolina.svg/45px-Flag_of_South_Carolina.svg.png'},{'name':'South Dakota','flag':'1/1a/Flag_of_South_Dakota.svg/46px-Flag_of_South_Dakota.svg.png'},{'name':'Tennessee','flag':'9/9e/Flag_of_Tennessee.svg/46px-Flag_of_Tennessee.svg.png'},{'name':'Texas','flag':'f/f7/Flag_of_Texas.svg/45px-Flag_of_Texas.svg.png'},{'name':'Utah','flag':'f/f6/Flag_of_Utah.svg/45px-Flag_of_Utah.svg.png'},{'name':'Vermont','flag':'4/49/Flag_of_Vermont.svg/46px-Flag_of_Vermont.svg.png'},{'name':'Virginia','flag':'4/47/Flag_of_Virginia.svg/44px-Flag_of_Virginia.svg.png'},{'name':'Washington','flag':'5/54/Flag_of_Washington.svg/46px-Flag_of_Washington.svg.png'},{'name':'West Virginia','flag':'2/22/Flag_of_West_Virginia.svg/46px-Flag_of_West_Virginia.svg.png'},{'name':'Wisconsin','flag':'2/22/Flag_of_Wisconsin.svg/45px-Flag_of_Wisconsin.svg.png'},{'name':'Wyoming','flag':'b/bc/Flag_of_Wyoming.svg/43px-Flag_of_Wyoming.svg.png'}];

        }
    }
})();

/**=========================================================
 * Module: chartist.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('ChartistController', ChartistController);

    function ChartistController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // Line chart
          // ----------------------------------- 

          vm.lineData = {
            labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
            series: [
              [12, 9, 7, 8, 5],
              [2, 1, 3.5, 7, 3],
              [1, 3, 4, 5, 6]
            ]
          };

          vm.lineOptions = {
            fullWidth: true,
            height: 220,
            chartPadding: {
              right: 40
            }
          };

          // Bar bipolar
          // ----------------------------------- 

          vm.barBipolarOptions = {
            high: 10,
            low: -10,
            height: 220,
            axisX: {
              labelInterpolationFnc: function(value, index) {
                return index % 2 === 0 ? value : null;
              }
            }
          };

          vm.barBipolarData = {
            labels: ['W1', 'W2', 'W3', 'W4', 'W5', 'W6', 'W7', 'W8', 'W9', 'W10'],
            series: [
              [1, 2, 4, 8, 6, -2, -1, -4, -6, -2]
            ]
          };


          // Bar horizontal
          // ----------------------------------- 

          vm.barHorizontalData = {
            labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
            series: [
              [5, 4, 3, 7, 5, 10, 3],
              [3, 2, 9, 5, 4, 6, 4]
            ]
          };

          vm.barHorizontalOptions = {
            seriesBarDistance: 10,
            reverseData: true,
            horizontalBars: true,
            height: 220,
            axisY: {
              offset: 70
            }
          };

          // Smil Animations
          // ----------------------------------- 

          // Let's put a sequence number aside so we can use it in the event callbacks
          var seq = 0,
            delays = 80,
            durations = 500;

          vm.smilData = {
            labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
            series: [
              [12, 9, 7, 8, 5, 4, 6, 2, 3, 3, 4, 6],
              [4,  5, 3, 7, 3, 5, 5, 3, 4, 4, 5, 5],
              [5,  3, 4, 5, 6, 3, 3, 4, 5, 6, 3, 4],
              [3,  4, 5, 6, 7, 6, 4, 5, 6, 7, 6, 3]
            ]
          };

          vm.smilOptions = {
            low: 0,
            height: 260
          };

          vm.smilEvents = {
            created: function() {
              seq = 0;
            },
            draw: function(data) {
              seq++;

              if(data.type === 'line') {
                // If the drawn element is a line we do a simple opacity fade in. This could also be achieved using CSS3 animations.
                data.element.animate({
                  opacity: {
                    // The delay when we like to start the animation
                    begin: seq * delays + 1000,
                    // Duration of the animation
                    dur: durations,
                    // The value where the animation should start
                    from: 0,
                    // The value where it should end
                    to: 1
                  }
                });
              } else if(data.type === 'label' && data.axis === 'x') {
                data.element.animate({
                  y: {
                    begin: seq * delays,
                    dur: durations,
                    from: data.y + 100,
                    to: data.y,
                    // We can specify an easing function from Chartist.Svg.Easing
                    easing: 'easeOutQuart'
                  }
                });
              } else if(data.type === 'label' && data.axis === 'y') {
                data.element.animate({
                  x: {
                    begin: seq * delays,
                    dur: durations,
                    from: data.x - 100,
                    to: data.x,
                    easing: 'easeOutQuart'
                  }
                });
              } else if(data.type === 'point') {
                data.element.animate({
                  x1: {
                    begin: seq * delays,
                    dur: durations,
                    from: data.x - 10,
                    to: data.x,
                    easing: 'easeOutQuart'
                  },
                  x2: {
                    begin: seq * delays,
                    dur: durations,
                    from: data.x - 10,
                    to: data.x,
                    easing: 'easeOutQuart'
                  },
                  opacity: {
                    begin: seq * delays,
                    dur: durations,
                    from: 0,
                    to: 1,
                    easing: 'easeOutQuart'
                  }
                });
              } 
            }
          };


          // SVG PATH animation
          // ----------------------------------- 

          vm.pathData = {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            series: [
              [1, 5, 2, 5, 4, 3],
              [2, 3, 4, 8, 1, 2],
              [5, 4, 3, 2, 1, 0.5]
            ]
          };

          vm.pathOptions = {
            low: 0,
            showArea: true,
            showPoint: false,
            fullWidth: true,
            height: 260
          };

          vm.pathEvents = {
            draw: function(data) {
              if(data.type === 'line' || data.type === 'area') {
                data.element.animate({
                  d: {
                    begin: 2000 * data.index,
                    dur: 2000,
                    from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
                    to: data.path.clone().stringify(),
                    easing: Chartist.Svg.Easing.easeOutQuint
                  }
                });
              }
            }
          };

        }
    }
})();


/**=========================================================
 * Module: chart.controller.js
 * Controller for ChartJs
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('ChartJSController', ChartJSController);

    ChartJSController.$inject = ['Colors'];
    function ChartJSController(Colors) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // random values for demo
          var rFactor = function(){ return Math.round(Math.random()*100); };

          // Line chart
          // ----------------------------------- 

          vm.lineData = {
              labels : ['January','February','March','April','May','June','July'],
              datasets : [
                {
                  label: 'My First dataset',
                  fillColor : 'rgba(114,102,186,0.2)',
                  strokeColor : 'rgba(114,102,186,1)',
                  pointColor : 'rgba(114,102,186,1)',
                  pointStrokeColor : '#fff',
                  pointHighlightFill : '#fff',
                  pointHighlightStroke : 'rgba(114,102,186,1)',
                  data : [rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor()]
                },
                {
                  label: 'My Second dataset',
                  fillColor : 'rgba(35,183,229,0.2)',
                  strokeColor : 'rgba(35,183,229,1)',
                  pointColor : 'rgba(35,183,229,1)',
                  pointStrokeColor : '#fff',
                  pointHighlightFill : '#fff',
                  pointHighlightStroke : 'rgba(35,183,229,1)',
                  data : [rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor()]
                }
              ]
            };


          vm.lineOptions = {
            scaleShowGridLines : true,
            scaleGridLineColor : 'rgba(0,0,0,.05)',
            scaleGridLineWidth : 1,
            bezierCurve : true,
            bezierCurveTension : 0.4,
            pointDot : true,
            pointDotRadius : 4,
            pointDotStrokeWidth : 1,
            pointHitDetectionRadius : 20,
            datasetStroke : true,
            datasetStrokeWidth : 2,
            datasetFill : true,
          };


          // Bar chart
          // ----------------------------------- 

          vm.barData = {
              labels : ['January','February','March','April','May','June','July'],
              datasets : [
                {
                  fillColor : Colors.byName('info'),
                  strokeColor : Colors.byName('info'),
                  highlightFill: Colors.byName('info'),
                  highlightStroke: Colors.byName('info'),
                  data : [rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor()]
                },
                {
                  fillColor : Colors.byName('primary'),
                  strokeColor : Colors.byName('primary'),
                  highlightFill : Colors.byName('primary'),
                  highlightStroke : Colors.byName('primary'),
                  data : [rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor(),rFactor()]
                }
              ]
          };
          
          vm.barOptions = {
            scaleBeginAtZero : true,
            scaleShowGridLines : true,
            scaleGridLineColor : 'rgba(0,0,0,.05)',
            scaleGridLineWidth : 1,
            barShowStroke : true,
            barStrokeWidth : 2,
            barValueSpacing : 5,
            barDatasetSpacing : 1,
          };


          //  Doughnut chart
          // ----------------------------------- 
          
          vm.doughnutData = [
                {
                  value: 300,
                  color: Colors.byName('purple'),
                  highlight: Colors.byName('purple'),
                  label: 'Purple'
                },
                {
                  value: 50,
                  color: Colors.byName('info'),
                  highlight: Colors.byName('info'),
                  label: 'Info'
                },
                {
                  value: 100,
                  color: Colors.byName('yellow'),
                  highlight: Colors.byName('yellow'),
                  label: 'Yellow'
                }
              ];

          vm.doughnutOptions = {
            segmentShowStroke : true,
            segmentStrokeColor : '#fff',
            segmentStrokeWidth : 2,
            percentageInnerCutout : 85,
            animationSteps : 100,
            animationEasing : 'easeOutBounce',
            animateRotate : true,
            animateScale : false
          };

          // Pie chart
          // ----------------------------------- 

          vm.pieData =[
                {
                  value: 300,
                  color: Colors.byName('purple'),
                  highlight: Colors.byName('purple'),
                  label: 'Purple'
                },
                {
                  value: 40,
                  color: Colors.byName('yellow'),
                  highlight: Colors.byName('yellow'),
                  label: 'Yellow'
                },
                {
                  value: 120,
                  color: Colors.byName('info'),
                  highlight: Colors.byName('info'),
                  label: 'Info'
                }
              ];

          vm.pieOptions = {
            segmentShowStroke : true,
            segmentStrokeColor : '#fff',
            segmentStrokeWidth : 2,
            percentageInnerCutout : 0, // Setting this to zero convert a doughnut into a Pie
            animationSteps : 100,
            animationEasing : 'easeOutBounce',
            animateRotate : true,
            animateScale : false
          };

          // Polar chart
          // ----------------------------------- 
          
          vm.polarData = [
                {
                  value: 300,
                  color: Colors.byName('pink'),
                  highlight: Colors.byName('pink'),
                  label: 'Red'
                },
                {
                  value: 50,
                  color: Colors.byName('purple'),
                  highlight: Colors.byName('purple'),
                  label: 'Green'
                },
                {
                  value: 100,
                  color: Colors.byName('pink'),
                  highlight: Colors.byName('pink'),
                  label: 'Yellow'
                },
                {
                  value: 140,
                  color: Colors.byName('purple'),
                  highlight: Colors.byName('purple'),
                  label: 'Grey'
                },
              ];

          vm.polarOptions = {
            scaleShowLabelBackdrop : true,
            scaleBackdropColor : 'rgba(255,255,255,0.75)',
            scaleBeginAtZero : true,
            scaleBackdropPaddingY : 1,
            scaleBackdropPaddingX : 1,
            scaleShowLine : true,
            segmentShowStroke : true,
            segmentStrokeColor : '#fff',
            segmentStrokeWidth : 2,
            animationSteps : 100,
            animationEasing : 'easeOutBounce',
            animateRotate : true,
            animateScale : false
          };


          // Radar chart
          // ----------------------------------- 

          vm.radarData = {
            labels: ['Eating', 'Drinking', 'Sleeping', 'Designing', 'Coding', 'Cycling', 'Running'],
            datasets: [
              {
                label: 'My First dataset',
                fillColor: 'rgba(114,102,186,0.2)',
                strokeColor: 'rgba(114,102,186,1)',
                pointColor: 'rgba(114,102,186,1)',
                pointStrokeColor: '#fff',
                pointHighlightFill: '#fff',
                pointHighlightStroke: 'rgba(114,102,186,1)',
                data: [65,59,90,81,56,55,40]
              },
              {
                label: 'My Second dataset',
                fillColor: 'rgba(151,187,205,0.2)',
                strokeColor: 'rgba(151,187,205,1)',
                pointColor: 'rgba(151,187,205,1)',
                pointStrokeColor: '#fff',
                pointHighlightFill: '#fff',
                pointHighlightStroke: 'rgba(151,187,205,1)',
                data: [28,48,40,19,96,27,100]
              }
            ]
          };

          vm.radarOptions = {
            scaleShowLine : true,
            angleShowLineOut : true,
            scaleShowLabels : false,
            scaleBeginAtZero : true,
            angleLineColor : 'rgba(0,0,0,.1)',
            angleLineWidth : 1,
            /*jshint -W109*/
            pointLabelFontFamily : "'Arial'",
            pointLabelFontStyle : 'bold',
            pointLabelFontSize : 10,
            pointLabelFontColor : '#565656',
            pointDot : true,
            pointDotRadius : 3,
            pointDotStrokeWidth : 1,
            pointHitDetectionRadius : 20,
            datasetStroke : true,
            datasetStrokeWidth : 2,
            datasetFill : true
          };
        }
    }
})();

/**=========================================================
 * Module: chart.js
 * Wrapper directive for chartJS. 
 * Based on https://gist.github.com/AndreasHeiberg/9837868
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        /* Aliases for various chart types */
        .directive('linechart',     chartJS('Line')      )
        .directive('barchart',      chartJS('Bar')       )
        .directive('radarchart',    chartJS('Radar')     )
        .directive('polarchart',    chartJS('PolarArea') )
        .directive('piechart',      chartJS('Pie')       )
        .directive('doughnutchart', chartJS('Doughnut')  )
        .directive('donutchart',    chartJS('Doughnut')  )
        ;

    function chartJS(type) {
        return function() {
            return {
                restrict: 'A',
                scope: {
                    data: '=',
                    options: '=',
                    id: '@',
                    width: '=',
                    height: '=',
                    resize: '=',
                    chart: '@',
                    segments: '@',
                    responsive: '=',
                    tooltip: '=',
                    legend: '='
                },
                link: function ($scope, $elem) {
                    var ctx = $elem[0].getContext('2d');
                    var autosize = false;

                    $scope.size = function () {
                        if ($scope.width <= 0) {
                            $elem.width($elem.parent().width());
                            ctx.canvas.width = $elem.width();
                        } else {
                            ctx.canvas.width = $scope.width || ctx.canvas.width;
                            autosize = true;
                        }

                        if($scope.height <= 0){
                            $elem.height($elem.parent().height());
                            ctx.canvas.height = ctx.canvas.width / 2;
                        } else {
                            ctx.canvas.height = $scope.height || ctx.canvas.height;
                            autosize = true;
                        }
                    };

                    $scope.$watch('data', function (newVal) {
                        if(chartCreated)
                            chartCreated.destroy();

                        // if data not defined, exit
                        if (!newVal) {
                            return;
                        }
                        if ($scope.chart) { type = $scope.chart; }

                        if(autosize){
                            $scope.size();
                            chart = new Chart(ctx);
                        }

                        if($scope.responsive || $scope.resize)
                            $scope.options.responsive = true;

                        if($scope.responsive !== undefined)
                            $scope.options.responsive = $scope.responsive;

                        chartCreated = chart[type]($scope.data, $scope.options);
                        chartCreated.update();
                        if($scope.legend)
                            angular.element($elem[0]).parent().after( chartCreated.generateLegend() );
                    }, true);

                    $scope.$watch('tooltip', function (newVal) {
                        if (chartCreated)
                            chartCreated.draw();
                        if(newVal===undefined || !chartCreated.segments)
                            return;
                        if(!isFinite(newVal) || newVal >= chartCreated.segments.length || newVal < 0)
                            return;
                        var activeSegment = chartCreated.segments[newVal];
                        activeSegment.save();
                        activeSegment.fillColor = activeSegment.highlightColor;
                        chartCreated.showTooltip([activeSegment]);
                        activeSegment.restore();
                    }, true);

                    $scope.size();
                    var chart = new Chart(ctx);
                    var chartCreated;
                }
            };
        };
    }
})();





/**=========================================================
 * Module: classy-loader.js
 * Enable use of classyloader directly from data attributes
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .directive('classyloader', classyloader);

    classyloader.$inject = ['$timeout', 'Utils', '$window'];
    function classyloader ($timeout, Utils, $window) {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          var $scroller       = $($window),
              inViewFlagClass = 'js-is-in-view'; // a classname to detect when a chart has been triggered after scroll

          // run after interpolation  
          $timeout(function(){
      
            var $element = $(element),
                options  = $element.data();
            
            // At lease we need a data-percentage attribute
            if(options) {
              if( options.triggerInView ) {

                $scroller.scroll(function() {
                  checkLoaderInVIew($element, options);
                });
                // if the element starts already in view
                checkLoaderInVIew($element, options);
              }
              else
                startLoader($element, options);
            }

          }, 0);

          function checkLoaderInVIew(element, options) {
            var offset = -20;
            if( ! element.hasClass(inViewFlagClass) &&
                Utils.isInView(element, {topoffset: offset}) ) {
              startLoader(element, options);
            }
          }
          function startLoader(element, options) {
            element.ClassyLoader(options).addClass(inViewFlagClass);
          }
        }
    }

})();

(function() {
    'use strict';

    angular
        .module('app.charts')
        .service('ChartData', ChartData);

    ChartData.$inject = ['$resource'];
    function ChartData($resource) {
        this.load = load;

        ////////////////
      
        var opts = {
            get: { method: 'GET', isArray: true }
          };
        function load(source) {
          return $resource(source, {}, opts).get();
        }
    }
})();

/**=========================================================
 * Module: flot-chart.js
 * Setup options and data for flot chart directive
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('FlotChartController', FlotChartController);

    FlotChartController.$inject = ['$scope', 'ChartData', '$timeout'];
    function FlotChartController($scope, ChartData, $timeout) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // BAR
          // ----------------------------------- 
          vm.barData = ChartData.load('server/chart/bar.json');
          vm.barOptions = {
              series: {
                  bars: {
                      align: 'center',
                      lineWidth: 0,
                      show: true,
                      barWidth: 0.6,
                      fill: 0.9
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#fcfcfc',
                  mode: 'categories'
              },
              yaxis: {
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickColor: '#eee'
              },
              shadowSize: 0
          };

          // BAR STACKED
          // ----------------------------------- 
          vm.barStackeData = ChartData.load('server/chart/barstacked.json');
          vm.barStackedOptions = {
              series: {
                  stack: true,
                  bars: {
                      align: 'center',
                      lineWidth: 0,
                      show: true,
                      barWidth: 0.6,
                      fill: 0.9
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#fcfcfc',
                  mode: 'categories'
              },
              yaxis: {
                  min: 0,
                  max: 200, // optional: use it for a clear represetation
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickColor: '#eee'
              },
              shadowSize: 0
          };

          // SPLINE
          // ----------------------------------- 
          vm.splineData = ChartData.load('server/chart/spline.json');
          vm.splineOptions = {
              series: {
                  lines: {
                      show: false
                  },
                  points: {
                      show: true,
                      radius: 4
                  },
                  splines: {
                      show: true,
                      tension: 0.4,
                      lineWidth: 1,
                      fill: 0.5
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#fcfcfc',
                  mode: 'categories'
              },
              yaxis: {
                  min: 0,
                  max: 150, // optional: use it for a clear represetation
                  tickColor: '#eee',
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickFormatter: function (v) {
                      return v/* + ' visitors'*/;
                  }
              },
              shadowSize: 0
          };

          // AREA
          // ----------------------------------- 
          vm.areaData = ChartData.load('server/chart/area.json');
          vm.areaOptions = {
              series: {
                  lines: {
                      show: true,
                      fill: 0.8
                  },
                  points: {
                      show: true,
                      radius: 4
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#fcfcfc',
                  mode: 'categories'
              },
              yaxis: {
                  min: 0,
                  tickColor: '#eee',
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickFormatter: function (v) {
                      return v + ' visitors';
                  }
              },
              shadowSize: 0
          };

          // LINE
          // ----------------------------------- 
          vm.lineData = ChartData.load('server/chart/line.json');
          vm.lineOptions = {
              series: {
                  lines: {
                      show: true,
                      fill: 0.01
                  },
                  points: {
                      show: true,
                      radius: 4
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#eee',
                  mode: 'categories'
              },
              yaxis: {
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickColor: '#eee'
              },
              shadowSize: 0
          };

          // PIE
          // ----------------------------------- 
          vm.pieData = ChartData.load('server/chart/pie.json');
          vm.pieOptions = {
              series: {
                  pie: {
                      show: true,
                      innerRadius: 0,
                      label: {
                          show: true,
                          radius: 0.8,
                          formatter: function (label, series) {
                              return '<div class="flot-pie-label">' +
                              //label + ' : ' +
                              Math.round(series.percent) +
                              '%</div>';
                          },
                          background: {
                              opacity: 0.8,
                              color: '#222'
                          }
                      }
                  }
              }
          };

          // DONUT
          // ----------------------------------- 
          vm.donutData = ChartData.load('server/chart/donut.json');
          vm.donutOptions = {
              series: {
                  pie: {
                      show: true,
                      innerRadius: 0.5 // This makes the donut shape
                  }
              }
          };

          // REALTIME
          // ----------------------------------- 
          vm.realTimeOptions = {
              series: {
                lines: { show: true, fill: true, fillColor:  { colors: ['#a0e0f3', '#23b7e5'] } },
                shadowSize: 0 // Drawing is faster without shadows
              },
              grid: {
                  show:false,
                  borderWidth: 0,
                  minBorderMargin: 20,
                  labelMargin: 10
              },
              xaxis: {
                tickFormatter: function() {
                    return '';
                }
              },
              yaxis: {
                  min: 0,
                  max: 110
              },
              legend: {
                  show: true
              },
              colors: ['#23b7e5']
          };

          // Generate random data for realtime demo
          var data = [], totalPoints = 300;
            
          update();

          function getRandomData() {
            if (data.length > 0)
              data = data.slice(1);
            // Do a random walk
            while (data.length < totalPoints) {
              var prev = data.length > 0 ? data[data.length - 1] : 50,
                y = prev + Math.random() * 10 - 5;
              if (y < 0) {
                y = 0;
              } else if (y > 100) {
                y = 100;
              }
              data.push(y);
            }
            // Zip the generated y values with the x values
            var res = [];
            for (var i = 0; i < data.length; ++i) {
              res.push([i, data[i]]);
            }
            return [res];
          }
          function update() {
            vm.realTimeData = getRandomData();
            $timeout(update, 30);
          }
          // end random data generation


          // PANEL REFRESH EVENTS
          // ----------------------------------- 

          $scope.$on('panel-refresh', function(event, id) {
            
            console.log('Simulating chart refresh during 3s on #'+id);

            // Instead of timeout you can request a chart data
            $timeout(function(){
              
              // directive listen for to remove the spinner 
              // after we end up to perform own operations
              $scope.$broadcast('removeSpinner', id);
              
              console.log('Refreshed #' + id);

            }, 3000);

          });


          // PANEL DISMISS EVENTS
          // ----------------------------------- 

          // Before remove panel
          $scope.$on('panel-remove', function(event, id, deferred){
            
            console.log('Panel #' + id + ' removing');
            
            // Here is obligatory to call the resolve() if we pretend to remove the panel finally
            // Not calling resolve() will NOT remove the panel
            // It's up to your app to decide if panel should be removed or not
            deferred.resolve();
          
          });

          // Panel removed ( only if above was resolved() )
          $scope.$on('panel-removed', function(event, id){

            console.log('Panel #' + id + ' removed');

          });

        }
    }
})();

/**=========================================================
 * Module: flot.js
 * Initializes the Flot chart plugin and handles data refresh
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .directive('flot', flot);

    flot.$inject = ['$http', '$timeout'];
    function flot ($http, $timeout) {

        var directive = {
          restrict: 'EA',
          template: '<div></div>',
          scope: {
            dataset: '=?',
            options: '=',
            series: '=',
            callback: '=',
            src: '='
          },
          link: link
        };
        return directive;

        function link(scope, element, attrs) {
          var height, plot, plotArea, width;
          var heightDefault = 220;

          plot = null;

          width = attrs.width || '100%';
          height = attrs.height || heightDefault;

          plotArea = $(element.children()[0]);
          plotArea.css({
            width: width,
            height: height
          });

          function init() {
            var plotObj;
            if(!scope.dataset || !scope.options) return;
            plotObj = $.plot(plotArea, scope.dataset, scope.options);
            scope.$emit('plotReady', plotObj);
            if (scope.callback) {
              scope.callback(plotObj, scope);
            }

            return plotObj;
          }

          function onDatasetChanged(dataset) {
            if (plot) {
              plot.setData(dataset);
              plot.setupGrid();
              return plot.draw();
            } else {
              plot = init();
              onSerieToggled(scope.series);
              return plot;
            }
          }
          scope.$watchCollection('dataset', onDatasetChanged, true);

          function onSerieToggled (series) {
            if( !plot || !series ) return;
            var someData = plot.getData();
            for(var sName in series) {
              angular.forEach(series[sName], toggleFor(sName));
            }
            
            plot.setData(someData);
            plot.draw();
            
            function toggleFor(sName) {
              return function (s, i){
                if(someData[i] && someData[i][sName])
                  someData[i][sName].show = s;
              };
            }
          }
          scope.$watch('series', onSerieToggled, true);
          
          function onSrcChanged(src) {

            if( src ) {

              $http.get(src)
                .success(function (data) {

                  $timeout(function(){
                    scope.dataset = data;
                  });

              }).error(function(){
                $.error('Flot chart: Bad request.');
              });
              
            }
          }
          scope.$watch('src', onSrcChanged);

        }
    }


})();

/**=========================================================
 * Module: morris.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('ChartMorrisController', ChartMorrisController);

    ChartMorrisController.$inject = ['$timeout', 'Colors'];
    function ChartMorrisController($timeout, Colors) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
         vm.chartdata = [
              { y: '2006', a: 100, b: 90 },
              { y: '2007', a: 75,  b: 65 },
              { y: '2008', a: 50,  b: 40 },
              { y: '2009', a: 75,  b: 65 },
              { y: '2010', a: 50,  b: 40 },
              { y: '2011', a: 75,  b: 65 },
              { y: '2012', a: 100, b: 90 }
          ];

          /* test data update
          $timeout(function(){
            vm.chartdata[0].a = 50;
            vm.chartdata[0].b = 50;
          }, 3000); */

          vm.donutdata = [
            {label: 'Download Sales', value: 12},
            {label: 'In-Store Sales',value: 30},
            {label: 'Mail-Order Sales', value: 20}
          ];

          vm.donutOptions = {
            Colors: [ Colors.byName('danger'), Colors.byName('yellow'), Colors.byName('warning') ],
            resize: true
          };

          vm.barOptions = {
            xkey: 'y',
            ykeys: ['a', 'b'],
            labels: ['Series A', 'Series B'],
            xLabelMargin: 2,
            barColors: [ Colors.byName('info'), Colors.byName('danger') ],
            resize: true
          };

          vm.lineOptions = {
            xkey: 'y',
            ykeys: ['a', 'b'],
            labels: ['Serie A', 'Serie B'],
            lineColors: ['#31C0BE', '#7a92a3'],
            resize: true
          };

          vm.areaOptions = {
            xkey: 'y',
            ykeys: ['a', 'b'],
            labels: ['Serie A', 'Serie B'],
            lineColors: [ Colors.byName('purple'), Colors.byName('info') ],
            resize: true
          };

        }
    }
})();

/**=========================================================
 * Module: morris.js
 * AngularJS Directives for Morris Charts
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .directive('morrisBar',   morrisChart('Bar')   )
        .directive('morrisDonut', morrisChart('Donut') )
        .directive('morrisLine',  morrisChart('Line')  )
        .directive('morrisArea',  morrisChart('Area')  );

    function morrisChart(type) {
      return function () {
        return {
          restrict: 'EA',
          scope: {
            morrisData: '=',
            morrisOptions: '='
          },
          link: function($scope, element) {
            // start ready to watch for changes in data
            $scope.$watch('morrisData', function(newVal) {
              if (newVal) {
                $scope.morrisInstance.setData(newVal);
                $scope.morrisInstance.redraw();
              }
            }, true);
            // the element that contains the chart
            $scope.morrisOptions.element = element;
            // If data defined copy to options
            if($scope.morrisData)
              $scope.morrisOptions.data = $scope.morrisData;
            // Init chart
            $scope.morrisInstance = new Morris[type]($scope.morrisOptions);

          }
        };
      };
    }

})();

/**=========================================================
 * Module: PieChartsController.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('PieChartsController', PieChartsController);

    /*jshint -W069*/
    PieChartsController.$inject = ['Colors'];

    function PieChartsController(Colors) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // KNOB Charts

          vm.knobLoaderData1 = 80;
          vm.knobLoaderOptions1 = {
              width: '50%', // responsive
              displayInput: true,
              fgColor: Colors.byName('info')
            };

          vm.knobLoaderData2 = 45;
          vm.knobLoaderOptions2 = {
              width: '50%', // responsive
              displayInput: true,
              fgColor: Colors.byName('purple'),
              readOnly : true
            };

          vm.knobLoaderData3 = 30;
          vm.knobLoaderOptions3 = {
              width: '50%', // responsive
              displayInput: true,
              fgColor: Colors.byName('pink'),
              displayPrevious : true,
              thickness : 0.1,
              lineCap : 'round'
            };

          vm.knobLoaderData4 = 20;
          vm.knobLoaderOptions4 = {
              width: '50%', // responsive
              displayInput: true,
              fgColor: Colors.byName('info'),
              bgColor: Colors.byName('gray'),
              angleOffset: -125,
              angleArc: 250
            };

          // Easy Pie Charts

          vm.piePercent1 = 85;
          vm.piePercent2 = 45;
          vm.piePercent3 = 25;
          vm.piePercent4 = 60;

          vm.pieOptions1 = {
              animate:{
                  duration: 800,
                  enabled: true
              },
              barColor: Colors.byName('success'),
              trackColor: false,
              scaleColor: false,
              lineWidth: 10,
              lineCap: 'circle'
          };

          vm.pieOptions2= {
              animate:{
                  duration: 800,
                  enabled: true
              },
              barColor: Colors.byName('warning'),
              trackColor: false,
              scaleColor: false,
              lineWidth: 4,
              lineCap: 'circle'
          };

          vm.pieOptions3 = {
              animate:{
                  duration: 800,
                  enabled: true
              },
              barColor: Colors.byName('danger'),
              trackColor: false,
              scaleColor: Colors.byName('gray'),
              lineWidth: 15,
              lineCap: 'circle'
          };

          vm.pieOptions4 = {
              animate:{
                  duration: 800,
                  enabled: true
              },
              barColor: Colors.byName('danger'),
              trackColor: Colors.byName('yellow'),
              scaleColor: Colors.byName('gray-dark'),
              lineWidth: 15,
              lineCap: 'circle'
          };

          vm.randomize = function(type) {
            if ( type === 'easy') {
              vm.piePercent1 = random();
              vm.piePercent2 = random();
              vm.piePercent3 = random();
              vm.piePercent4 = random();
            }
            if ( type === 'knob') {
              vm.knobLoaderData1 = random();
              vm.knobLoaderData2 = random();
              vm.knobLoaderData3 = random();
              vm.knobLoaderData4 = random();
            }
          }

          function random() { return Math.floor((Math.random() * 100) + 1); }

        }
    }
})();

/**=========================================================
 * Module: rickshaw.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.charts')
        .controller('ChartRickshawController', ChartRickshawController);

    function ChartRickshawController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.renderers = [{
                  id: 'area',
                  name: 'Area'
              }, {
                  id: 'line',
                  name: 'Line'
              }, {
                  id: 'bar',
                  name: 'Bar'
              }, {
                  id: 'scatterplot',
                  name: 'Scatterplot'
              }];

          vm.palettes = [
              'spectrum14',
              'spectrum2000',
              'spectrum2001',
              'colorwheel',
              'cool',
              'classic9',
              'munin'
          ];

          vm.rendererChanged = function(id) {
              vm['options' + id] = {
                  renderer: vm['renderer' + id].id
              };
          };

          vm.paletteChanged = function(id) {
              vm['features' + id] = {
                  palette: vm['palette' + id]
              };
          };

          vm.changeSeriesData = function(id) {
              var seriesList = [];
              for (var i = 0; i < 3; i++) {
                  var series = {
                      name: 'Series ' + (i + 1),
                      data: []
                  };
                  for (var j = 0; j < 10; j++) {
                      series.data.push({x: j, y: Math.random() * 20});
                  }
                  seriesList.push(series);
                  vm['series' + id][i] = series;
              }
              //vm['series' + id] = seriesList;
          };

          vm.series0 = [];

          vm.options0 = {
            renderer: 'area'
          };

          vm.renderer0 = vm.renderers[0];
          vm.palette0 = vm.palettes[0];

          vm.rendererChanged(0);
          vm.paletteChanged(0);
          vm.changeSeriesData(0);  

          // Graph 2

          var seriesData = [ [], [], [] ];
          var random = new Rickshaw.Fixtures.RandomData(150);

          for (var i = 0; i < 150; i++) {
            random.addData(seriesData);
          }

          vm.series2 = [
            {
              color: '#c05020',
              data: seriesData[0],
              name: 'New York'
            }, {
              color: '#30c020',
              data: seriesData[1],
              name: 'London'
            }, {
              color: '#6060c0',
              data: seriesData[2],
              name: 'Tokyo'
            }
          ];

          vm.options2 = {
            renderer: 'area'
          };

        }
    }
})();

/**=========================================================
 * Module: sparkline.js
 * SparkLines Mini Charts
 =========================================================*/
 
(function() {
    'use strict';

    angular
        .module('app.charts')
        .directive('sparkline', sparkline);

    function sparkline () {
        var directive = {
            restrict: 'EA',
            scope: {
              'sparkline': '='
            },
            controller: Controller
        };
        return directive;

    }
    Controller.$inject = ['$scope', '$element', '$timeout', '$window'];
    function Controller($scope, $element, $timeout, $window) {
      var runSL = function(){
        initSparLine();
      };

      $timeout(runSL);
  
      function initSparLine() {
        var options = $scope.sparkline,
            data = $element.data();
        
        if(!options) // if no scope options, try with data attributes
          options = data;
        else
          if(data) // data attributes overrides scope options
            options = angular.extend({}, options, data);

        options.type = options.type || 'bar'; // default chart is bar
        options.disableHiddenCheck = true;

        $element.sparkline('html', options);

        if(options.resize) {
          $($window).resize(function(){
            $element.sparkline('html', options);
          });
        }
      }

    }
    

})();

(function() {
    'use strict';

    angular
        .module('app.colors')
        .constant('APP_COLORS', {
          'primary':                '#5d9cec',
          'success':                '#27c24c',
          'info':                   '#23b7e5',
          'warning':                '#ff902b',
          'danger':                 '#f05050',
          'inverse':                '#131e26',
          'green':                  '#37bc9b',
          'pink':                   '#f532e5',
          'purple':                 '#7266ba',
          'dark':                   '#3a3f51',
          'yellow':                 '#fad732',
          'gray-darker':            '#232735',
          'gray-dark':              '#3a3f51',
          'gray':                   '#dde6e9',
          'gray-light':             '#e4eaec',
          'gray-lighter':           '#edf1f2'
        })
        ;
})();
/**=========================================================
 * Module: colors.js
 * Services to retrieve global colors
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.colors')
        .service('Colors', Colors);

    Colors.$inject = ['APP_COLORS'];
    function Colors(APP_COLORS) {
        this.byName = byName;

        ////////////////

        function byName(name) {
          return (APP_COLORS[name] || '#fff');
        }
    }

})();

(function() {
    'use strict';

    angular
        .module('app.core')
        .config(coreConfig)
        .config(loopbackConfig)
    ;

    coreConfig.$inject = ['$controllerProvider', '$compileProvider', '$filterProvider', '$provide', '$httpProvider'];
    function coreConfig($controllerProvider, $compileProvider, $filterProvider, $provide, $httpProvider){
      
      var core = angular.module('app.core');
      // registering components after bootstrap
      core.controller = $controllerProvider.register;
      core.directive  = $compileProvider.directive;
      core.filter     = $filterProvider.register;
      core.factory    = $provide.factory;
      core.service    = $provide.service;
      core.constant   = $provide.constant;
      core.value      = $provide.value;

      $httpProvider.interceptors.push(["$q", "$location", "LoopBackAuth", function($q, $location, LoopBackAuth) {
        return {
          responseError: function(rejection) {
            if (rejection.status == 401) {
              LoopBackAuth.clearUser();
              LoopBackAuth.clearStorage();
              $location.path('/page/login')
            }
            return $q.reject(rejection);
          }
        };
      }]);     
    }
    
    loopbackConfig.$inject = ['LoopBackResourceProvider', 'urlBase'];
    function loopbackConfig(LoopBackResourceProvider, urlBase) {
      LoopBackResourceProvider.setUrlBase(urlBase);
    }

})();
/**=========================================================
 * Module: constants.js
 * Define constants to inject across the application
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.core')
        .constant('APP_MEDIAQUERY', {
          'desktopLG':             1200,
          'desktop':                992,
          'tablet':                 768,
          'mobile':                 480
        })
        .constant('urlBase', "http://0.0.0.0:3000/api")
        // .constant('urlBase', "http://api.fankahui.com:3000/api")
      ;

})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.core')
        .filter('role', roleFilter)
    ;

    function roleFilter() {
        var role = {
          owner: "老板",
          shopManager: "店长",
          cashier: "收银员"
        };
        return function(key) {
          return role[key];
        }
    }
    
})();
(function() {
    'use strict';

    angular
        .module('app.core')
        .run(appRun)
        .run(currentUserRun)
    ;

    appRun.$inject = ['$rootScope', '$state', '$stateParams',  '$window', '$templateCache', 'Colors'];
    
    function appRun($rootScope, $state, $stateParams, $window, $templateCache, Colors) {
      
      // Set reference to access them from any scope
      $rootScope.$state = $state;
      $rootScope.$stateParams = $stateParams;
      $rootScope.$storage = $window.localStorage;

      // Uncomment this to disable template cache
      /*$rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {
          if (typeof(toState) !== 'undefined'){
            $templateCache.remove(toState.templateUrl);
          }
      });*/

      // Allows to use branding color with interpolation
      // {{ colorByName('primary') }}
      $rootScope.colorByName = Colors.byName;

      // cancel click event easily
      $rootScope.cancel = function($event) {
        $event.stopPropagation();
      };

      // Hooks Example
      // ----------------------------------- 

      // Hook not found
      $rootScope.$on('$stateNotFound',
        function(event, unfoundState/*, fromState, fromParams*/) {
            console.log(unfoundState.to); // "lazy.state"
            console.log(unfoundState.toParams); // {a:1, b:2}
            console.log(unfoundState.options); // {inherit:false} + default options
        });
      // Hook error
      $rootScope.$on('$stateChangeError',
        function(event, toState, toParams, fromState, fromParams, error){
          console.log(error);
        });
      // Hook success
      $rootScope.$on('$stateChangeSuccess',
        function(/*event, toState, toParams, fromState, fromParams*/) {
          // display new view from top
          $window.scrollTo(0, 0);
          // Save the route title
          $rootScope.currTitle = $state.current.title;
        });

      // Load a title dynamically
      $rootScope.currTitle = $state.current.title;
      $rootScope.pageTitle = function() {
        var title = $rootScope.app.name + ' - ' + ($rootScope.currTitle || $rootScope.app.description);
        document.title = title;
        return title;
      };      

    }

    currentUserRun.$inject = ['$rootScope', 'User', '$filter'];
    
    function currentUserRun($rootScope, User, $filter) {
      
      userDidLogined();
      
      function userDidLogined() {
        if(User.isAuthenticated()) {
          User.findById({id: User.getCurrentId(), filter:{include:['shop', 'merchant']}})
          .$promise.then(function (user) {
            user.job = $filter('role')(user.role);
            user.name = user.name || user.username;
            user.picture = 'app/img/dummy.png';
            $rootScope.user = user;
          });
        }
      }
      
      $rootScope.$on('User.logined', userDidLogined);
      
    }
})();


(function() {
    'use strict';

    angular
      .module('app.costs')
      .controller('CostsController', CostsController)
      .controller('CostCategoriesController', CostCategoriesController)
      .controller('costDialogController', costDialogController)
    ;
      
    CostsController.$inject = ['$scope', 'Cost', 'ngTableParams', 'ngTableLBService', 'SweetAlert', 'ngDialog'];
    function CostsController($scope, Cost, ngTableParams, ngTableLBService, SweetAlert, ngDialog) {
      var vm = this;

      activate();

      vm.dt = {
        options: { 
          formatYear: 'yy',
          maxDate: new Date(),
          minDate: new Date(2016,1,1),
          startingDay: 1
        },
        begin: {
          dt: new Date(moment().startOf('month')),
          open: false
        },
        end: {
          dt: new Date(),
          open: false
        }
      }
      
      function activate() {
        vm.tableParams = new ngTableParams({count: 10}, {
          getData: function($defer, params) {
            var filter = {where:{
              status:{ne:'deleted'},
              modified: {between: [
                moment(vm.dt.begin.dt).startOf('day'), 
                moment(vm.dt.end.dt).endOf('day')
              ]}
            }}
            ngTableLBService.getData($defer, params, Cost, filter);
          }
        });

      }

      vm.create = function () {
        ngDialog.open({ 
          template: 'costDialogId', 
          controller: 'costDialogController'
        }).closePromise.then(function (data) {
          vm.tableParams.reload();
        });
      }
      
      vm.edit = function (entity) {
        $scope.data = entity;
        ngDialog.open({ 
          template: 'costDialogId', 
          controller: 'costDialogController',
          scope: $scope
        }).closePromise.then(function (data) {
          vm.tableParams.reload();
        });
      }
      
      vm.delete = function (entity) {
        SweetAlert.swal({   
          title: '确认删除？',   
          text: '删除以后将恢复！',   
          type: 'warning',   
          showCancelButton: true,   
          confirmButtonColor: '#DD6B55',   
          confirmButtonText: '是的，删除！',
          cancelButtonText: '不，先不删!',
          // closeOnConfirm: false
        }, function (isConfirm) {
          if(isConfirm) {
            Cost.deleteById({id: entity.id});
            vm.tableParams.reload();
          }
        });
      }
    }
    
    CostCategoriesController.$inject = ['$scope', 'Costcategory', 'SweetAlert'];
    function CostCategoriesController($scope, Costcategory, SweetAlert) {
      var vm = this;

      activate();

      function activate() {

        vm.categories = Costcategory.find({filter: {
          order: "name DESC",
          where: {status:{ne:'deleted'}}
        }});

      }
      
      vm.reload = activate();
      
      function deleteAlert(callback) {
        SweetAlert.swal({   
          title: '确认删除？',   
          text: '删除以后将无法使用分类了！',   
          type: 'warning',   
          showCancelButton: true,   
          confirmButtonColor: '#DD6B55',   
          confirmButtonText: '是的，删除！',
          cancelButtonText: '不，先不删!',
          // closeOnConfirm: false
        }, callback);
      }
      
      vm.addCategory = function (category) {
        if(category && category != '') {
          Costcategory.create({name: category}).$promise.then(activate);
        }
      }
      
      vm.updateCategory = function (category) {
        Costcategory.prototype$updateAttributes({id: category.id}, {
          status: category.status,
          name: category.name,
          subs: category.subs
        }).$promise.then(activate);
      }
      
      vm.deleteCategory = function (category) {
        deleteAlert(function (isConfirm) {
          if(isConfirm) {
            category.status = 'deleted';
            vm.updateCategory(category);
          }
        })
      }
      
      vm.addSubCategory = function (category, subcategory) {
        if(subcategory && subcategory != '' && category.subs.indexOf(subcategory) === -1) {
          category.subs.push(subcategory);
          vm.updateCategory(category);
        }
      }
      
      vm.deleteSubcategory = function (category, index) {
        // var index = category.subs.indexOf(subcategory);
        deleteAlert(function (isConfirm) {
          if(isConfirm) {
            category.subs.splice(index, 1);
            vm.updateCategory(category);
          }
        });
      }
    }

    costDialogController.$inject = ['$scope', 'ngDialog', 'Cost', 'SweetAlert', 'Costcategory', 'toaster'];
    function costDialogController($scope, ngDialog, Cost, SweetAlert, Costcategory, toaster) {

        activate();

        ////////////////

        function activate() {
          $scope.categories = Costcategory.find({filter: {
            order: "name DESC",
            where: {status:{ne:'deleted'}}
          }});
          $scope.data = $scope.data || {
            category: '请选择',
            subcategory: '分类',
            amount: 0
          };
        }

        $scope.setCategory = function (c, s) {
          $scope.data.category = c;
          $scope.data.subcategory = s;
          $scope.isCollapsed = true;
        }
        
        $scope.confirm = function () {
          if($scope.data.amount === 0) {
            return;
          }
          delete $scope.data.merchantId;
          delete $scope.data.shopId;
          delete $scope.data.created;
          delete $scope.data.operator;
          Cost.upsert($scope.data).$promise.then(function (result) {
            $scope.submiting = false;
            ngDialog.close();
            toaster.pop('success', '成功', "完成支出登记");
          }, function (err) {
            $scope.submiting = false;
            toaster.pop('error', '失败', "支出登记未完成，请重试！")
          });
          $scope.submiting = true;
        }

    }
})();
(function() {
    'use strict';

    angular
        .module('app.dashboard')
        .controller('DashboardController', DashboardController);

    DashboardController.$inject = ['$scope', 'ChartData', '$timeout', 'Checkin', 'Deal', 'Payment'];
    function DashboardController($scope, ChartData, $timeout, Checkin, Deal, Payment) {
        var vm = this;

        // Set Moment locale
        moment.locale('zh-cn');

        activate();

        ////////////////

        function activate() {
          
          if(!$scope.user) return;

          // Statistic
          // ----------------------------------- 
          vm.statData = {amount: 0, qty: 0, deposit: 0};
          
          Deal.stat({filter:{where:{status: 'closed', "payment.amount": {$gt: 0}}}}, function (res) {
            if(res.length === 0) return;
            vm.statData.amount = res[0].amount;
            vm.statData.qty = res[0].qty;
          });
          
          Payment.stat({filter:{where:{status: 'closed', category: 'deposit'}}}, function (res) {
            if(res.length === 0) return;
            vm.statData.deposit = res[0].amount;
          })
          // CHECKIN
          // ----------------------------------- 
          vm.checkins = Checkin.find({filter:{
            where: {merchantId: $scope.user.shopId},
            include: [{member: 'wxuser'}],
            limit: 10, 
            order: 'created DESC'
          }});

          // SPLINE
          // ----------------------------------- 
          vm.splineData = ChartData.load('server/chart/spline.json');
          vm.splineOptions = {
              series: {
                  lines: {
                      show: false
                  },
                  points: {
                      show: true,
                      radius: 4
                  },
                  splines: {
                      show: true,
                      tension: 0.4,
                      lineWidth: 1,
                      fill: 0.5
                  }
              },
              grid: {
                  borderColor: '#eee',
                  borderWidth: 1,
                  hoverable: true,
                  backgroundColor: '#fcfcfc'
              },
              tooltip: true,
              tooltipOpts: {
                  content: function (label, x, y) { return x + ' : ' + y; }
              },
              xaxis: {
                  tickColor: '#fcfcfc',
                  mode: 'categories'
              },
              yaxis: {
                  min: 0,
                  max: 150, // optional: use it for a clear represetation
                  tickColor: '#eee',
                  position: ($scope.app.layout.isRTL ? 'right' : 'left'),
                  tickFormatter: function (v) {
                      return v/* + ' visitors'*/;
                  }
              },
              shadowSize: 0
          };


          // PANEL REFRESH EVENTS
          // ----------------------------------- 

          $scope.$on('panel-refresh', function(event, id) {
            
            console.log('Simulating chart refresh during 3s on #'+id);

            // Instead of timeout you can request a chart data
            $timeout(function(){
              
              // directive listen for to remove the spinner 
              // after we end up to perform own operations
              $scope.$broadcast('removeSpinner', id);
              
              console.log('Refreshed #' + id);

            }, 3000);

          });


          // PANEL DISMISS EVENTS
          // ----------------------------------- 

          // Before remove panel
          $scope.$on('panel-remove', function(event, id, deferred){
            
            console.log('Panel #' + id + ' removing');
            
            // Here is obligatory to call the resolve() if we pretend to remove the panel finally
            // Not calling resolve() will NOT remove the panel
            // It's up to your app to decide if panel should be removed or not
            deferred.resolve();
          
          });

          // Panel removed ( only if above was resolved() )
          $scope.$on('panel-removed', function(event, id){

            console.log('Panel #' + id + ' removed');

          });

        }
        
        $scope.$on('User.logined', activate);
        
    }
})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.dashboard')
        .filter('moment_unix', momentUnixFilter)
        .filter('moment_from_now', momentFromNowFilter)
        .filter('moment_unix_from_now', momentUnixFromNowFilter)
    ;

    function momentUnixFilter(input, format) {
      return moment.unix(input).format(format || 'YYYY-MM-DD HH:mm:ss');
    }
    momentUnixFilter.$inject = ["input", "format"];
    
    function momentFromNowFilter() {
      return function (input) {
        return moment(input).fromNow();
      };
    }

    function momentUnixFromNowFilter(input) {
      return moment.unix(input).fromNow();
    }
    momentUnixFromNowFilter.$inject = ["input"];

})();

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('AngularCarouselController', AngularCarouselController);

    function AngularCarouselController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.colors = ['#fc0003', '#f70008', '#f2000d', '#ed0012', '#e80017', '#e3001c', '#de0021', '#d90026', '#d4002b', '#cf0030', '#c90036', '#c4003b', '#bf0040', '#ba0045', '#b5004a', '#b0004f', '#ab0054', '#a60059', '#a1005e', '#9c0063', '#960069', '#91006e', '#8c0073', '#870078', '#82007d', '#7d0082', '#780087', '#73008c', '#6e0091', '#690096', '#63009c', '#5e00a1', '#5900a6', '#5400ab', '#4f00b0', '#4a00b5', '#4500ba', '#4000bf', '#3b00c4', '#3600c9', '#3000cf', '#2b00d4', '#2600d9', '#2100de', '#1c00e3', '#1700e8', '#1200ed', '#0d00f2', '#0800f7', '#0300fc'];

          function getSlide(target, style) {
              var i = target.length;
              return {
                  id: (i + 1),
                  label: 'slide #' + (i + 1),
                  img: 'http://lorempixel.com/1200/500/' + style + '/' + ((i + 1) % 10) ,
                  color: vm.colors[ (i*10) % vm.colors.length],
                  odd: (i % 2 === 0)
              };
          }

          function addSlide(target, style) {
              target.push(getSlide(target, style));
          }

          vm.carouselIndex = 3;
          vm.carouselIndex2 = 0;
          vm.carouselIndex2 = 1;
          vm.carouselIndex3 = 5;
          vm.carouselIndex4 = 5;

          function addSlides(target, style, qty) {
              for (var i=0; i < qty; i++) {
                  addSlide(target, style);
              }
          }

          // 1st ngRepeat demo
          vm.slides = [];
          addSlides(vm.slides, 'sports', 50);

          // 2nd ngRepeat demo
          vm.slides2 = [];
          addSlides(vm.slides2, 'sports', 10);

          // 3rd ngRepeat demo
          vm.slides3 = [];
          addSlides(vm.slides3, 'people', 50);

          // 4th ngRepeat demo
          vm.slides4 = [];
          addSlides(vm.slides4, 'city', 50);


          // 5th ngRepeat demo
          vm.slides6 = [];
          vm.carouselIndex6 = 0;
          addSlides(vm.slides6, 'sports', 10);
          vm.addSlide = function(at) {
              if(at==='head') {
                  vm.slides6.unshift(getSlide(vm.slides6, 'people'));
              } else {
                  vm.slides6.push(getSlide(vm.slides6, 'people'));
              }
          };
        }
    }
})();

/**=========================================================
 * Module: demo-dialog.js
 * Demo for multiple ngDialog Usage
 * - ngDialogProvider for default values not supported 
 *   using lazy loader. Include plugin in base.js instead.
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('DialogIntroCtrl', DialogIntroCtrl)
        .controller('DialogMainCtrl', DialogMainCtrl)
        .controller('InsideCtrl', InsideCtrl)
        .controller('SecondModalCtrl', SecondModalCtrl);

    DialogIntroCtrl.$inject = ['$scope', 'ngDialog', 'tpl'];
    // Called from the route state. 'tpl' is resolved before
    function DialogIntroCtrl($scope, ngDialog, tpl) {
        
        activate();

        ////////////////

        function activate() {
          // share with other controllers
          $scope.tpl = tpl;
          // open dialog window
          ngDialog.open({
            template: tpl.path,
            // plain: true,
            className: 'ngdialog-theme-default'
          });
        }
    }

    DialogMainCtrl.$inject = ['$scope', '$rootScope', 'ngDialog'];
    // Loads from view
    function DialogMainCtrl($scope, $rootScope, ngDialog) {

        activate();

        ////////////////

        function activate() {
          $rootScope.jsonData = '{"foo": "bar"}';
          $rootScope.theme = 'ngdialog-theme-default';

          $scope.directivePreCloseCallback = function (value) {
            if(confirm('Close it? MainCtrl.Directive. (Value = ' + value + ')')) {
              return true;
            }
            return false;
          };

          $scope.preCloseCallbackOnScope = function (value) {
            if(confirm('Close it? MainCtrl.OnScope (Value = ' + value + ')')) {
              return true;
            }
            return false;
          };

          $scope.open = function () {
            ngDialog.open({ template: 'firstDialogId', controller: 'InsideCtrl', data: {foo: 'some data'} });
          };

          $scope.openDefault = function () {
            ngDialog.open({
              template: 'firstDialogId',
              controller: 'InsideCtrl',
              className: 'ngdialog-theme-default'
            });
          };

          $scope.openDefaultWithPreCloseCallbackInlined = function () {
            ngDialog.open({
              template: 'firstDialogId',
              controller: 'InsideCtrl',
              className: 'ngdialog-theme-default',
              preCloseCallback: function(value) {
                if (confirm('Close it?  (Value = ' + value + ')')) {
                  return true;
                }
                return false;
              }
            });
          };

          $scope.openConfirm = function () {
            ngDialog.openConfirm({
              template: 'modalDialogId',
              className: 'ngdialog-theme-default'
            }).then(function (value) {
              console.log('Modal promise resolved. Value: ', value);
            }, function (reason) {
              console.log('Modal promise rejected. Reason: ', reason);
            });
          };

          $scope.openConfirmWithPreCloseCallbackOnScope = function () {
            ngDialog.openConfirm({
              template: 'modalDialogId',
              className: 'ngdialog-theme-default',
              preCloseCallback: 'preCloseCallbackOnScope',
              scope: $scope
            }).then(function (value) {
              console.log('Modal promise resolved. Value: ', value);
            }, function (reason) {
              console.log('Modal promise rejected. Reason: ', reason);
            });
          };

          $scope.openConfirmWithPreCloseCallbackInlinedWithNestedConfirm = function () {
            ngDialog.openConfirm({
              template: 'dialogWithNestedConfirmDialogId',
              className: 'ngdialog-theme-default',
              preCloseCallback: function(/*value*/) {

                var nestedConfirmDialog = ngDialog.openConfirm({
                  template:
                      '<p>Are you sure you want to close the parent dialog?</p>' +
                      '<div>' +
                        '<button type="button" class="btn btn-default" ng-click="closeThisDialog(0)">No' +
                        '<button type="button" class="btn btn-primary" ng-click="confirm(1)">Yes' +
                      '</button></div>',
                  plain: true,
                  className: 'ngdialog-theme-default'
                });

                return nestedConfirmDialog;
              },
              scope: $scope
            })
            .then(function(value){
              console.log('resolved:' + value);
              // Perform the save here
            }, function(value){
              console.log('rejected:' + value);

            });
          };

          $scope.openInlineController = function () {
            $rootScope.theme = 'ngdialog-theme-default';

            ngDialog.open({
              template: 'withInlineController',
              controller: ['$scope', '$timeout', function ($scope, $timeout) {
                var counter = 0;
                var timeout;
                function count() {
                  $scope.exampleExternalData = 'Counter ' + (counter++);
                  timeout = $timeout(count, 450);
                }
                count();
                $scope.$on('$destroy', function () {
                  $timeout.cancel(timeout);
                });
              }],
              className: 'ngdialog-theme-default'
            });
          };

          $scope.openTemplate = function () {
            $scope.value = true;

            ngDialog.open({
              template: $scope.tpl.path,
              className: 'ngdialog-theme-default',
              scope: $scope
            });
          };

          $scope.openTemplateNoCache = function () {
            $scope.value = true;

            ngDialog.open({
              template: $scope.tpl.path,
              className: 'ngdialog-theme-default',
              scope: $scope,
              cache: false
            });
          };

          $scope.openTimed = function () {
            var dialog = ngDialog.open({
              template: '<p>Just passing through!</p>',
              plain: true,
              closeByDocument: false,
              closeByEscape: false
            });
            setTimeout(function () {
              dialog.close();
            }, 2000);
          };

          $scope.openNotify = function () {
            var dialog = ngDialog.open({
              template:
                '<p>You can do whatever you want when I close, however that happens.</p>' +
                '<div><button type="button" class="btn btn-primary" ng-click="closeThisDialog(1)">Close Me</button></div>',
              plain: true
            });
            dialog.closePromise.then(function (data) {
              console.log('ngDialog closed' + (data.value === 1 ? ' using the button' : '') + ' and notified by promise: ' + data.id);
            });
          };

          $scope.openWithoutOverlay = function () {
            ngDialog.open({
              template: '<h2>Notice that there is no overlay!</h2>',
              className: 'ngdialog-theme-default',
              plain: true,
              overlay: false
            });
          };

          $rootScope.$on('ngDialog.opened', function (e, $dialog) {
            console.log('ngDialog opened: ' + $dialog.attr('id'));
          });

          $rootScope.$on('ngDialog.closed', function (e, $dialog) {
            console.log('ngDialog closed: ' + $dialog.attr('id'));
          });

          $rootScope.$on('ngDialog.closing', function (e, $dialog) {
            console.log('ngDialog closing: ' + $dialog.attr('id'));
          });
        }
    
    } // DialogMainCtrl


    InsideCtrl.$inject = ['$scope', 'ngDialog'];
    function InsideCtrl($scope, ngDialog) {

        activate();

        ////////////////

        function activate() {
          $scope.dialogModel = {
            message : 'message from passed scope'
          };
          $scope.openSecond = function () {
            ngDialog.open({
              template: '<p class="lead m0"><a href="" ng-click="closeSecond()">Close all by click here!</a></h3>',
              plain: true,
              closeByEscape: false,
              controller: 'SecondModalCtrl'
            });
          };
        }
    }

    SecondModalCtrl.$inject = ['$scope', 'ngDialog'];
    function SecondModalCtrl($scope, ngDialog) {

        activate();

        ////////////////

        function activate() {
          $scope.closeSecond = function () {
            ngDialog.close();
          };
        }

    }


})();




/**=========================================================
 * Module: calendar-ui.js
 * This script handle the calendar demo with draggable 
 * events and events creations
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('InfiniteScrollController', InfiniteScrollController)
        .factory('datasource', datasource);

    function InfiniteScrollController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.images = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

          vm.loadMore = function() {
            var last = vm.images[vm.images.length - 1];
            for(var i = 1; i <= 10; i++) {
              vm.images.push(last + i);
            }
          };
        }
    }
    
    datasource.$inject = ['$log', '$timeout'];
    function datasource(console, $timeout) {

        var get = function(index, count, success) {
            return $timeout(function() {
                var i, result, _i, _ref;
                result = [];
                for (i = _i = index, _ref = index + count - 1; index <= _ref ? _i <= _ref : _i >= _ref; i = index <= _ref ? ++_i : --_i) {
                    result.push('item #' + i);
                }
                return success(result);
            }, 100);
        };
        return {
            get: get
        };
    }

})();

/**=========================================================
 * Module: masonry-deck.js
 * Demo for Angular Deck
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('MasonryDeckController', MasonryDeckController)
        .directive('imageloaded', imageloaded); // required by demo

    MasonryDeckController.$inejct = ['RouteHelpers'];
    function MasonryDeckController(RouteHelpers) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.basepath = RouteHelpers.basepath;

          vm.photos = [
              {id: 'photo-1', name: 'Awesome photo', src: 'http://lorempixel.com/400/300/abstract'},
              {id: 'photo-2', name: 'Great photo', src: 'http://lorempixel.com/450/400/city'},
              {id: 'photo-3', name: 'Strange photo', src: 'http://lorempixel.com/400/300/people'},
              {id: 'photo-4', name: 'A photo?', src: 'http://lorempixel.com/400/300/transport'},
              {id: 'photo-5', name: 'What a photo', src: 'http://lorempixel.com/450/300/fashion'},
              {id: 'photo-6', name: 'Silly photo', src: 'http://lorempixel.com/400/300/technics'},
              {id: 'photo-7', name: 'Weird photo', src: 'http://lorempixel.com/410/350/sports'},
              {id: 'photo-8', name: 'Modern photo', src: 'http://lorempixel.com/400/300/nightlife'},
              {id: 'photo-9', name: 'Classical photo', src: 'http://lorempixel.com/400/300/nature'},
              {id: 'photo-10', name: 'Dynamic photo', src: 'http://lorempixel.com/420/300/abstract'},
              {id: 'photo-11', name: 'Neat photo', src: 'http://lorempixel.com/400/300/sports'},
              {id: 'photo-12', name: 'Bumpy photo', src: 'http://lorempixel.com/400/300/nightlife'},
              {id: 'photo-13', name: 'Brilliant photo', src: 'http://lorempixel.com/400/380/nature'},
              {id: 'photo-14', name: 'Excellent photo', src: 'http://lorempixel.com/480/300/technics'},
              {id: 'photo-15', name: 'Gorgeous photo', src: 'http://lorempixel.com/400/300/sports'},
              {id: 'photo-16', name: 'Lovely photo', src: 'http://lorempixel.com/400/300/nightlife'},
              {id: 'photo-17', name: 'A "wow" photo', src: 'http://lorempixel.com/400/300/nature'},
              {id: 'photo-18', name: 'Bodacious photo', src: 'http://lorempixel.com/400/300/abstract'}
          ];
        }
    }
    MasonryDeckController.$inject = ["RouteHelpers"];

    // Add class to img element when source is loaded
    function imageloaded () {
        // Copyright(c) 2013 André König <akoenig@posteo.de>
        // MIT Licensed
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element, attrs) {
          var cssClass = attrs.loadedclass;

          element.bind('load', function () {
              angular.element(element).addClass(cssClass);
          });
        }
    }

})();



/**=========================================================
 * Module: access-login.js
 * Demo for login api
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('AbnTestController', AbnTestController);

    AbnTestController.$inject = ['$timeout', '$resource'];
    function AbnTestController($timeout, $resource) {
        var vm = this;

        activate();

        ////////////////

        /*jshint -W106*/
        function activate() {
          vm.my_tree_handler = function(branch) {

            vm.output = 'You selected: ' + branch.label;

            if (branch.data && branch.data.description) {
              vm.output += '(' + branch.data.description + ')';
              return vm.output;
            }
          };

          // onSelect event handlers
          var apple_selected = function(branch) {
            vm.output = 'APPLE! : ' + branch.label;
            return vm.output;
          };

          var treedata_avm = [
            {
              label: 'Animal',
              children: [
                {
                  label: 'Dog',
                  data: {
                    description: 'man\'s best friend'
                  }
                }, {
                  label: 'Cat',
                  data: {
                    description: 'Felis catus'
                  }
                }, {
                  label: 'Hippopotamus',
                  data: {
                    description: 'hungry, hungry'
                  }
                }, {
                  label: 'Chicken',
                  children: ['White Leghorn', 'Rhode Island Red', 'Jersey Giant']
                }
              ]
            }, {
              label: 'Vegetable',
              data: {
                definition: 'A plant or part of a plant used as food, typically as accompaniment to meat or fish, such as a cabbage, potato, carrot, or bean.',
                data_can_contain_anything: true
              },
              onSelect: function(branch) {
                vm.output = 'Vegetable: ' + branch.data.definition;
                return vm.output;
              },
              children: [
                {
                  label: 'Oranges'
                }, {
                  label: 'Apples',
                  children: [
                    {
                      label: 'Granny Smith',
                      onSelect: apple_selected
                    }, {
                      label: 'Red Delicous',
                      onSelect: apple_selected
                    }, {
                      label: 'Fuji',
                      onSelect: apple_selected
                    }
                  ]
                }
              ]
            }, {
              label: 'Mineral',
              children: [
                {
                  label: 'Rock',
                  children: ['Igneous', 'Sedimentary', 'Metamorphic']
                }, {
                  label: 'Metal',
                  children: ['Aluminum', 'Steel', 'Copper']
                }, {
                  label: 'Plastic',
                  children: [
                    {
                      label: 'Thermoplastic',
                      children: ['polyethylene', 'polypropylene', 'polystyrene', ' polyvinyl chloride']
                    }, {
                      label: 'Thermosetting Polymer',
                      children: ['polyester', 'polyurethane', 'vulcanized rubber', 'bakelite', 'urea-formaldehyde']
                    }
                  ]
                }
              ]
            }
          ];
          
          var treedata_geography = [
            {
              label: 'North America',
              children: [
                {
                  label: 'Canada',
                  children: ['Toronto', 'Vancouver']
                }, {
                  label: 'USA',
                  children: ['New York', 'Los Angeles']
                }, {
                  label: 'Mexico',
                  children: ['Mexico City', 'Guadalajara']
                }
              ]
            }, {
              label: 'South America',
              children: [
                {
                  label: 'Venezuela',
                  children: ['Caracas', 'Maracaibo']
                }, {
                  label: 'Brazil',
                  children: ['Sao Paulo', 'Rio de Janeiro']
                }, {
                  label: 'Argentina',
                  children: ['Buenos Aires', 'Cordoba']
                }
              ]
            }
          ];

          vm.my_data = treedata_avm;
          vm.try_changing_the_tree_data = function() {
            if (vm.my_data === treedata_avm) {
              vm.my_data = treedata_geography;
            } else {
              vm.my_data = treedata_avm;
            }
            return vm.my_data;
          };
          
          var tree;
          // This is our API control variable
          vm.my_tree = tree = {};
          vm.try_async_load = function() {
            
            vm.my_data = [];
            vm.doing_async = true;
            
            // Request tree data via $resource
            var remoteTree = $resource('server/treedata.json');
            
            return remoteTree.get(function(res){
              
              vm.my_data = res.data;

              vm.doing_async = false;
            
              return tree.expand_all();
            
            // we must return a promise so the plugin 
            // can watch when it's resolved
            }).$promise;
          };
          
          // Adds a new branch to the tree
          vm.try_adding_a_branch = function() {
            var b;
            b = tree.get_selected_branch();
            return tree.add_branch(b, {
              label: 'New Branch',
              data: {
                something: 42,
                'else': 43
              }
            });
          };

        }
    }
})();


/**=========================================================
 * Module: nestable.js
 * Nestable controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('NestableController', NestableController);

    function NestableController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.items =  [
            {
              item: {text: 'a'},
              children: []
            },
            {
              item: {text: 'b'},
              children: [
                {
                  item: {text: 'c'},
                  children: []
                },
                {
                  item: {text: 'd'},
                  children: []
                }
              ]
            },
            {
              item: {text: 'e'},
              children: []
            },
            {
              item: {text: 'f'},
              children: []
            }
          ];

          vm.items2 =  [
            {
              item: {text: '1'},
              children: []
            },
            {
              item: {text: '2'},
              children: [
                {
                  item: {text: '3'},
                  children: []
                },
                {
                  item: {text: '4'},
                  children: []
                }
              ]
            },
            {
              item: {text: '5'},
              children: []
            },
            {
              item: {text: '6'},
              children: []
            }
          ];

        }
    }
})();

/**=========================================================
 * Module: scroll.js
 * Make a content box scrollable
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .directive('scrollable', scrollable);

    function scrollable () {
        var directive = {
            link: link,
            restrict: 'EA'
        };
        return directive;

        function link(scope, element, attrs) {
          var defaultHeight = 250;
          element.slimScroll({
              height: (attrs.height || defaultHeight)
          });
        }
    }

})();

/**=========================================================
 * Module: sortable.js
 * Sortable controller
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('SortableController', SortableController);

    SortableController.$inject = ['$scope'];
    function SortableController($scope) {
        // doesn't support controllerAs syntax https://github.com/voidberg/html5sortable/issues/86

        activate();

        ////////////////

        function activate() {
          // Single List
          $scope.data1 = [
            { id: 1, name: 'Donald Hoffman' },
            { id: 2, name: 'Wallace Barrett' },
            { id: 3, name: 'Marsha Hicks' },
            { id: 4, name: 'Roland Brown' }
          ];

          $scope.add = function () {
            $scope.data1.push({id: $scope.data1.length + 1, name: 'Earl Knight'});
          };

          $scope.sortableCallback = function (sourceModel, destModel, start, end) {
            console.log(start + ' -> ' + end);
          };
          
          $scope.sortableOptions = {
              placeholder: '<div class="box-placeholder p0 m0"><div></div></div>',
              forcePlaceholderSize: true
          };
        }
    }

})();

/**=========================================================
 * Module: sweetalert.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('SweetAlertController', SweetAlertController);

    SweetAlertController.$inject = ['SweetAlert'];
    function SweetAlertController(SweetAlert) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.demo1 = function() {
            SweetAlert.swal('Here\'s a message');
          };

          vm.demo2 = function() {
            SweetAlert.swal('Here\'s a message!', 'It\'s pretty, isn\'t it?');
          };

          vm.demo3 = function() {
            SweetAlert.swal('Good job!', 'You clicked the button!', 'success');
          };

          vm.demo4 = function() {
            SweetAlert.swal({   
              title: 'Are you sure?',   
              text: 'Your will not be able to recover this imaginary file!',   
              type: 'warning',   
              showCancelButton: true,   
              confirmButtonColor: '#DD6B55',   
              confirmButtonText: 'Yes, delete it!',
              closeOnConfirm: false
            },  function(){  
              SweetAlert.swal('Booyah!');
            });
          };

          vm.demo5 = function() {
            SweetAlert.swal({   
              title: 'Are you sure?',   
              text: 'Your will not be able to recover this imaginary file!',   
              type: 'warning',   
              showCancelButton: true,   
              confirmButtonColor: '#DD6B55',   
              confirmButtonText: 'Yes, delete it!',   
              cancelButtonText: 'No, cancel plx!',   
              closeOnConfirm: false,   
              closeOnCancel: false 
            }, function(isConfirm){  
              if (isConfirm) {     
                SweetAlert.swal('Deleted!', 'Your imaginary file has been deleted.', 'success');   
              } else {     
                SweetAlert.swal('Cancelled', 'Your imaginary file is safe :)', 'error');   
              } 
            });
          };

          vm.demo6 = function() {
            SweetAlert.swal({   
              title: 'Sweet!',   
              text: 'Here\'s a custom image.',   
              imageUrl: 'http://oitozero.com/img/avatar.jpg' 
            });
          };
        }
    }
})();

/**=========================================================
 * Module: demo-toaster.js
 * Demos for toaster notifications
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('ToasterDemoCtrl', ToasterDemoCtrl);

    ToasterDemoCtrl.$inject = ['toaster'];
    function ToasterDemoCtrl(toaster) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.toaster = {
              type:  'success',
              title: 'Title',
              text:  'Message'
          };

          vm.pop = function() {
            toaster.pop(vm.toaster.type, vm.toaster.title, vm.toaster.text);
          };
        }
    }
})();

/**=========================================================
 * Module: tour.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.elements')
        .controller('TourCtrl', TourCtrl);

    TourCtrl.$inject = ['$scope'];
    function TourCtrl($scope) {

        activate();

        ////////////////

        function activate() {
          // BootstrapTour is not compatible with z-index based layout
          // so adding position:static for this case makes the browser
          // to ignore the property
          var section = angular.element('.wrapper > section');
          section.css({'position': 'static'});
          // finally restore on destroy and reuse the value declared in stylesheet
          $scope.$on('$destroy', function(){
            section.css({'position': ''});
          });
        }
    }
})();

/**=========================================================
 * Module: article.js
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.extras')
        .controller('ArticleController', ArticleController);

    function ArticleController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.htmlContent = 'Article content...';

          vm.postDemo = {};
          vm.postDemo.tags = ['coding', 'less'];
          vm.availableTags = ['coding', 'less', 'sass', 'angularjs', 'node', 'expressJS'];
          vm.postDemo.categories = ['JAVASCRIPT','WEB'];
          vm.availableCategories = ['JAVASCRIPT','WEB', 'BOOTSTRAP', 'SERVER', 'HTML5', 'CSS'];

          vm.reviewers = [
            { name: 'Adam',      email: 'adam@email.com',      age: 10 },
            { name: 'Amalie',    email: 'amalie@email.com',    age: 12 },
            { name: 'Wladimir',  email: 'wladimir@email.com',  age: 30 },
            { name: 'Samantha',  email: 'samantha@email.com',  age: 31 },
            { name: 'Estefanía', email: 'estefanía@email.com', age: 16 },
            { name: 'Natasha',   email: 'natasha@email.com',   age: 54 },
            { name: 'Nicole',    email: 'nicole@email.com',    age: 43 },
            { name: 'Adrian',    email: 'adrian@email.com',    age: 21 }
          ];


          vm.alerts = [
            { type: 'info', msg: 'There is an autosaved version of this article that is more recent than the version below. <a href="#" class="text-white">Restore</a>' }
          ];

          vm.closeAlert = function(index) {
            vm.alerts.splice(index, 1);
          };
        }
    }
})();

/**=========================================================
 * Module: calendar-ui.js
 * This script handle the calendar demo with draggable 
 * events and events creations
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.extras')
        .directive('calendar', calendar);

    calendar.$inject = ['$rootScope'];
    function calendar ($rootScope) {
        var directive = {
            link: link,
            restrict: 'EA'
        };
        return directive;

        function link(scope, element) {
          
          if(!$.fn.fullCalendar) return;
          
          // The element that will display the calendar
          var calendar = element;

          var demoEvents = createDemoEvents();

          initExternalEvents(calendar);

          initCalendar(calendar, demoEvents, $rootScope.app.layout.isRTL);
        }
    }


    // global shared var to know what we are dragging
    var draggingEvent = null;


    /**
     * ExternalEvent object
     * @param jQuery Object elements Set of element as jQuery objects
     */
    function ExternalEvent(elements) {
        
        if (!elements) return;
        
        elements.each(function() {
            var $this = $(this);
            // create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)
            // it doesn't need to have a start or end
            var calendarEventObject = {
                title: $.trim($this.text()) // use the element's text as the event title
            };

            // store the Event Object in the DOM element so we can get to it later
            $this.data('calendarEventObject', calendarEventObject);

            // make the event draggable using jQuery UI
            $this.draggable({
                zIndex: 1070,
                revert: true, // will cause the event to go back to its
                revertDuration: 0  //  original position after the drag
            });

        });
    }

    /**
     * Invoke full calendar plugin and attach behavior
     * @param  jQuery [calElement] The calendar dom element wrapped into jQuery
     * @param  EventObject [events] An object with the event list to load when the calendar displays
     */
    function initCalendar(calElement, events, isRTL) {

        // check to remove elements from the list
        var removeAfterDrop = $('#remove-after-drop');

        calElement.fullCalendar({
            isRTL: isRTL,
            header: {
                left:   'prev,next today',
                center: 'title',
                right:  'month,agendaWeek,agendaDay'
            },
            buttonIcons: { // note the space at the beginning
                prev:    ' fa fa-caret-left',
                next:    ' fa fa-caret-right'
            },
            buttonText: {
                today: 'today',
                month: 'month',
                week:  'week',
                day:   'day'
            },
            editable: true,
            droppable: true, // this allows things to be dropped onto the calendar 
            drop: function(date, allDay) { // this function is called when something is dropped
                
                var $this = $(this),
                    // retrieve the dropped element's stored Event Object
                    originalEventObject = $this.data('calendarEventObject');

                // if something went wrong, abort
                if(!originalEventObject) return;

                // clone the object to avoid multiple events with reference to the same object
                var clonedEventObject = $.extend({}, originalEventObject);

                // assign the reported date
                clonedEventObject.start = date;
                clonedEventObject.allDay = allDay;
                clonedEventObject.backgroundColor = $this.css('background-color');
                clonedEventObject.borderColor = $this.css('border-color');

                // render the event on the calendar
                // the last `true` argument determines if the event "sticks" 
                // (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
                calElement.fullCalendar('renderEvent', clonedEventObject, true);
                
                // if necessary remove the element from the list
                if(removeAfterDrop.is(':checked')) {
                  $this.remove();
                }
            },
            eventDragStart: function (event/*, js, ui*/) {
              draggingEvent = event;
            },
            // This array is the events sources
            events: events
        });
    }

    /**
     * Inits the external events panel
     * @param  jQuery [calElement] The calendar dom element wrapped into jQuery
     */
    function initExternalEvents(calElement){
      // Panel with the external events list
      var externalEvents = $('.external-events');

      // init the external events in the panel
      new ExternalEvent(externalEvents.children('div'));

      // External event color is danger-red by default
      var currColor = '#f6504d';
      // Color selector button
      var eventAddBtn = $('.external-event-add-btn');
      // New external event name input
      var eventNameInput = $('.external-event-name');
      // Color switchers
      var eventColorSelector = $('.external-event-color-selector .circle');

      // Trash events Droparea 
      $('.external-events-trash').droppable({
        accept:       '.fc-event',
        activeClass:  'active',
        hoverClass:   'hovered',
        tolerance:    'touch',
        drop: function(event, ui) {
          
          // You can use this function to send an ajax request
          // to remove the event from the repository
          
          if(draggingEvent) {
            var eid = draggingEvent.id || draggingEvent._id;
            // Remove the event
            calElement.fullCalendar('removeEvents', eid);
            // Remove the dom element
            ui.draggable.remove();
            // clear
            draggingEvent = null;
          }
        }
      });

      eventColorSelector.click(function(e) {
          e.preventDefault();
          var $this = $(this);

          // Save color
          currColor = $this.css('background-color');
          // De-select all and select the current one
          eventColorSelector.removeClass('selected');
          $this.addClass('selected');
      });

      eventAddBtn.click(function(e) {
          e.preventDefault();
          
          // Get event name from input
          var val = eventNameInput.val();
          // Dont allow empty values
          if ($.trim(val) === '') return;
          
          // Create new event element
          var newEvent = $('<div/>').css({
                              'background-color': currColor,
                              'border-color':     currColor,
                              'color':            '#fff'
                          })
                          .html(val);

          // Prepends to the external events list
          externalEvents.prepend(newEvent);
          // Initialize the new event element
          new ExternalEvent(newEvent);
          // Clear input
          eventNameInput.val('');
      });
    }

    /**
     * Creates an array of events to display in the first load of the calendar
     * Wrap into this function a request to a source to get via ajax the stored events
     * @return Array The array with the events
     */
    function createDemoEvents() {
      // Date for the calendar events (dummy data)
      var date = new Date();
      var d = date.getDate(),
          m = date.getMonth(),
          y = date.getFullYear();

      return  [
                {
                    title: 'All Day Event',
                    start: new Date(y, m, 1),
                    backgroundColor: '#f56954', //red 
                    borderColor: '#f56954' //red
                },
                {
                    title: 'Long Event',
                    start: new Date(y, m, d - 5),
                    end: new Date(y, m, d - 2),
                    backgroundColor: '#f39c12', //yellow
                    borderColor: '#f39c12' //yellow
                },
                {
                    title: 'Meeting',
                    start: new Date(y, m, d, 10, 30),
                    allDay: false,
                    backgroundColor: '#0073b7', //Blue
                    borderColor: '#0073b7' //Blue
                },
                {
                    title: 'Lunch',
                    start: new Date(y, m, d, 12, 0),
                    end: new Date(y, m, d, 14, 0),
                    allDay: false,
                    backgroundColor: '#00c0ef', //Info (aqua)
                    borderColor: '#00c0ef' //Info (aqua)
                },
                {
                    title: 'Birthday Party',
                    start: new Date(y, m, d + 1, 19, 0),
                    end: new Date(y, m, d + 1, 22, 30),
                    allDay: false,
                    backgroundColor: '#00a65a', //Success (green)
                    borderColor: '#00a65a' //Success (green)
                },
                {
                    title: 'Open Google',
                    start: new Date(y, m, 28),
                    end: new Date(y, m, 29),
                    url: '//google.com/',
                    backgroundColor: '#3c8dbc', //Primary (light-blue)
                    borderColor: '#3c8dbc' //Primary (light-blue)
                }
            ];
    }

})();

(function() {
    'use strict';

    angular
        .module('app.extras')
        .service('LoadTreeService', LoadTreeService);

    LoadTreeService.$inject = ['$resource'];
    function LoadTreeService($resource) {
        // Loads the list of files to populate the treeview
        return $resource('server/editor/filetree.json');
    }

})();
/**=========================================================
 * Module: code-editor.js
 * Codemirror code editor controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.extras')
        .controller('CodeEditorController', CodeEditorController);

    CodeEditorController.$inject = ['$rootScope', '$scope', '$http', '$ocLazyLoad', 'filetree'];
    function CodeEditorController($rootScope, $scope, $http, $ocLazyLoad, filetree) {
        var vm = this;

        layout();
        activate();

        ////////////////
        /*jshint -W106*/
        function layout() {
          // Setup the layout mode 
          $rootScope.app.useFullLayout = true;
          $rootScope.app.hiddenFooter = true;
          $rootScope.app.layout.isCollapsed = true;
          
          // Restore layout for demo
          $scope.$on('$destroy', function(){
              $rootScope.app.useFullLayout = false;
              $rootScope.app.hiddenFooter = false;
          });

        }

        function activate() {

          // Set the tree data into the scope
          vm.filetree_data = filetree;

          // Available themes
          vm.editorThemes = ['3024-day','3024-night','ambiance-mobile','ambiance','base16-dark','base16-light','blackboard','cobalt','eclipse','elegant','erlang-dark','lesser-dark','mbo','mdn-like','midnight','monokai','neat','neo','night','paraiso-dark','paraiso-light','pastel-on-dark','rubyblue','solarized','the-matrix','tomorrow-night-eighties','twilight','vibrant-ink','xq-dark','xq-light'];

          vm.editorOpts = {
            mode: 'javascript',
            lineNumbers: true,
            matchBrackets: true,
            theme: 'mbo',
            viewportMargin: Infinity
          };

          vm.refreshEditor = 0;

          // Load dinamically the stylesheet for the selected theme
          // You can use ozLazyLoad to load also the mode js based 
          // on the file extension that is loaded (see handle_filetree)
          vm.loadTheme = function() {
            var BASE = 'vendor/codemirror/theme/';
            $ocLazyLoad.load(BASE + vm.editorOpts.theme + '.css');
            vm.refreshEditor = !vm.refreshEditor;
          };
          // load default theme
          vm.loadTheme(vm.editorOpts.theme);
          // Add some initial text
          vm.code = '// Open a file from the left menu \n' +
                        '// It will be requested to the server and loaded into the editor\n' +
                        '// Also try adding a New File from the toolbar\n';


          // Tree

          var selectedBranch;
          vm.handle_filetree = function(branch) {
            
            selectedBranch = branch;

            var basePath = 'server/editor/';
            var isFolder = !!branch.children.length;

            console.log('You selected: ' + branch.label + ' - isFolder? ' + isFolder);

            if ( ! isFolder ) {

              $http
                .get( basePath + branch.path )
                .success(function(response){
                  
                  console.log('Loaded.. ' + branch.path);
                  // set the new code into the editor
                  vm.code = response;
                  
                  vm.editorOpts.mode = detectMode(branch.path);
                  console.log( 'Mode is: ' + vm.editorOpts.mode);

                });
            }
          };

          function detectMode(file) {
            var ext = file.split('.');
            ext = ext ? ext[ext.length - 1] : '';
            switch (ext) {
              case 'html':  return 'htmlmixed';
              case 'css':   return 'css';
              default:      return 'javascript';
            }
          }

          var tree;
          tree = vm.filetree = {};

          // Adds a new branch to the tree
          vm.new_filetree = function() {
            var b;
            b = tree.get_selected_branch();

            // if we select a leaf -> select the parent folder
            if ( b && b.children.length === 0 ) {
              b = tree.get_parent_branch(b);
            }
            
            return tree.add_branch(b, {
              'label': 'another.html',
              'path': 'source/another.html'
            });
          };
        }
    }
})();


(function() {
    'use strict';

    angular
        .module('app.extras')
        .controller('TodoController', TodoController);

    TodoController.$inject = ['$filter'];
    function TodoController($filter) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
           vm.items = [
            {
              todo: {title: 'Meeting with Mark at 7am.', description: 'Pellentesque convallis mauris eu elit imperdiet quis eleifend quam aliquet. '},
              complete: true
            },
            {
              todo: {title: 'Call Sonya. Talk about the new project.', description: ''},
              complete: false
            },
            {
              todo: {title: 'Find a new place for vacations', description: ''},
              complete: false
            }
            ];
          
          vm.editingTodo = false;
          vm.todo = {};

          vm.addTodo = function() {
            
            if( vm.todo.title === '' ) return;
            if( !vm.todo.description ) vm.todo.description = '';
            
            if( vm.editingTodo ) {
              vm.todo = {};
              vm.editingTodo = false;
            }
            else {
              vm.items.push({todo: angular.copy(vm.todo), complete: false});
              vm.todo.title = '';
              vm.todo.description = '';
            }
          };
          
          vm.editTodo = function(index, $event) {
            $event.preventDefault();
            $event.stopPropagation();
            vm.todo = vm.items[index].todo;
            vm.editingTodo = true;
          };

          vm.removeTodo = function(index/*, $event*/) {
            vm.items.splice(index, 1);
          };
          
          vm.clearAll = function() {
            vm.items = [];
          };

          vm.totalCompleted = function() {
            return $filter('filter')(vm.items, function(item){
              return item.complete;
            }).length;
          };

          vm.totalPending = function() {
            return $filter('filter')(vm.items, function(item){
              return !item.complete;
            }).length;
          };

        }
    }
})();

/**=========================================================
 * Module: word-cloud.js
 * Controller for jqCloud
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.extras')
        .controller('WordCloudController', WordCloudController);

    function WordCloudController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.words = [
              {
                text: 'Lorem',
                weight: 13
                //link: 'http://themicon.co'
              }, {
                text: 'Ipsum',
                weight: 10.5
              }, {
                text: 'Dolor',
                weight: 9.4
              }, {
                text: 'Sit',
                weight: 8
              }, {
                text: 'Amet',
                weight: 6.2
              }, {
                text: 'Consectetur',
                weight: 5
              }, {
                text: 'Adipiscing',
                weight: 5
              }, {
                text: 'Sit',
                weight: 8
              }, {
                text: 'Amet',
                weight: 6.2
              }, {
                text: 'Consectetur',
                weight: 5
              }, {
                text: 'Adipiscing',
                weight: 5
              }
          ];
        }
    }
})();

/**=========================================================
 * Module: flatdoc.js
 * Creates the flatdoc markup and initializes the plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.flatdoc')
        .directive('flatdoc', flatdoc);

    function flatdoc () {

        var directive = {
            template: '<div role="flatdoc"><div role="flatdoc-menu"></div><div role="flatdoc-content"></div></div>',
            link: link,
            restrict: 'EA'
        };
        return directive;

        function link(scope, element, attrs) {
          Flatdoc.run({
            fetcher: Flatdoc.file(attrs.src)
          });
          
          var $root = $('html, body');
          $(document).on('flatdoc:ready', function() {
            var docMenu = $('[role="flatdoc-menu"]');
            docMenu.find('a').on('click', function(e) {
              e.preventDefault(); e.stopPropagation();
              
              var $this = $(this);
              
              docMenu.find('a.active').removeClass('active');
              $this.addClass('active');

              $root.animate({
                    scrollTop: $(this.getAttribute('href')).offset().top - ($('.topnavbar').height() + 10)
                }, 800);
            });

          });
        }
    }


})();

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('ColorPickerController', ColorPickerController);

    function ColorPickerController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
           vm.hexPicker = {
              color: ''
            };

            vm.rgbPicker = {
              color: ''
            };

            vm.rgbaPicker = {
              color: ''
            };

            vm.nonInput = {
              color: ''
            };

            vm.resetColor = function() {
              vm.hexPicker = {
                color: '#ff0000'
              };
            };

            vm.resetRBGColor = function() {
              vm.rgbPicker = {
                color: 'rgb(255,255,255)'
              };
            };

            vm.resetRBGAColor = function() {
              vm.rgbaPicker = {
                color: 'rgb(255,255,255, 0.25)'
              };
            };

            vm.resetNonInputColor = function() {
              vm.nonInput = {
                color: '#ffffff'
              };
            };
        }
    }
})();
/**=========================================================
 * Module: filestyle.js
 * Initializes the fielstyle plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .directive('filestyle', filestyle);

    function filestyle () {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          var options = element.data();
          
          // old usage support
          options.classInput = element.data('classinput') || options.classInput;
          
          element.filestyle(options);
        }
    }

})();

/**=========================================================
 * Module: form-imgcrop.js
 * Image crop controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('ImageCropController', ImageCropController);

    ImageCropController.$inject = ['$scope'];
    function ImageCropController($scope) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.reset = function() {
            vm.myImage        = '';
            vm.myCroppedImage = '';
            vm.imgcropType    = 'square';
          };

          vm.reset();

          var handleFileSelect=function(evt) {
            var file=evt.currentTarget.files[0];
            var reader = new FileReader();
            reader.onload = function (evt) {
              $scope.$apply(function(/*$scope*/){
                vm.myImage=evt.target.result;
              });
            };
            if(file)
              reader.readAsDataURL(file);
          };
          
          angular.element(document.querySelector('#fileInput')).on('change',handleFileSelect);
        }
    }
})();

/**=========================================================
 * Module: FormValidationController
 * Input validation with UI Validate
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('FormValidationController', FormValidationController);

    function FormValidationController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.notBlackListed = function(value) {
            var blacklist = ['some@mail.com','another@email.com'];
            return blacklist.indexOf(value) === -1;
          };

          vm.words = function(value) {
            return value && value.split(' ').length;
          };

          vm.submitted = false;
          vm.validateInput = function(name, type) {
            var input = vm.formValidate[name];
            return (input.$dirty || vm.submitted) && input.$error[type];
          };

          // Submit form
          vm.submitForm = function() {
            vm.submitted = true;
            if (vm.formValidate.$valid) {
              console.log('Submitted!!');
            } else {
              console.log('Not valid!!');
              return false;
            }
          };
        }
    }
})();

/**=========================================================
 * Module: form-wizard.js
 * Handles form wizard plugin and validation
 =========================================================*/


(function() {
    'use strict';

    angular
        .module('app.forms')
        .directive('formWizard', formWizard);

    formWizard.$inject = ['$parse'];
    function formWizard ($parse) {
        var directive = {
            link: link,
            restrict: 'A',
            scope: true
        };
        return directive;

        function link(scope, element, attrs) {
          var validate = $parse(attrs.validateSteps)(scope),
              wiz = new Wizard(attrs.steps, !!validate, element);
          scope.wizard = wiz.init();
        }

        function Wizard (quantity, validate, element) {
          
          var self = this;
          self.quantity = parseInt(quantity,10);
          self.validate = validate;
          self.element = element;
          
          self.init = function() {
            self.createsteps(self.quantity);
            self.go(1); // always start at fist step
            return self;
          };

          self.go = function(step) {
            
            if ( angular.isDefined(self.steps[step]) ) {

              if(self.validate && step !== 1) {
                var form = $(self.element),
                    group = form.children().children('div').get(step - 2);

                if (false === form.parsley().validate( group.id )) {
                  return false;
                }
              }

              self.cleanall();
              self.steps[step] = true;
            }
          };

          self.active = function(step) {
            return !!self.steps[step];
          };

          self.cleanall = function() {
            for(var i in self.steps){
              self.steps[i] = false;
            }
          };

          self.createsteps = function(q) {
            self.steps = [];
            for(var i = 1; i <= q; i++) self.steps[i] = false;
          };

        }
    }


})();

/**=========================================================
 * Module: form-xeditable.js
 * Form xEditable controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('FormxEditableController', FormxEditableController);

    FormxEditableController.$inject = ['$scope', 'editableOptions', 'editableThemes', '$filter', '$http'];
    function FormxEditableController($scope, editableOptions, editableThemes, $filter, $http) {
        var vm = this;
        vm.title = 'Controller';

        activate();

        ////////////////

        function activate() {

          editableOptions.theme = 'bs3';

          editableThemes.bs3.inputClass = 'input-sm';
          editableThemes.bs3.buttonsClass = 'btn-sm';
          editableThemes.bs3.submitTpl = '<button type="submit" class="btn btn-success"><span class="fa fa-check"></span></button>';
          editableThemes.bs3.cancelTpl = '<button type="button" class="btn btn-default" ng-click="$form.$cancel()">'+
                                           '<span class="fa fa-times text-muted"></span>'+
                                         '</button>';

          vm.user = {
            email: 'email@example.com',
            tel: '123-45-67',
            number: 29,
            range: 10,
            url: 'http://example.com',
            search: 'blabla',
            color: '#6a4415',
            date: null,
            time: new Date(),
            datetime: null,
            month: null,
            week: null,
            desc: 'Sed pharetra euismod dolor, id feugiat ante volutpat eget. '
          };

          // Local select
          // ----------------------------------- 

          vm.user2 = {
            status: 2
          };

          vm.statuses = [
            {value: 1, text: 'status1'},
            {value: 2, text: 'status2'},
            {value: 3, text: 'status3'},
            {value: 4, text: 'status4'}
          ];

          vm.showStatus = function() {
            var selected = $filter('filter')(vm.statuses, {value: vm.user2.status});
            return (vm.user2.status && selected.length) ? selected[0].text : 'Not set';
          };

          // select remote
          // ----------------------------------- 

          vm.user3 = {
            id: 4,
            text: 'admin' // original value
          };

          vm.groups = [];

          vm.loadGroups = function() {
            return vm.groups.length ? null : $http.get('server/xeditable-groups.json').success(function(data) {
              vm.groups = data;
            });
          };

          $scope.$watch('user3.id', function(newVal, oldVal) {
            if (newVal !== oldVal) {
              var selected = $filter('filter')(vm.groups, {id: vm.user3.id});
              vm.user3.text = selected.length ? selected[0].text : null;
            }
          });

          // Typeahead
          // ----------------------------------- 

          vm.user4 = {
            state: 'Arizona'
          };

          vm.states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Dakota', 'North Carolina', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];

        }
    }
})();


(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('FormDemoCtrl', FormDemoCtrl);

    FormDemoCtrl.$inject = ['$resource'];
    function FormDemoCtrl($resource) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          // the following allow to request array $resource instead of object (default)
          var actions = {'get': {method: 'GET', isArray: true}};
          
          // Tags inputs
          // ----------------------------------- 
          var Cities = $resource('server/cities.json', {}, actions);

          Cities.get(function(data){

              vm.cities = data;

          });
          // for non ajax form just fill the scope variable
          // vm.cities = ['Amsterdam','Washington','Sydney','Beijing','Cairo'];

          // Slider demo values
          vm.slider1 = 5;
          vm.slider2 = 10;
          vm.slider3 = 15;
          vm.slider4 = 20;
          vm.slider5 = 25;
          vm.slider6 = 30;
          vm.slider7 = 10;
          vm.slider8 = [250,750];

          // Chosen data
          // ----------------------------------- 

          var States = $resource('server/chosen-states.json', {},  {'query':    {method:'GET', isArray:true} });

          vm.states = States.query();


          vm.alertSubmit = function(){
            alert('Form submitted!');
            return false;
          };

          // Angular wysiwyg 
          // ----------------------------------- 

          vm.wysiwygContent = '<p> Write something here.. </p>';

          // Text Angular (wysiwyg)
          // ----------------------------------- 
          
          vm.htmlContent = '<h2>Try me!</h2><p>textAngular is a super cool WYSIWYG Text Editor directive for AngularJS</p><p><b>Features:</b></p><ol><li>Automatic Seamless Two-Way-Binding</li><li style="color: blue;">Super Easy <b>Theming</b> Options</li><li>Simple Editor Instance Creation</li><li>Safely Parses Html for Custom Toolbar Icons</li><li>Doesn&apos;t Use an iFrame</li><li>Works with Firefox, Chrome, and IE8+</li></ol><p><a href="https://github.com/fraywing/textAngular">Source</a> </p>';

        }
    }
})();

/**=========================================================
 * Module: masked,js
 * Initializes the masked inputs
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .directive('masked', masked);

    function masked () {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          var $elem = $(element);
          if($.fn.inputmask)
            $elem.inputmask();
        }
    }

})();

/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.forms')
        .filter('propsFilter', propsFilter);

    function propsFilter() {
        return filterFilter;

        ////////////////
        function filterFilter(items, props) {
          var out = [];

          if (angular.isArray(items)) {
            items.forEach(function(item) {
              var itemMatches = false;

              var keys = Object.keys(props);
              for (var i = 0; i < keys.length; i++) {
                var prop = keys[i];
                var text = props[prop].toLowerCase();
                if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {
                  itemMatches = true;
                  break;
                }
              }

              if (itemMatches) {
                out.push(item);
              }
            });
          } else {
            // Let the output be the input untouched
            out = items;
          }

          return out;
        }
    }

})();
/**=========================================================
 * Module: tags-input.js
 * Initializes the tag inputs plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .directive('tagsinput', tagsinput);

    tagsinput.$inject = ['$timeout'];
    function tagsinput ($timeout) {
        var directive = {
            link: link,
            require: 'ngModel',
            restrict: 'A'
        };
        return directive;

        function link(scope, element, attrs, ngModel) {
          element.on('itemAdded itemRemoved', function(){
            // check if view value is not empty and is a string
            // and update the view from string to an array of tags
            if(ngModel.$viewValue && ngModel.$viewValue.split) {
              ngModel.$setViewValue( ngModel.$viewValue.split(',') );
              ngModel.$render();
            }
          });

          $timeout(function(){
            element.tagsinput();
          });
        }
    }

})();

/**=========================================================
 * Module: uiselect.js
 * uiSelect controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('uiSelectController', uiSelectController);

    uiSelectController.$inject = ['$scope', '$http'];
    function uiSelectController($scope, $http) {
        /* jshint validthis:true */
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.disabled = undefined;

          vm.enable = function() {
            vm.disabled = false;
          };

          vm.disable = function() {
            vm.disabled = true;
          };

          vm.clear = function() {
            vm.person.selected = undefined;
            vm.address.selected = undefined;
            vm.country.selected = undefined;
          };

          vm.person = {};
          vm.people = [
            { name: 'Adam',      email: 'adam@email.com',      age: 10 },
            { name: 'Amalie',    email: 'amalie@email.com',    age: 12 },
            { name: 'Wladimir',  email: 'wladimir@email.com',  age: 30 },
            { name: 'Samantha',  email: 'samantha@email.com',  age: 31 },
            { name: 'Estefanía', email: 'estefanía@email.com', age: 16 },
            { name: 'Natasha',   email: 'natasha@email.com',   age: 54 },
            { name: 'Nicole',    email: 'nicole@email.com',    age: 43 },
            { name: 'Adrian',    email: 'adrian@email.com',    age: 21 }
          ];

          vm.address = {};
          vm.refreshAddresses = function(address) {
            var params = {address: address, sensor: false};
            return $http.get(
              '//maps.googleapis.com/maps/api/geocode/json',
              {params: params}
            ).then(function(response) {
              vm.addresses = response.data.results;
            });
          };

          vm.country = {};
          vm.countries = [ // Taken from https://gist.github.com/unceus/6501985
            {name: 'Afghanistan', code: 'AF'},
            {name: 'Åland Islands', code: 'AX'},
            {name: 'Albania', code: 'AL'},
            {name: 'Algeria', code: 'DZ'},
            {name: 'American Samoa', code: 'AS'},
            {name: 'Andorra', code: 'AD'},
            {name: 'Angola', code: 'AO'},
            {name: 'Anguilla', code: 'AI'},
            {name: 'Antarctica', code: 'AQ'},
            {name: 'Antigua and Barbuda', code: 'AG'},
            {name: 'Argentina', code: 'AR'},
            {name: 'Armenia', code: 'AM'},
            {name: 'Aruba', code: 'AW'},
            {name: 'Australia', code: 'AU'},
            {name: 'Austria', code: 'AT'},
            {name: 'Azerbaijan', code: 'AZ'},
            {name: 'Bahamas', code: 'BS'},
            {name: 'Bahrain', code: 'BH'},
            {name: 'Bangladesh', code: 'BD'},
            {name: 'Barbados', code: 'BB'},
            {name: 'Belarus', code: 'BY'},
            {name: 'Belgium', code: 'BE'},
            {name: 'Belize', code: 'BZ'},
            {name: 'Benin', code: 'BJ'},
            {name: 'Bermuda', code: 'BM'},
            {name: 'Bhutan', code: 'BT'},
            {name: 'Bolivia', code: 'BO'},
            {name: 'Bosnia and Herzegovina', code: 'BA'},
            {name: 'Botswana', code: 'BW'},
            {name: 'Bouvet Island', code: 'BV'},
            {name: 'Brazil', code: 'BR'},
            {name: 'British Indian Ocean Territory', code: 'IO'},
            {name: 'Brunei Darussalam', code: 'BN'},
            {name: 'Bulgaria', code: 'BG'},
            {name: 'Burkina Faso', code: 'BF'},
            {name: 'Burundi', code: 'BI'},
            {name: 'Cambodia', code: 'KH'},
            {name: 'Cameroon', code: 'CM'},
            {name: 'Canada', code: 'CA'},
            {name: 'Cape Verde', code: 'CV'},
            {name: 'Cayman Islands', code: 'KY'},
            {name: 'Central African Republic', code: 'CF'},
            {name: 'Chad', code: 'TD'},
            {name: 'Chile', code: 'CL'},
            {name: 'China', code: 'CN'},
            {name: 'Christmas Island', code: 'CX'},
            {name: 'Cocos (Keeling) Islands', code: 'CC'},
            {name: 'Colombia', code: 'CO'},
            {name: 'Comoros', code: 'KM'},
            {name: 'Congo', code: 'CG'},
            {name: 'Congo, The Democratic Republic of the', code: 'CD'},
            {name: 'Cook Islands', code: 'CK'},
            {name: 'Costa Rica', code: 'CR'},
            {name: 'Cote D\'Ivoire', code: 'CI'},
            {name: 'Croatia', code: 'HR'},
            {name: 'Cuba', code: 'CU'},
            {name: 'Cyprus', code: 'CY'},
            {name: 'Czech Republic', code: 'CZ'},
            {name: 'Denmark', code: 'DK'},
            {name: 'Djibouti', code: 'DJ'},
            {name: 'Dominica', code: 'DM'},
            {name: 'Dominican Republic', code: 'DO'},
            {name: 'Ecuador', code: 'EC'},
            {name: 'Egypt', code: 'EG'},
            {name: 'El Salvador', code: 'SV'},
            {name: 'Equatorial Guinea', code: 'GQ'},
            {name: 'Eritrea', code: 'ER'},
            {name: 'Estonia', code: 'EE'},
            {name: 'Ethiopia', code: 'ET'},
            {name: 'Falkland Islands (Malvinas)', code: 'FK'},
            {name: 'Faroe Islands', code: 'FO'},
            {name: 'Fiji', code: 'FJ'},
            {name: 'Finland', code: 'FI'},
            {name: 'France', code: 'FR'},
            {name: 'French Guiana', code: 'GF'},
            {name: 'French Polynesia', code: 'PF'},
            {name: 'French Southern Territories', code: 'TF'},
            {name: 'Gabon', code: 'GA'},
            {name: 'Gambia', code: 'GM'},
            {name: 'Georgia', code: 'GE'},
            {name: 'Germany', code: 'DE'},
            {name: 'Ghana', code: 'GH'},
            {name: 'Gibraltar', code: 'GI'},
            {name: 'Greece', code: 'GR'},
            {name: 'Greenland', code: 'GL'},
            {name: 'Grenada', code: 'GD'},
            {name: 'Guadeloupe', code: 'GP'},
            {name: 'Guam', code: 'GU'},
            {name: 'Guatemala', code: 'GT'},
            {name: 'Guernsey', code: 'GG'},
            {name: 'Guinea', code: 'GN'},
            {name: 'Guinea-Bissau', code: 'GW'},
            {name: 'Guyana', code: 'GY'},
            {name: 'Haiti', code: 'HT'},
            {name: 'Heard Island and Mcdonald Islands', code: 'HM'},
            {name: 'Holy See (Vatican City State)', code: 'VA'},
            {name: 'Honduras', code: 'HN'},
            {name: 'Hong Kong', code: 'HK'},
            {name: 'Hungary', code: 'HU'},
            {name: 'Iceland', code: 'IS'},
            {name: 'India', code: 'IN'},
            {name: 'Indonesia', code: 'ID'},
            {name: 'Iran, Islamic Republic Of', code: 'IR'},
            {name: 'Iraq', code: 'IQ'},
            {name: 'Ireland', code: 'IE'},
            {name: 'Isle of Man', code: 'IM'},
            {name: 'Israel', code: 'IL'},
            {name: 'Italy', code: 'IT'},
            {name: 'Jamaica', code: 'JM'},
            {name: 'Japan', code: 'JP'},
            {name: 'Jersey', code: 'JE'},
            {name: 'Jordan', code: 'JO'},
            {name: 'Kazakhstan', code: 'KZ'},
            {name: 'Kenya', code: 'KE'},
            {name: 'Kiribati', code: 'KI'},
            {name: 'Korea, Democratic People\'s Republic of', code: 'KP'},
            {name: 'Korea, Republic of', code: 'KR'},
            {name: 'Kuwait', code: 'KW'},
            {name: 'Kyrgyzstan', code: 'KG'},
            {name: 'Lao People\'s Democratic Republic', code: 'LA'},
            {name: 'Latvia', code: 'LV'},
            {name: 'Lebanon', code: 'LB'},
            {name: 'Lesotho', code: 'LS'},
            {name: 'Liberia', code: 'LR'},
            {name: 'Libyan Arab Jamahiriya', code: 'LY'},
            {name: 'Liechtenstein', code: 'LI'},
            {name: 'Lithuania', code: 'LT'},
            {name: 'Luxembourg', code: 'LU'},
            {name: 'Macao', code: 'MO'},
            {name: 'Macedonia, The Former Yugoslav Republic of', code: 'MK'},
            {name: 'Madagascar', code: 'MG'},
            {name: 'Malawi', code: 'MW'},
            {name: 'Malaysia', code: 'MY'},
            {name: 'Maldives', code: 'MV'},
            {name: 'Mali', code: 'ML'},
            {name: 'Malta', code: 'MT'},
            {name: 'Marshall Islands', code: 'MH'},
            {name: 'Martinique', code: 'MQ'},
            {name: 'Mauritania', code: 'MR'},
            {name: 'Mauritius', code: 'MU'},
            {name: 'Mayotte', code: 'YT'},
            {name: 'Mexico', code: 'MX'},
            {name: 'Micronesia, Federated States of', code: 'FM'},
            {name: 'Moldova, Republic of', code: 'MD'},
            {name: 'Monaco', code: 'MC'},
            {name: 'Mongolia', code: 'MN'},
            {name: 'Montserrat', code: 'MS'},
            {name: 'Morocco', code: 'MA'},
            {name: 'Mozambique', code: 'MZ'},
            {name: 'Myanmar', code: 'MM'},
            {name: 'Namibia', code: 'NA'},
            {name: 'Nauru', code: 'NR'},
            {name: 'Nepal', code: 'NP'},
            {name: 'Netherlands', code: 'NL'},
            {name: 'Netherlands Antilles', code: 'AN'},
            {name: 'New Caledonia', code: 'NC'},
            {name: 'New Zealand', code: 'NZ'},
            {name: 'Nicaragua', code: 'NI'},
            {name: 'Niger', code: 'NE'},
            {name: 'Nigeria', code: 'NG'},
            {name: 'Niue', code: 'NU'},
            {name: 'Norfolk Island', code: 'NF'},
            {name: 'Northern Mariana Islands', code: 'MP'},
            {name: 'Norway', code: 'NO'},
            {name: 'Oman', code: 'OM'},
            {name: 'Pakistan', code: 'PK'},
            {name: 'Palau', code: 'PW'},
            {name: 'Palestinian Territory, Occupied', code: 'PS'},
            {name: 'Panama', code: 'PA'},
            {name: 'Papua New Guinea', code: 'PG'},
            {name: 'Paraguay', code: 'PY'},
            {name: 'Peru', code: 'PE'},
            {name: 'Philippines', code: 'PH'},
            {name: 'Pitcairn', code: 'PN'},
            {name: 'Poland', code: 'PL'},
            {name: 'Portugal', code: 'PT'},
            {name: 'Puerto Rico', code: 'PR'},
            {name: 'Qatar', code: 'QA'},
            {name: 'Reunion', code: 'RE'},
            {name: 'Romania', code: 'RO'},
            {name: 'Russian Federation', code: 'RU'},
            {name: 'Rwanda', code: 'RW'},
            {name: 'Saint Helena', code: 'SH'},
            {name: 'Saint Kitts and Nevis', code: 'KN'},
            {name: 'Saint Lucia', code: 'LC'},
            {name: 'Saint Pierre and Miquelon', code: 'PM'},
            {name: 'Saint Vincent and the Grenadines', code: 'VC'},
            {name: 'Samoa', code: 'WS'},
            {name: 'San Marino', code: 'SM'},
            {name: 'Sao Tome and Principe', code: 'ST'},
            {name: 'Saudi Arabia', code: 'SA'},
            {name: 'Senegal', code: 'SN'},
            {name: 'Serbia and Montenegro', code: 'CS'},
            {name: 'Seychelles', code: 'SC'},
            {name: 'Sierra Leone', code: 'SL'},
            {name: 'Singapore', code: 'SG'},
            {name: 'Slovakia', code: 'SK'},
            {name: 'Slovenia', code: 'SI'},
            {name: 'Solomon Islands', code: 'SB'},
            {name: 'Somalia', code: 'SO'},
            {name: 'South Africa', code: 'ZA'},
            {name: 'South Georgia and the South Sandwich Islands', code: 'GS'},
            {name: 'Spain', code: 'ES'},
            {name: 'Sri Lanka', code: 'LK'},
            {name: 'Sudan', code: 'SD'},
            {name: 'Suriname', code: 'SR'},
            {name: 'Svalbard and Jan Mayen', code: 'SJ'},
            {name: 'Swaziland', code: 'SZ'},
            {name: 'Sweden', code: 'SE'},
            {name: 'Switzerland', code: 'CH'},
            {name: 'Syrian Arab Republic', code: 'SY'},
            {name: 'Taiwan, Province of China', code: 'TW'},
            {name: 'Tajikistan', code: 'TJ'},
            {name: 'Tanzania, United Republic of', code: 'TZ'},
            {name: 'Thailand', code: 'TH'},
            {name: 'Timor-Leste', code: 'TL'},
            {name: 'Togo', code: 'TG'},
            {name: 'Tokelau', code: 'TK'},
            {name: 'Tonga', code: 'TO'},
            {name: 'Trinidad and Tobago', code: 'TT'},
            {name: 'Tunisia', code: 'TN'},
            {name: 'Turkey', code: 'TR'},
            {name: 'Turkmenistan', code: 'TM'},
            {name: 'Turks and Caicos Islands', code: 'TC'},
            {name: 'Tuvalu', code: 'TV'},
            {name: 'Uganda', code: 'UG'},
            {name: 'Ukraine', code: 'UA'},
            {name: 'United Arab Emirates', code: 'AE'},
            {name: 'United Kingdom', code: 'GB'},
            {name: 'United States', code: 'US'},
            {name: 'United States Minor Outlying Islands', code: 'UM'},
            {name: 'Uruguay', code: 'UY'},
            {name: 'Uzbekistan', code: 'UZ'},
            {name: 'Vanuatu', code: 'VU'},
            {name: 'Venezuela', code: 'VE'},
            {name: 'Vietnam', code: 'VN'},
            {name: 'Virgin Islands, British', code: 'VG'},
            {name: 'Virgin Islands, U.S.', code: 'VI'},
            {name: 'Wallis and Futuna', code: 'WF'},
            {name: 'Western Sahara', code: 'EH'},
            {name: 'Yemen', code: 'YE'},
            {name: 'Zambia', code: 'ZM'},
            {name: 'Zimbabwe', code: 'ZW'}
          ];


          // Multiple
          vm.someGroupFn = function (item){

            if (item.name[0] >= 'A' && item.name[0] <= 'M')
                return 'From A - M';

            if (item.name[0] >= 'N' && item.name[0] <= 'Z')
                return 'From N - Z';

          };

          vm.counter = 0;
          vm.someFunction = function (item, model){
            vm.counter++;
            vm.eventResult = {item: item, model: model};
          };

          vm.availableColors = ['Red','Green','Blue','Yellow','Magenta','Maroon','Umbra','Turquoise'];

          vm.multipleDemo = {};
          vm.multipleDemo.colors = ['Blue','Red'];
          vm.multipleDemo.selectedPeople = [vm.people[5], vm.people[4]];
          vm.multipleDemo.selectedPeopleWithGroupBy = [vm.people[8], vm.people[6]];
          vm.multipleDemo.selectedPeopleSimple = ['samantha@email.com','wladimir@email.com'];
        }
    }

})();

/**=========================================================
 * Module: upload.js
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .controller('FileUploadController', FileUploadController);

    FileUploadController.$inject = ['FileUploader'];
    function FileUploadController(FileUploader) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          var uploader = vm.uploader = new FileUploader({
              url: 'server/upload.php'
          });

          // FILTERS

          uploader.filters.push({
              name: 'customFilter',
              fn: function(/*item, options*/) {
                  return this.queue.length < 10;
              }
          });

          // CALLBACKS

          uploader.onWhenAddingFileFailed = function(item /*{File|FileLikeObject}*/, filter, options) {
              console.info('onWhenAddingFileFailed', item, filter, options);
          };
          uploader.onAfterAddingFile = function(fileItem) {
              console.info('onAfterAddingFile', fileItem);
          };
          uploader.onAfterAddingAll = function(addedFileItems) {
              console.info('onAfterAddingAll', addedFileItems);
          };
          uploader.onBeforeUploadItem = function(item) {
              console.info('onBeforeUploadItem', item);
          };
          uploader.onProgressItem = function(fileItem, progress) {
              console.info('onProgressItem', fileItem, progress);
          };
          uploader.onProgressAll = function(progress) {
              console.info('onProgressAll', progress);
          };
          uploader.onSuccessItem = function(fileItem, response, status, headers) {
              console.info('onSuccessItem', fileItem, response, status, headers);
          };
          uploader.onErrorItem = function(fileItem, response, status, headers) {
              console.info('onErrorItem', fileItem, response, status, headers);
          };
          uploader.onCancelItem = function(fileItem, response, status, headers) {
              console.info('onCancelItem', fileItem, response, status, headers);
          };
          uploader.onCompleteItem = function(fileItem, response, status, headers) {
              console.info('onCompleteItem', fileItem, response, status, headers);
          };
          uploader.onCompleteAll = function() {
              console.info('onCompleteAll');
          };

          console.info('uploader', uploader);
        }
    }
})();

/**=========================================================
 * Module: validate-form.js
 * Initializes the validation plugin Parsley
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.forms')
        .directive('validateForm', validateForm);

    function validateForm () {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          var $elem = $(element);
          if($.fn.parsley)
            $elem.parsley();
        }
    }

})();

/**=========================================================
 * Module: skycons.js
 * Include any animated weather icon from Skycons
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.icons')
        .directive('skycon', skycon);

    function skycon () {

        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element, attrs) {
          var skycons = new Skycons({'color': (attrs.color || 'white')});

          element.html('<canvas width="' + attrs.width + '" height="' + attrs.height + '"></canvas>');

          skycons.add(element.children()[0], attrs.skycon);

          skycons.play();
        }
    }

})();

(function() {
    'use strict';

    angular
      .module('app.items', [])
      .controller('ItemsController', ItemsController)
      .controller('StockDialogController', StockDialogController)
      .controller('StocksController', StocksController)
      .controller('ItemAddController', ItemAddController);
    
    ItemsController.$inject = ['$scope', 'ngTableParams', 'Sku', 'ngDialog', 'SweetAlert', 'ngTableLBService'];
    function ItemsController($scope, ngTableParams, Sku, ngDialog, SweetAlert, ngTableLBService) {
      var vm = this;
      
      activate();
      
      function activate() {
        vm.keyword = "";
        vm.tableParams = new ngTableParams({count: 10}, {
          getData: function($defer, params) {
            var filter = {where:{status:{ne:'deleted'}}, include:['inventories']}
            if(vm.keyword != '') {
              var qs = {regex: keyword};
              filter.where.or = [{"item.name":qs}, {model:qs}];
              params.page(1);
            }
            ngTableLBService.getData($defer, params, Sku, filter);
          }
        });
      }
            
      vm.stock = function (sku, type) {
        ngDialog.open({ 
          template: 'stockDialogId', 
          controller: 'StockDialogController', 
          data: {sku: sku, type: type} 
        });
      }
      
      vm.delete = function (sku) {
        SweetAlert.swal({   
          title: '确定删除商品'+sku.item.name,   
          text: '删除商品后将无法恢复，你确定要删除商品？',   
          type: 'warning',   
          showCancelButton: true,   
          confirmButtonColor: '#DD6B55',   
          confirmButtonText: '是的，删除！',
          cancelButtonText: '不，取消！',   
          closeOnConfirm: false
        },  function(isConfirm){  
          if(isConfirm) {
            sku.status = 'deleted';
            sku.$save(function () {
              SweetAlert.swal('已删除!','你的商品'+sku.item.name+'已经删除。', 'success');
            }, function (err) {
              SweetAlert.swal('失败!', '删除商品时发生错误，你的商品没有被删除。', 'error');
            });
          }
        });
      }
      
      vm.confirm = function (sku) {
        var inventory = sku.inventories[0];
        inventory.inventoryAt = new Date();
        Sku.prototype$__updateById__inventories({
          id:sku.id, fk: inventory.id
        }, {
          inventoryAt: inventory.inventoryAt
        });
      }
      
    }
    
    ItemAddController.$inject = ['$scope', 'Item'];
    function ItemAddController($scope, Item) {
      activate();
      
      window.ParsleyValidator.setLocale('zh_cn');
      
      function activate() {
        $scope.entity = {
          type: "entity",
          name: "iPhone6S Plus",
          skus: [{barcode: "456", price: 608800, model: "16GB", stockQty:3}]
        };
      }
      
      $scope.save = function () {
        Item.create($scope.entity).$promise
        .then(function (item) {
          $scope.$state.go('app.item');
        });
      }
      
      $scope.saveAndMore = function () {
        Item.create($scope.entity)
      }
    }
    
    StockDialogController.$inject = ['$scope', 'ngDialog', 'Stock', 'toaster', '$filter'];
    function StockDialogController($scope, ngDialog, Stock, toaster, $filter) {

        activate();

        ////////////////

        function activate() {
          $scope.stockQty = 0;
        }
        
        $scope.confirm = function () {
          var sku = $scope.ngDialogData.sku;
          var type = $scope.ngDialogData.type;
          var memo = $scope.ngDialogData.memo;
          Stock.create({skuId: sku.id, qty: $scope.stockQty, type: type, memo: memo});
          sku.inventories[0].qty += $scope.stockQty;
          ngDialog.close();
          toaster.pop('success', '成功',
           "完成"+$filter('stock_type')(type)+sku.item.name+": "+$scope.stockQty+"件");
        }
    }
    
    StocksController.$inject = ['$scope', 'Stock', 'ngTableParams'];
    function StocksController($scope, Stock, ngTableParams) {
      var vm = this;
      
      active();
      
      function active() {
        vm.filter = {text: ''}
        vm.tableParams = new ngTableParams({
          count: 10,
          filter: vm.filter.text
        }, {
          getData: function($defer, params) {
            var opt = {where:{}, include:['sku']}
            opt.limit = params.count()
            opt.skip = (params.page()-1)*opt.limit
            if(vm.filter.text != '') {
              opt.skip = 0;
            }
            Stock.count({where: opt.where}, function (result) {
              vm.tableParams.total(result.count)
              Stock.find({filter:opt}, $defer.resolve)
            })
          }
        });
      }
    }

})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.items')
        .filter('item_type', itemTypeFilter)
        .filter('stock_type', stockTypeFilter)
        .filter('currency_cny', currencyCNYFilter)
    ;

    function itemTypeFilter() {
        var type = {
          entity: "实物商品",
          service: "服务项目"
        }
        return function(key) {
          return type[key];
        }
    }
    
    function currencyCNYFilter() {
      return function (val) {
        return "¥ "+val/100;
      }
    }
    
    function stockTypeFilter() {
      var type = {
        stock: "进货入库",
        sale: "销售出库",
        cancel: "核销出库",
        inventory: "盘点修正",
        transfer: "库存调货"
      }
      return function (key) {
        key = key || 'stock';
        return type[key];
      }
    }

})();
(function() {
    'use strict';

    angular
        .module('app.lazyload')
        .config(lazyloadConfig);

    lazyloadConfig.$inject = ['$ocLazyLoadProvider', 'APP_REQUIRES'];
    function lazyloadConfig($ocLazyLoadProvider, APP_REQUIRES){

      // Lazy Load modules configuration
      $ocLazyLoadProvider.config({
        debug: false,
        events: true,
        modules: APP_REQUIRES.modules
      });

    }
})();
(function() {
    'use strict';

    angular
        .module('app.lazyload')
        .constant('APP_REQUIRES', {
          // jQuery based and standalone scripts
          scripts: {
            'whirl':              ['vendor/whirl/dist/whirl.css'],
            'classyloader':       ['vendor/jquery-classyloader/js/jquery.classyloader.min.js'],
            'animo':              ['vendor/animo.js/animo.js'],
            'fastclick':          ['vendor/fastclick/lib/fastclick.js'],
            'modernizr':          ['vendor/modernizr/modernizr.js'],
            'animate':            ['vendor/animate.css/animate.min.css'],
            'skycons':            ['vendor/skycons/skycons.js'],
            'icons':              ['vendor/fontawesome/css/font-awesome.min.css',
                                   'vendor/simple-line-icons/css/simple-line-icons.css'],
            'weather-icons':      ['vendor/weather-icons/css/weather-icons.min.css'],
            'sparklines':         ['app/vendor/sparklines/jquery.sparkline.min.js'],
            'wysiwyg':            ['vendor/bootstrap-wysiwyg/bootstrap-wysiwyg.js',
                                   'vendor/bootstrap-wysiwyg/external/jquery.hotkeys.js'],
            'slimscroll':         ['vendor/slimScroll/jquery.slimscroll.min.js'],
            'screenfull':         ['vendor/screenfull/dist/screenfull.js'],
            'vector-map':         ['vendor/ika.jvectormap/jquery-jvectormap-1.2.2.min.js',
                                   'vendor/ika.jvectormap/jquery-jvectormap-1.2.2.css'],
            'vector-map-maps':    ['vendor/ika.jvectormap/jquery-jvectormap-world-mill-en.js',
                                   'vendor/ika.jvectormap/jquery-jvectormap-us-mill-en.js'],
            'loadGoogleMapsJS':   ['app/vendor/gmap/load-google-maps.js'],
            'flot-chart':         ['vendor/Flot/jquery.flot.js'],
            'flot-chart-plugins': ['vendor/flot.tooltip/js/jquery.flot.tooltip.min.js',
                                   'vendor/Flot/jquery.flot.resize.js',
                                   'vendor/Flot/jquery.flot.pie.js',
                                   'vendor/Flot/jquery.flot.time.js',
                                   'vendor/Flot/jquery.flot.categories.js',
                                   'vendor/flot-spline/js/jquery.flot.spline.min.js'],
                                  // jquery core and widgets
            'jquery-ui':          ['vendor/jquery-ui/ui/core.js',
                                   'vendor/jquery-ui/ui/widget.js'],
                                   // loads only jquery required modules and touch support
            'jquery-ui-widgets':  ['vendor/jquery-ui/ui/core.js',
                                   'vendor/jquery-ui/ui/widget.js',
                                   'vendor/jquery-ui/ui/mouse.js',
                                   'vendor/jquery-ui/ui/draggable.js',
                                   'vendor/jquery-ui/ui/droppable.js',
                                   'vendor/jquery-ui/ui/sortable.js',
                                   'vendor/jqueryui-touch-punch/jquery.ui.touch-punch.min.js'],
            'moment' :            ['vendor/moment/min/moment-with-locales.min.js'],
            'inputmask':          ['vendor/jquery.inputmask/dist/jquery.inputmask.bundle.min.js'],
            'flatdoc':            ['vendor/flatdoc/flatdoc.js'],
            'codemirror':         ['vendor/codemirror/lib/codemirror.js',
                                   'vendor/codemirror/lib/codemirror.css'],
            // modes for common web files
            'codemirror-modes-web': ['vendor/codemirror/mode/javascript/javascript.js',
                                     'vendor/codemirror/mode/xml/xml.js',
                                     'vendor/codemirror/mode/htmlmixed/htmlmixed.js',
                                     'vendor/codemirror/mode/css/css.js'],
            'taginput' :          ['vendor/bootstrap-tagsinput/dist/bootstrap-tagsinput.css',
                                   'vendor/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js'],
            'filestyle':          ['vendor/bootstrap-filestyle/src/bootstrap-filestyle.js'],
            'parsley':            ['vendor/parsleyjs/src/i18n/zh_cn.extra.js',
                                   'vendor/parsleyjs/dist/parsley.min.js',
                                   'vendor/parsleyjs/src/i18n/zh_cn.js'],
            'fullcalendar':       ['vendor/fullcalendar/dist/fullcalendar.min.js',
                                   'vendor/fullcalendar/dist/fullcalendar.css'],
            'gcal':               ['vendor/fullcalendar/dist/gcal.js'],
            'chartjs':            ['vendor/Chart.js/Chart.js'],
            'morris':             ['vendor/raphael/raphael.js',
                                   'vendor/morris.js/morris.js',
                                   'vendor/morris.js/morris.css'],
            'loaders.css':          ['vendor/loaders.css/loaders.css'],
            'spinkit':              ['vendor/spinkit/css/spinkit.css']
          },
          // Angular based script (use the right module name)
          modules: [
            {name: 'toaster',                   files: ['vendor/angularjs-toaster/toaster.js',
                                                       'vendor/angularjs-toaster/toaster.css']},
            {name: 'localytics.directives',     files: ['vendor/chosen_v1.2.0/chosen.jquery.min.js',
                                                       'vendor/chosen_v1.2.0/chosen.min.css',
                                                       'vendor/angular-chosen-localytics/chosen.js']},
            {name: 'ngDialog',                  files: ['vendor/ngDialog/js/ngDialog.min.js',
                                                       'vendor/ngDialog/css/ngDialog.min.css',
                                                       'vendor/ngDialog/css/ngDialog-theme-default.min.css'] },
            {name: 'ngWig',                     files: ['vendor/ngWig/dist/ng-wig.min.js'] },
            {name: 'ngTable',                   files: ['vendor/ng-table/dist/ng-table.min.js',
                                                        'vendor/ng-table/dist/ng-table.min.css']},
            {name: 'ngTableExport',             files: ['vendor/ng-table-export/ng-table-export.js']},
            {name: 'angularBootstrapNavTree',   files: ['vendor/angular-bootstrap-nav-tree/dist/abn_tree_directive.js',
                                                        'vendor/angular-bootstrap-nav-tree/dist/abn_tree.css']},
            {name: 'htmlSortable',              files: ['vendor/html.sortable/dist/html.sortable.js',
                                                        'vendor/html.sortable/dist/html.sortable.angular.js']},
            {name: 'xeditable',                 files: ['vendor/angular-xeditable/dist/js/xeditable.js',
                                                        'vendor/angular-xeditable/dist/css/xeditable.css']},
            {name: 'angularFileUpload',         files: ['vendor/angular-file-upload/angular-file-upload.js']},
            {name: 'ngImgCrop',                 files: ['vendor/ng-img-crop/compile/unminified/ng-img-crop.js',
                                                        'vendor/ng-img-crop/compile/unminified/ng-img-crop.css']},
            {name: 'ui.select',                 files: ['vendor/angular-ui-select/dist/select.js',
                                                        'vendor/angular-ui-select/dist/select.css']},
            {name: 'ui.codemirror',             files: ['vendor/angular-ui-codemirror/ui-codemirror.js']},
            {name: 'angular-carousel',          files: ['vendor/angular-carousel/dist/angular-carousel.css',
                                                        'vendor/angular-carousel/dist/angular-carousel.js']},
            {name: 'ngGrid',                    files: ['vendor/ng-grid/build/ng-grid.min.js',
                                                        'vendor/ng-grid/ng-grid.css' ]},
            {name: 'infinite-scroll',           files: ['vendor/ngInfiniteScroll/build/ng-infinite-scroll.js']},
            {name: 'ui.bootstrap-slider',       files: ['vendor/seiyria-bootstrap-slider/dist/bootstrap-slider.min.js',
                                                        'vendor/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css',
                                                        'vendor/angular-bootstrap-slider/slider.js']},
            {name: 'ui.grid',                   files: ['vendor/angular-ui-grid/ui-grid.min.css',
                                                        'vendor/angular-ui-grid/ui-grid.min.js']},
            {name: 'textAngular',               files: ['vendor/textAngular/dist/textAngular.css',
                                                        'vendor/textAngular/dist/textAngular-rangy.min.js',
                                                        'vendor/textAngular/dist/textAngular-sanitize.js',
                                                        'vendor/textAngular/src/globals.js',
                                                        'vendor/textAngular/src/factories.js',
                                                        'vendor/textAngular/src/DOM.js',
                                                        'vendor/textAngular/src/validators.js',
                                                        'vendor/textAngular/src/taBind.js',
                                                        'vendor/textAngular/src/main.js',
                                                        'vendor/textAngular/dist/textAngularSetup.js'
                                                        ], serie: true},
            {name: 'angular-rickshaw',          files: ['vendor/d3/d3.min.js',
                                                        'vendor/rickshaw/rickshaw.js',
                                                        'vendor/rickshaw/rickshaw.min.css',
                                                        'vendor/angular-rickshaw/rickshaw.js'], serie: true},
            {name: 'angular-chartist',          files: ['vendor/chartist/dist/chartist.min.css',
                                                        'vendor/chartist/dist/chartist.js',
                                                        'vendor/angular-chartist.js/dist/angular-chartist.js'], serie: true},
            {name: 'ui.map',                    files: ['vendor/angular-ui-map/ui-map.js']},
            {name: 'datatables',                files: ['vendor/datatables/media/css/jquery.dataTables.css',
                                                        'vendor/datatables/media/js/jquery.dataTables.js',
                                                        'vendor/angular-datatables/dist/angular-datatables.js'], serie: true},
            {name: 'angular-jqcloud',           files: ['vendor/jqcloud2/dist/jqcloud.css',
                                                        'vendor/jqcloud2/dist/jqcloud.js',
                                                        'vendor/angular-jqcloud/angular-jqcloud.js']},
            {name: 'angularGrid',               files: ['vendor/ag-grid/dist/angular-grid.css',
                                                        'vendor/ag-grid/dist/angular-grid.js',
                                                        'vendor/ag-grid/dist/theme-dark.css',
                                                        'vendor/ag-grid/dist/theme-fresh.css']},
            {name: 'ng-nestable',               files: ['vendor/ng-nestable/src/angular-nestable.js',
                                                        'vendor/nestable/jquery.nestable.js']},
            {name: 'akoenig.deckgrid',          files: ['vendor/angular-deckgrid/angular-deckgrid.js']},
            {name: 'oitozero.ngSweetAlert',     files: ['vendor/sweetalert/dist/sweetalert.css',
                                                        'vendor/sweetalert/dist/sweetalert.min.js',
                                                        'vendor/angular-sweetalert/SweetAlert.js']},
            {name: 'bm.bsTour',                 files: ['vendor/bootstrap-tour/build/css/bootstrap-tour.css',
                                                        'vendor/bootstrap-tour/build/js/bootstrap-tour-standalone.js',
                                                        'vendor/angular-bootstrap-tour/dist/angular-bootstrap-tour.js'], serie: true},
            {name: 'ui.knob',                   files: ['vendor/angular-knob/src/angular-knob.js',
                                                        'vendor/jquery-knob/dist/jquery.knob.min.js']},
            {name: 'easypiechart',              files: ['vendor/jquery.easy-pie-chart/dist/angular.easypiechart.min.js']},
            {name: 'colorpicker.module',        files: ['vendor/angular-bootstrap-colorpicker/css/colorpicker.css',
                                                        'vendor/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js']}
          ]
        })
        ;

})();

(function() {
    'use strict';

    angular
        .module('app.loadingbar')
        .config(loadingbarConfig)
        ;
    loadingbarConfig.$inject = ['cfpLoadingBarProvider'];
    function loadingbarConfig(cfpLoadingBarProvider){
      cfpLoadingBarProvider.includeBar = true;
      cfpLoadingBarProvider.includeSpinner = false;
      cfpLoadingBarProvider.latencyThreshold = 500;
      cfpLoadingBarProvider.parentSelector = '.wrapper > section';
    }
})();
(function() {
    'use strict';

    angular
        .module('app.loadingbar')
        .run(loadingbarRun)
        ;
    loadingbarRun.$inject = ['$rootScope', '$timeout', 'cfpLoadingBar'];
    function loadingbarRun($rootScope, $timeout, cfpLoadingBar){

      // Loading bar transition
      // ----------------------------------- 
      var thBar;
      $rootScope.$on('$stateChangeStart', function() {
          if($('.wrapper > section').length) // check if bar container exists
            thBar = $timeout(function() {
              cfpLoadingBar.start();
            }, 0); // sets a latency Threshold
      });
      $rootScope.$on('$stateChangeSuccess', function(event) {
          event.targetScope.$watch('$viewContentLoaded', function () {
            $timeout.cancel(thBar);
            cfpLoadingBar.complete();
          });
      });

    }

})();
(function() {
    'use strict';

    angular
        .module('app.locale')
        .config(localeConfig)
        ;
    localeConfig.$inject = ['tmhDynamicLocaleProvider'];
    function localeConfig(tmhDynamicLocaleProvider){
  
      tmhDynamicLocaleProvider.defaultLocale('zh');
      tmhDynamicLocaleProvider.localeLocationPattern('vendor/angular-i18n/angular-locale_{{locale}}.js');
      // tmhDynamicLocaleProvider.useStorage('$cookieStore');

    }
})();
/**=========================================================
 * Module: locale.js
 * Demo for locale settings
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.locale')
        .controller('LocalizationController', LocalizationController);

    LocalizationController.$inject = ['$rootScope', 'tmhDynamicLocale', '$locale'];
    function LocalizationController($rootScope, tmhDynamicLocale, $locale) {

        activate();

        ////////////////

        function activate() {
          $rootScope.availableLocales = {
            'en': 'English',
            'es': 'Spanish',
            'de': 'German',
            'fr': 'French',
            'ar': 'Arabic',
            'ja': 'Japanese',
            'ko': 'Korean',
            'zh': 'Chinese'};
          
          $rootScope.model = {selectedLocale: 'zh'};
          
          $rootScope.$locale = $locale;
          
          $rootScope.changeLocale = tmhDynamicLocale.set;

        }
    }
})();

/**=========================================================
 * Module: demo-pagination.js
 * Provides a simple demo for pagination
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.mailbox')
        .controller('MailboxController', MailboxController);

    function MailboxController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.folders = [
            {name: 'Inbox',   folder: 'inbox',   alert: 42, icon: 'fa-inbox' },
            {name: 'Starred', folder: 'starred', alert: 10, icon: 'fa-star' },
            {name: 'Sent',    folder: 'sent',    alert: 0,  icon: 'fa-paper-plane-o' },
            {name: 'Draft',   folder: 'draft',   alert: 5,  icon: 'fa-edit' },
            {name: 'Trash',   folder: 'trash',   alert: 0,  icon: 'fa-trash'}
          ];

          vm.labels = [
            {name: 'Red',     color: 'danger'},
            {name: 'Pink',    color: 'pink'},
            {name: 'Blue',    color: 'info'},
            {name: 'Yellow',  color: 'warning'}
          ];

          vm.mail = {
            cc: false,
            bcc: false
          };
          // Mailbox editr initial content
          vm.content = '<p>Type something..</p>';
        }
    }
})();

(function() {
    'use strict';

    angular
        .module('app.mailbox')
        .controller('MailFolderController', MailFolderController);

    MailFolderController.$inject = ['mails', '$stateParams'];
    function MailFolderController(mails, $stateParams) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          
          vm.folder = {};
          // no filter for inbox
          vm.folder.folder = $stateParams.folder === 'inbox' ? '' : $stateParams.folder;

          mails.all().then(function(mails){
            vm.mails = mails;
          });
        }
    }
})();

// A RESTful factory for retrieving mails from json file

(function() {
    'use strict';

    angular
        .module('app.mailbox')
        .factory('mails', mails);

    mails.$inject = ['$http'];
    function mails($http) {
        var service = {
            all: all,
            get: get
        };
        return service;

        ////////////////
        
        function readMails() {
          var path = 'server/mails.json';
          return $http.get(path).then(function (resp) {
            return resp.data.mails;
          });
        }

        function all() {
          return readMails();
        }

        function get(id) {
          return readMails().then(function(mails){
            for (var i = 0; i < mails.length; i++) {
              if (+mails[i].id === +id) return mails[i];
            }
            return null;
          });
        }
    }
})();


(function() {
    'use strict';

    angular
        .module('app.mailbox')
        .controller('MailViewController', MailViewController);

    MailViewController.$inject = ['mails', '$stateParams'];
    function MailViewController(mails, $stateParams) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          mails.get($stateParams.mid).then(function(mail){
            vm.mail = mail;
          });
        }
    }
})();

/**=========================================================
 * Module: modals.js
 * Provides a simple way to implement bootstrap modals from templates
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.maps')
        .controller('ModalGmapController', ModalGmapController);

    ModalGmapController.$inject = ['$modal'];
    function ModalGmapController($modal) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          vm.open = function (size) {

            //var modalInstance = 
            $modal.open({
              templateUrl: '/myModalContent.html',
              controller: ModalInstanceCtrl,
              size: size
            });
          };

          // Please note that $modalInstance represents a modal window (instance) dependency.
          // It is not the same as the $modal service used above.
          
          ModalInstanceCtrl.$inject = ['$scope', '$modalInstance', '$timeout'];
          function ModalInstanceCtrl($scope, $modalInstance, $timeout) {

            $modalInstance.opened.then(function () {
              var position = new google.maps.LatLng(33.790807, -117.835734);

              $scope.mapOptionsModal = {
                zoom: 14,
                center: position,
                mapTypeId: google.maps.MapTypeId.ROADMAP
              };

              // we use timeout to wait maps to be ready before add a markers
              $timeout(function(){
                // 1. Add a marker at the position it was initialized
                new google.maps.Marker({
                  map: $scope.myMapModal,
                  position: position
                });
                // 2. Trigger a resize so the map is redrawed 
                google.maps.event.trigger($scope.myMapModal, 'resize');
                // 3. Move to the center if it is misaligned
                $scope.myMapModal.panTo(position);
              });

            });

            $scope.ok = function () {
              $modalInstance.close('closed');
            };

            $scope.cancel = function () {
              $modalInstance.dismiss('cancel');
            };

          }
          
        }
    }

})();


(function() {
    'use strict';

    angular
        .module('app.maps')
        .controller('GMapController', GMapController);

    GMapController.$inject = ['$timeout'];
    function GMapController($timeout) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          var position = [
              new google.maps.LatLng(33.790807, -117.835734),
              new google.maps.LatLng(33.790807, -117.835734),
              new google.maps.LatLng(33.790807, -117.835734),
              new google.maps.LatLng(33.790807, -117.835734),
              new google.maps.LatLng(33.787453, -117.835858)
            ];
          
          vm.addMarker = addMarker;
          // we use timeout to wait maps to be ready before add a markers
          $timeout(function(){
            addMarker(vm.myMap1, position[0]);
            addMarker(vm.myMap2, position[1]);
            addMarker(vm.myMap3, position[2]);
            addMarker(vm.myMap5, position[3]);
          });

          vm.mapOptions1 = {
            zoom: 14,
            center: position[0],
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            scrollwheel: false
          };

          vm.mapOptions2 = {
            zoom: 19,
            center: position[1],
            mapTypeId: google.maps.MapTypeId.ROADMAP
          };

          vm.mapOptions3 = {
            zoom: 14,
            center: position[2],
            mapTypeId: google.maps.MapTypeId.SATELLITE
          };

          vm.mapOptions4 = {
            zoom: 14,
            center: position[3],
            mapTypeId: google.maps.MapTypeId.ROADMAP
          };

          // for multiple markers
          $timeout(function(){
            addMarker(vm.myMap4, position[3]);
            addMarker(vm.myMap4, position[4]);
          });

          // custom map style
          var MapStyles = [{'featureType':'water','stylers':[{'visibility':'on'},{'color':'#bdd1f9'}]},{'featureType':'all','elementType':'labels.text.fill','stylers':[{'color':'#334165'}]},{featureType:'landscape',stylers:[{color:'#e9ebf1'}]},{featureType:'road.highway',elementType:'geometry',stylers:[{color:'#c5c6c6'}]},{featureType:'road.arterial',elementType:'geometry',stylers:[{color:'#fff'}]},{featureType:'road.local',elementType:'geometry',stylers:[{color:'#fff'}]},{featureType:'transit',elementType:'geometry',stylers:[{color:'#d8dbe0'}]},{featureType:'poi',elementType:'geometry',stylers:[{color:'#cfd5e0'}]},{featureType:'administrative',stylers:[{visibility:'on'},{lightness:33}]},{featureType:'poi.park',elementType:'labels',stylers:[{visibility:'on'},{lightness:20}]},{featureType:'road',stylers:[{color:'#d8dbe0',lightness:20}]}];
          vm.mapOptions5 = {
            zoom: 14,
            center: position[3],
            styles: MapStyles,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            scrollwheel: false
          };

          ///////////////
          
          function addMarker(map, position) {
            return new google.maps.Marker({
              map: map,
              position: position
            });
          }

        }
    }
})();

/**=========================================================
 * Module: vector-map.js.js
 * Init jQuery Vector Map plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.maps')
        .directive('vectorMap', vectorMap);

    vectorMap.$inject = ['VectorMap'];
    function vectorMap (VectorMap) {
        var directive = {
            link: link,
            restrict: 'EA',
            scope: {
              seriesData: '=',
              markersData: '='
            }
        };
        return directive;

        function link(scope, element, attrs) {
          
          var defaultColors = {
              markerColor:  '#23b7e5',      // the marker points
              bgColor:      'transparent',      // the background
              scaleColors:  ['#878c9a'],    // the color of the region in the serie
              regionFill:   '#bbbec6'       // the base region color
          };

          var mapHeight   = attrs.height || '300',
              options     = {
                markerColor:  attrs.markerColor  || defaultColors.markerColor,
                bgColor:      attrs.bgColor      || defaultColors.bgColor,
                scale:        attrs.scale        || 1,
                scaleColors:  attrs.scaleColors  || defaultColors.scaleColors,
                regionFill:   attrs.regionFill   || defaultColors.regionFill,
                mapName:      attrs.mapName      || 'world_mill_en'
              };
          
          element.css('height', mapHeight);
          
          VectorMap.init( element , options, scope.seriesData, scope.markersData);
        }
    }

})();

/**=========================================================
 * Module: vector-map.js
 * Services to initialize vector map plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.maps')
        .service('VectorMap', VectorMap);

    function VectorMap() {
        this.init = init;

        ////////////////

        function init($element, opts, series, markers) {
          $element.vectorMap({
            map:             opts.mapName,
            backgroundColor: opts.bgColor,
            zoomMin:         1,
            zoomMax:         8,
            zoomOnScroll:    false,
            regionStyle: {
              initial: {
                'fill':           opts.regionFill,
                'fill-opacity':   1,
                'stroke':         'none',
                'stroke-width':   1.5,
                'stroke-opacity': 1
              },
              hover: {
                'fill-opacity': 0.8
              },
              selected: {
                fill: 'blue'
              },
              selectedHover: {
              }
            },
            focusOn:{ x:0.4, y:0.6, scale: opts.scale},
            markerStyle: {
              initial: {
                fill: opts.markerColor,
                stroke: opts.markerColor
              }
            },
            onRegionLabelShow: function(e, el, code) {
              if ( series && series[code] )
                el.html(el.html() + ': ' + series[code] + ' visitors');
            },
            markers: markers,
            series: {
                regions: [{
                    values: series,
                    scale: opts.scaleColors,
                    normalizeFunction: 'polynomial'
                }]
            },
          });
        }
    }
})();

/**=========================================================
 * Module: vmaps,js
 * jVector Maps support
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.maps')
        .controller('VectorMapController', VectorMapController);

    function VectorMapController() {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.seriesData = {
            'CA': 11100,   // Canada
            'DE': 2510,    // Germany
            'FR': 3710,    // France
            'AU': 5710,    // Australia
            'GB': 8310,    // Great Britain
            'RU': 9310,    // Russia
            'BR': 6610,    // Brazil
            'IN': 7810,    // India
            'CN': 4310,    // China
            'US': 839,     // USA
            'SA': 410      // Saudi Arabia
          };
          
          vm.markersData = [
            { latLng:[41.90, 12.45],  name:'Vatican City'          },
            { latLng:[43.73, 7.41],   name:'Monaco'                },
            { latLng:[-0.52, 166.93], name:'Nauru'                 },
            { latLng:[-8.51, 179.21], name:'Tuvalu'                },
            { latLng:[7.11,171.06],   name:'Marshall Islands'      },
            { latLng:[17.3,-62.73],   name:'Saint Kitts and Nevis' },
            { latLng:[3.2,73.22],     name:'Maldives'              },
            { latLng:[35.88,14.5],    name:'Malta'                 },
            { latLng:[41.0,-71.06],   name:'New England'           },
            { latLng:[12.05,-61.75],  name:'Grenada'               },
            { latLng:[13.16,-59.55],  name:'Barbados'              },
            { latLng:[17.11,-61.85],  name:'Antigua and Barbuda'   },
            { latLng:[-4.61,55.45],   name:'Seychelles'            },
            { latLng:[7.35,134.46],   name:'Palau'                 },
            { latLng:[42.5,1.51],     name:'Andorra'               }
          ];
        }
    }
})();

(function() {
    'use strict';

    angular
      .module('app.members')
      .controller('MembersController', MembersController)
      .controller('MemberController', MemberController)
      .controller('rechargeDialogController', rechargeDialogController)
      .controller('bonusDialogController', bonusDialogController)
    ;
      
    MembersController.$inject = ['$scope', 'Member', 'ngTableParams', 'ngTableLBService', 'SweetAlert', 'qrcodeService', 'dealService'];
    function MembersController($scope, Member, ngTableParams, ngTableLBService, SweetAlert, qrcodeService, dealService) {
      var vm = this;
      
      activate();
      
      function activate() {
        $scope.qrcodeService = qrcodeService;
        vm.keyword = "";
        vm.tableParams = new ngTableParams({count: 10}, {
          getData: function($defer, params) {
            var filter = {where:{status:{ne:'deleted'}}, include:['wxuser']}
            if(vm.keyword != '') {
              var qs = {regex: keyword};
              filter.where.or = [{"entities.sku.item.name":qs}];
              params.page(1);
            }
            ngTableLBService.getData($defer, params, Member, filter);
          }
        });
      }
      
      vm.sell = function (member) {
        dealService.openDeal(member);
        $scope.$state.go('app.sell');
      }
    }
    
    MemberController.$inject = ['$scope', 'Member', 'ngTableParams', 'ngTableLBService', 'SweetAlert', 'dealService', 'ngDialog'];
    function MemberController($scope, Member, ngTableParams, ngTableLBService, SweetAlert, dealService, ngDialog) {
      var vm = this;
      var memberId = $scope.$state.params.memberId;
            
      vm.dealTableParams = new ngTableParams({
        count: 10
      }, {
        getData: function($defer, params) {
          var opt = {where:{status:{ne:'deleted'}}}
          opt.limit = params.count()
          opt.skip = (params.page()-1)*opt.limit
          Member.deals.count({id: memberId, where: opt.where}, function (result) {
            vm.dealTableParams.total(result.count);
          });
          Member.deals({id: memberId, filter:opt}, $defer.resolve);
        }
      });     
      
      vm.depositTableParams = new ngTableParams({
        count: 10
      }, {
        getData: function($defer, params) {
          var opt = {
            where:{status:{ne:'deleted'}, or:[{type: 'deposit'}, {category: 'deposit'}]},
            include: ['shop']
          }
          opt.limit = params.count()
          opt.skip = (params.page()-1)*opt.limit
          Member.payments.count({id: memberId, where: opt.where}, function (result) {
            vm.depositTableParams.total(result.count);
          });
          Member.payments({id: memberId, filter:opt}, $defer.resolve);
        }
      });

      vm.bonusTableParams = new ngTableParams({
        count: 10
      }, {
        getData: function($defer, params) {
          var opt = {
            where:{status:{ne:'deleted'}},
            include: []
          }
          opt.limit = params.count()
          opt.skip = (params.page()-1)*opt.limit
          Member.bonuses.count({id: memberId, where: opt.where}, function (result) {
            vm.bonusTableParams.total(result.count);
          });
          Member.bonuses({id: memberId, filter:opt}, $defer.resolve);
        }
      });

      activate();
      
      function activate() {
        
        memberId = $scope.$state.params.memberId;

        vm.member = Member.findOne({filter: {
          where: {id: memberId}, 
          include:['wxuser']
        }});
        
        vm.dealTableParams.reload();
        vm.depositTableParams.reload();
        vm.bonusTableParams.reload();
      }

      vm.sell = function () {
        dealService.openDeal(vm.member);
        $scope.$state.go('app.sell');
      }
      
      vm.recharge = function () {
        ngDialog.open({ 
          template: 'rechargeDialogId', 
          controller: 'rechargeDialogController'
        }).closePromise.then(function (data) {
          activate();
        });
      }
      
      vm.setBonus = function () {
        ngDialog.open({ 
          template: 'bonusDialogId', 
          controller: 'bonusDialogController'
        }).closePromise.then(function (data) {
          activate();
        });
      }
    }
    
    rechargeDialogController.$inject = ['$scope', 'ngDialog', 'Member', 'toaster', 'dealService'];
    function rechargeDialogController($scope, ngDialog, Member, toaster, dealService) {

        activate();

        ////////////////

        var memberId = $scope.$state.params.memberId;
        function activate() {
          memberId = $scope.$state.params.memberId;
          $scope.member = Member.findById({id:memberId});
          $scope.data = {
            type: 'cash', 
            amount: 0,
            category: 'deposit'
          };
          $scope.payType = dealService.payType;
          $scope.cash = {
            paid: 0,
            change: 0,
          }
        }
        
        $scope.onChangePayType = function () {
          if(data.type === 'cash') {
            $scope.data.cost = $scope.data.amount%$scope.user.merchant.changeRate;
            $scope.data.amount -= $scope.data.cost;
            $scope.countChange();
          } else {
            $scope.data.cost = 0;
          }
        }
        
        $scope.countChange = function () {
          $scope.cash.paid =  $scope.cash.paid;
          $scope.cash.change = $scope.data.amount - $scope.cash.paid;
        }
        
        $scope.confirm = function () {
          if($scope.data.amount === 0) {
            return;
          }
          Member.payments.create({id: memberId}, $scope.data).$promise.then(function (result) {
            $scope.submiting = false;
            ngDialog.close();
            toaster.pop('success', '成功', "完成储值操作");
          }, function (err) {
            $scope.submiting = false;
            toaster.pop('error', '失败', "储值操作未完成，请重试！")
          });
          $scope.submiting = true;
        }
        
    }
    
    bonusDialogController.$inject = ['$scope', 'ngDialog', 'Member', 'toaster'];
    function bonusDialogController($scope, ngDialog, Member, toaster) {

        activate();

        ////////////////

        var memberId = $scope.$state.params.memberId;
        function activate() {
          memberId = $scope.$state.params.memberId;
          $scope.member = Member.findById({id:memberId});
          $scope.data = {
            amount: 0,
            memo: 'manual'
          };
        }
        
        $scope.confirm = function () {
          if($scope.data.amount === 0) {
            return;
          } else if($scope.data.amount > 0) {
            $scope.data.memo = 'manual';
          } else if($scope.data.amount < 0) {
            $scope.data.memo = 'writeoff';
          }
          Member.bonuses.create({id: memberId}, $scope.data).$promise.then(function (result) {
            $scope.submiting = false;
            ngDialog.close();
            toaster.pop('success', '成功', "完成储值操作");
          }, function (err) {
            $scope.submiting = false;
            toaster.pop('error', '失败', "储值操作未完成，请重试！")
          });
          $scope.submiting = true;
        }
    }
})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.members')
        .filter('wx_sex', wxsexFilter)
        .filter('wx_subscribe', wxsubscribeFilter)
        .filter('deposit_category', depositcategoryFilter)
        .filter('bonus_memo', bonusMemoFilter)
    ;

    function wxsexFilter() {
        var type = ['保密', '男', '女'];
        return function(key) {
          return type[key];
        }
    }
    
    function wxsubscribeFilter() {
      var state = ['未关注', '已关注'];
      return function (key) {
        return state[key];
      }
    }
    
    function depositcategoryFilter() {
      return function (deposit) {
        if(deposit.type === 'deposit') {
          return deposit.amount < 0 ? '储值消费':'储值退款';
        } else if(deposit.category === 'deposit') {
          return deposit.amount < 0 ? '提现':'充值';
        } else {
          return '未知';
        }
      }
    }

    function bonusMemoFilter() {
      var memo = {
        reward: '消费积分',
        vouch: '消费抵扣',
        manual: '手动积分',
        writeoff: '手动减计',
        exchange: '兑换'
      }
      return function (key) {
        return memo[key];
      }
    }
})();
(function() {
    'use strict';

    angular
        .module('app.members')
        .service('qrcodeService', qrcodeService);

    qrcodeService.$inject = ['ngDialog'];
    function qrcodeService(ngDialog) {
      var self = this;
      
      this.showQRCode = showQRCode;
      
      function showQRCode(imageurl) {
        imageurl = imageurl || 'app/img/qrcode-for-gh.jpg';
        ngDialog.open({
          template: "<img src="+imageurl+" class='img-responsive'>",
          plain: true,
          className: 'ngdialog-theme-default'
        });    
      }
    }

})();

(function() {
    'use strict';

    angular
      .module('app.myshop', [])
      .controller('MyShopController', MyShopController)
      .controller('ShopsController', ShopsController)
      .controller('ShopAddController', ShopAddController);
        
    MyShopController.$inject = ['$scope', 'editableOptions', 'editableThemes', 'Shop', 'Merchant'];
    function MyShopController($scope, editableOptions, editableThemes, Shop, Merchant) {
      var vm = this;

      AMap.service('AMap.DistrictSearch', function () {
        var districtSearch = new AMap.DistrictSearch({
          level : 'country',
          subdistrict : 3    
        });
    
        districtSearch.search('中国', function (status, result) {
          vm.provinces = result.districtList[0].districtList;
          // $scope.$apply();
        });
      });
      
      activate();
      
      function activate() {
        
        editableOptions.theme = 'bs3';
        
        editableThemes.bs3.inputClass = 'input-sm';
        editableThemes.bs3.buttonsClass = 'btn-sm';
        editableThemes.bs3.submitTpl = '<button type="submit" class="btn btn-success"><span class="fa fa-check"></span></button>';
        editableThemes.bs3.cancelTpl = '<button type="button" class="btn btn-default" ng-click="$form.$cancel()">'+
                                         '<span class="fa fa-times text-muted"></span>'+
                                       '</button>';
        
        vm.shop = $scope.user.shop;
        vm.merchant = $scope.user.merchant;
      }
      
      vm.update = function (obj, key, data) {
        vm[obj][key] = data.name;
      }
      
      vm.saveShop = function () {
        Shop.upsert(vm.shop);
      }
      
      vm.saveMerchant = function () {
        Merchant.upsert(vm.merchant);
      }
    }
    
    ShopsController.$inject = ['$scope', 'ngTable', 'Shop'];
    function ShopsController($scope, ngTable, Shop) {
      var vm = this;
      
      activate();
      
      function activate() {
        
      }
      
      $scope.filter = {text: ''}
      $scope.tableParams = new ngTableParams({
        count: 10,
        filter: $scope.filter.text
      }, {
        getData: function($defer, params) {
          var opt = {order: 'subscribe_time DESC'}
          opt.limit = params.count()
          opt.skip = (params.page()-1)*opt.limit
          opt.where = {}
          if($scope.filter.text != '') {
            console.log($scope.filter.text);
            // var qs = {like: '%'+$scope.filter.text+'%'};
            var qs = {regex: $scope.filter.text};
            opt.where.or = [{nickname:qs}, {remark:qs}];
            opt.skip = 0;
          }
          Sku.count({where: opt.where}, function (result) {
            $scope.tableParams.total(result.count)
            Sku.find({filter:opt}, $defer.resolve)
          })
        }
      })   
    }
    
    ShopAddController.$inject = ['$scope', 'Shop'];
    function ShopAddController($scope, Shop) {
      activate();
      
      window.ParsleyValidator.setLocale('zh_cn');
      
      function activate() {
        $scope.entity = {
          type: "entity",
          name: "iPhone6S Plus",
          skus: [{barcode:"123", price: 5288, model: "16G"}]
        };
      }
      
      $scope.save = function () {
        
      }
      
      $scope.saveAndMore = function () {
      }
    }    
})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.myshop')
        .filter('item_type2', itemTypeFilter2);

    function itemTypeFilter2() {
        var type = {
          entity: "实体商品",
          service: "服务项目"
        }
        return function(key) {
          return type[key];
        }
    }

})();
/**=========================================================
 * Module: navbar-search.js
 * Navbar search toggler * Auto dismiss on ESC key
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.navsearch')
        .directive('searchOpen', searchOpen)
        .directive('searchDismiss', searchDismiss);

    //
    // directives definition
    // 
    
    function searchOpen () {
        var directive = {
            controller: searchOpenController,
            restrict: 'A'
        };
        return directive;

    }

    function searchDismiss () {
        var directive = {
            controller: searchDismissController,
            restrict: 'A'
        };
        return directive;
        
    }

    //
    // Contrller definition
    // 
    
    searchOpenController.$inject = ['$scope', '$element', 'NavSearch'];
    function searchOpenController ($scope, $element, NavSearch) {
      $element
        .on('click', function (e) { e.stopPropagation(); })
        .on('click', NavSearch.toggle);
    }

    searchDismissController.$inject = ['$scope', '$element', 'NavSearch'];
    function searchDismissController ($scope, $element, NavSearch) {
      
      var inputSelector = '.navbar-form input[type="text"]';

      $(inputSelector)
        .on('click', function (e) { e.stopPropagation(); })
        .on('keyup', function(e) {
          if (e.keyCode === 27) // ESC
            NavSearch.dismiss();
        });
        
      // click anywhere closes the search
      $(document).on('click', NavSearch.dismiss);
      // dismissable options
      $element
        .on('click', function (e) { e.stopPropagation(); })
        .on('click', NavSearch.dismiss);
    }

})();


/**=========================================================
 * Module: nav-search.js
 * Services to share navbar search functions
 =========================================================*/
 
(function() {
    'use strict';

    angular
        .module('app.navsearch')
        .service('NavSearch', NavSearch);

    function NavSearch() {
        this.toggle = toggle;
        this.dismiss = dismiss;

        ////////////////

        var navbarFormSelector = 'form.navbar-form';

        function toggle() {
          var navbarForm = $(navbarFormSelector);

          navbarForm.toggleClass('open');
          
          var isOpen = navbarForm.hasClass('open');
          
          navbarForm.find('input')[isOpen ? 'focus' : 'blur']();
        }

        function dismiss() {
          $(navbarFormSelector)
            .removeClass('open') // Close control
            .find('input[type="text"]').blur() // remove focus
            .val('') // Empty input
            ;
        }        
    }
})();

/**=========================================================
 * Module: demo-notify.js
 * Provides a simple demo for notify
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.notify')
        .controller('NotifyDemoCtrl', NotifyDemoCtrl);

    NotifyDemoCtrl.$inject = ['Notify', '$timeout'];
    function NotifyDemoCtrl(Notify, $timeout) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          vm.msgHtml = '<em class="fa fa-check"></em> Message with icon..';

          vm.notifyMsg = 'Some messages here..';
          vm.notifyOpts = {
            status: 'danger',
            pos: 'bottom-center'
          };

          // Service usage example
          $timeout(function(){
            
            Notify.alert( 
                'This is a custom message from notify..', 
                {status: 'success'}
            );
          
          }, 500);
        }
    }
})();

/**=========================================================
 * Module: notify.js
 * Directive for notify plugin
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.notify')
        .directive('notify', notify);

    notify.$inject = ['$window', 'Notify'];
    function notify ($window, Notify) {

        var directive = {
            link: link,
            restrict: 'A',
            scope: {
              options: '=',
              message: '='
            }
        };
        return directive;

        function link(scope, element) {

          element.on('click', function (e) {
            e.preventDefault();
            Notify.alert(scope.message, scope.options);
          });
        }

    }

})();


/**=========================================================
 * Module: notify.js
 * Create a notifications that fade out automatically.
 * Based on Notify addon from UIKit (http://getuikit.com/docs/addons_notify.html)
 =========================================================*/

(function() {
    'use strict';
    angular
        .module('app.notify')
        .service('Notify', Notify);

    Notify.$inject = ['$timeout'];
    function Notify($timeout) {

        this.alert = notifyAlert;

        ////////////////

        function notifyAlert(msg, opts) {
            if ( msg ) {
                $timeout(function(){
                    $.notify(msg, opts || {});
                });
            }
        }
    }

})();

/**
 * Notify Addon definition as jQuery plugin
 * Adapted version to work with Bootstrap classes
 * More information http://getuikit.com/docs/addons_notify.html
 */
(function($){
    'use strict';
    var containers = {},
        messages   = {},
        notify     =  function(options){
            if ($.type(options) === 'string') {
                options = { message: options };
            }
            if (arguments[1]) {
                options = $.extend(options, $.type(arguments[1]) === 'string' ? {status:arguments[1]} : arguments[1]);
            }
            return (new Message(options)).show();
        },
        closeAll  = function(group, instantly){
            var id;
            if(group) {
                for(id in messages) { if(group===messages[id].group) messages[id].close(instantly); }
            } else {
                for(id in messages) { messages[id].close(instantly); }
            }
        };
    var Message = function(options){
        // var $this = this;
        this.options = $.extend({}, Message.defaults, options);
        this.uuid    = 'ID'+(new Date().getTime())+'RAND'+(Math.ceil(Math.random() * 100000));
        this.element = $([
            // @geedmo: alert-dismissable enables bs close icon
            '<div class="uk-notify-message alert-dismissable">',
                '<a class="close">&times;</a>',
                '<div>'+this.options.message+'</div>',
            '</div>'
        ].join('')).data('notifyMessage', this);
        // status
        if (this.options.status) {
            this.element.addClass('alert alert-'+this.options.status);
            this.currentstatus = this.options.status;
        }
        this.group = this.options.group;
        messages[this.uuid] = this;
        if(!containers[this.options.pos]) {
            containers[this.options.pos] = $('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo('body').on('click', '.uk-notify-message', function(){
                $(this).data('notifyMessage').close();
            });
        }
    };
    $.extend(Message.prototype, {
        uuid: false,
        element: false,
        timout: false,
        currentstatus: '',
        group: false,
        show: function() {
            if (this.element.is(':visible')) return;
            var $this = this;
            containers[this.options.pos].show().prepend(this.element);
            var marginbottom = parseInt(this.element.css('margin-bottom'), 10);
            this.element.css({'opacity':0, 'margin-top': -1*this.element.outerHeight(), 'margin-bottom':0}).animate({'opacity':1, 'margin-top': 0, 'margin-bottom':marginbottom}, function(){
                if ($this.options.timeout) {
                    var closefn = function(){ $this.close(); };
                    $this.timeout = setTimeout(closefn, $this.options.timeout);
                    $this.element.hover(
                        function() { clearTimeout($this.timeout); },
                        function() { $this.timeout = setTimeout(closefn, $this.options.timeout);  }
                    );
                }
            });
            return this;
        },
        close: function(instantly) {
            var $this    = this,
                finalize = function(){
                    $this.element.remove();
                    if(!containers[$this.options.pos].children().length) {
                        containers[$this.options.pos].hide();
                    }
                    delete messages[$this.uuid];
                };
            if(this.timeout) clearTimeout(this.timeout);
            if(instantly) {
                finalize();
            } else {
                this.element.animate({'opacity':0, 'margin-top': -1* this.element.outerHeight(), 'margin-bottom':0}, function(){
                    finalize();
                });
            }
        },
        content: function(html){
            var container = this.element.find('>div');
            if(!html) {
                return container.html();
            }
            container.html(html);
            return this;
        },
        status: function(status) {
            if(!status) {
                return this.currentstatus;
            }
            this.element.removeClass('alert alert-'+this.currentstatus).addClass('alert alert-'+status);
            this.currentstatus = status;
            return this;
        }
    });
    Message.defaults = {
        message: '',
        status: 'normal',
        timeout: 5000,
        group: null,
        pos: 'top-center'
    };
    
    $.notify          = notify;
    $.notify.message  = Message;
    $.notify.closeAll = closeAll;
    
    return notify;
}(jQuery));

/**=========================================================
 * Module: access-login.js
 * Demo for login api
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.pages')
        .controller('LoginFormController', LoginFormController);

    LoginFormController.$inject = ['$state', 'User', '$rootScope'];
    function LoginFormController($state, User, $rootScope) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          // bind here all data from the form
          vm.account = {
            realm: 'merchant',
            remember: true
          };
          // place the message if something goes wrong
          vm.authMsg = '';

          vm.login = function() {
            vm.authMsg = '';

            if(vm.loginForm.$valid) {
              
              User
                .login(vm.account, function (accessToken) {
                  $rootScope.$broadcast('User.logined');
                  $state.go('app.dashboard');
                }, function (error) {
                  vm.authMsg = error.data.error.message;
                });

            }
            else {
              // set as dirty if the user click directly to login so we show the validation messages
              /*jshint -W106*/
              vm.loginForm.account_username.$dirty = true;
              vm.loginForm.account_password.$dirty = true;
            }
          };
        }
    }
})();

/**=========================================================
 * Module: access-register.js
 * Demo for register account api
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.pages')
        .controller('RegisterFormController', RegisterFormController);

    RegisterFormController.$inject = ['$rootScope', '$state', 'User', '$filter'];
    function RegisterFormController($rootScope, $state, User, $filter) {
        var vm = this;

        activate();

        ////////////////

        function activate() {
          // bind here all data from the form
          vm.account = {
            realm: 'merchant',
            role: 'owner'
          };
          vm.agreed = true;
          // place the message if something goes wrong
          vm.authMsg = '';
            
          vm.register = function() {
            vm.authMsg = '';

            if(vm.registerForm.$valid) {
              
              vm.account.email = vm.account.username+"@fankahui.com";
              vm.account.phone = vm.account.username;
              
              User
                .create(vm.account, function (account) {
                  User
                    .login({username: vm.account.username, password: vm.account.password})
                    .$promise.then(function (accessToken) {
                      $rootScope.$broadcast('User.logined');
                      $state.go('app.dashboard');
                    });
                }, function (error) {
                  vm.authMsg = $filter('register_error')(error.data.error.message);
                });

            }
            else {
              // set as dirty if the user click directly to login so we show the validation messages
              /*jshint -W106*/
              vm.registerForm.account_username.$dirty = true;
              vm.registerForm.account_password.$dirty = true;
              vm.registerForm.account_agreed.$dirty = true;
              
            }
          };
        }
    }
})();

/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.pages')
        .filter('register_error', registerErrorFilter)
    ;
    
    function registerErrorFilter() {
        // "The `merchant` instance is not valid. Details: `name` name exist (value: "fankahui")."
      return function (msg) {
        if(/Merchant name exist/.test(msg)) return "商户名字已经存在";
        if(/User already exists/.test(msg)) return "用户名已经存在";
        else return msg;
      }
    }
})();
/**=========================================================
 * Collapse panels * [panel-collapse]
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.panels')
        .directive('panelCollapse', panelCollapse);

    function panelCollapse () {
        var directive = {
            controller: Controller,
            restrict: 'A',
            scope: false
        };
        return directive;
    }

    Controller.$inject = ['$scope', '$element', '$timeout', '$localStorage'];
    function Controller ($scope, $element, $timeout, $localStorage) {
      var storageKeyName = 'panelState';

      // Prepare the panel to be collapsible
      var $elem   = $($element),
          parent  = $elem.closest('.panel'), // find the first parent panel
          panelId = parent.attr('id');

      // Load the saved state if exists
      var currentState = loadPanelState( panelId );
      if ( typeof currentState !== 'undefined') {
        $timeout(function(){
            $scope[panelId] = currentState; },
          10);
      }

      // bind events to switch icons
      $element.bind('click', function(e) {
        e.preventDefault();
        savePanelState( panelId, !$scope[panelId] );

      });
  
      // Controller helpers
      function savePanelState(id, state) {
        if(!id) return false;
        var data = angular.fromJson($localStorage[storageKeyName]);
        if(!data) { data = {}; }
        data[id] = state;
        $localStorage[storageKeyName] = angular.toJson(data);
      }
      function loadPanelState(id) {
        if(!id) return false;
        var data = angular.fromJson($localStorage[storageKeyName]);
        if(data) {
          return data[id];
        }
      }
    }

})();

/**=========================================================
 * Dismiss panels * [panel-dismiss]
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.panels')
        .directive('panelDismiss', panelDismiss);

    function panelDismiss () {

        var directive = {
            controller: Controller,
            restrict: 'A'
        };
        return directive;

    }

    Controller.$inject = ['$scope', '$element', '$q', 'Utils'];
    function Controller ($scope, $element, $q, Utils) {
      var removeEvent   = 'panel-remove',
          removedEvent  = 'panel-removed';

      $element.on('click', function (e) {
        e.preventDefault();

        // find the first parent panel
        var parent = $(this).closest('.panel');

        removeElement();

        function removeElement() {
          var deferred = $q.defer();
          var promise = deferred.promise;
          
          // Communicate event destroying panel
          $scope.$emit(removeEvent, parent.attr('id'), deferred);
          promise.then(destroyMiddleware);
        }

        // Run the animation before destroy the panel
        function destroyMiddleware() {
          if(Utils.support.animation) {
            parent.animo({animation: 'bounceOut'}, destroyPanel);
          }
          else destroyPanel();
        }

        function destroyPanel() {

          var col = parent.parent();
          parent.remove();
          // remove the parent if it is a row and is empty and not a sortable (portlet)
          col
            .filter(function() {
            var el = $(this);
            return (el.is('[class*="col-"]:not(.sortable)') && el.children('*').length === 0);
          }).remove();

          // Communicate event destroyed panel
          $scope.$emit(removedEvent, parent.attr('id'));

        }

      });
    }
})();



/**=========================================================
 * Refresh panels
 * [panel-refresh] * [data-spinner="standard"]
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.panels')
        .directive('panelRefresh', panelRefresh);

    function panelRefresh () {
        var directive = {
            controller: Controller,
            restrict: 'A',
            scope: false
        };
        return directive;

    }

    Controller.$inject = ['$scope', '$element'];
    function Controller ($scope, $element) {
      var refreshEvent   = 'panel-refresh',
          whirlClass     = 'whirl',
          defaultSpinner = 'standard';

      // catch clicks to toggle panel refresh
      $element.on('click', function (e) {
        e.preventDefault();

        var $this   = $(this),
            panel   = $this.parents('.panel').eq(0),
            spinner = $this.data('spinner') || defaultSpinner
            ;

        // start showing the spinner
        panel.addClass(whirlClass + ' ' + spinner);

        // Emit event when refresh clicked
        $scope.$emit(refreshEvent, panel.attr('id'));

      });

      // listen to remove spinner
      $scope.$on('removeSpinner', removeSpinner);

      // method to clear the spinner when done
      function removeSpinner (ev, id) {
        if (!id) return;
        var newid = id.charAt(0) === '#' ? id : ('#'+id);
        angular
          .element(newid)
          .removeClass(whirlClass);
      }
    }
})();



/**=========================================================
 * Module panel-tools.js
 * Directive tools to control panels. 
 * Allows collapse, refresh and dismiss (remove)
 * Saves panel state in browser storage
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.panels')
        .directive('paneltool', paneltool);

    paneltool.$inject = ['$compile', '$timeout'];
    function paneltool ($compile, $timeout) {
        var directive = {
            link: link,
            restrict: 'E',
            scope: false
        };
        return directive;

        function link(scope, element, attrs) {

          var templates = {
            /* jshint multistr: true */
            collapse:'<a href="#" panel-collapse="" tooltip="Collapse Panel" ng-click="{{panelId}} = !{{panelId}}"> \
                        <em ng-show="{{panelId}}" class="fa fa-plus"></em> \
                        <em ng-show="!{{panelId}}" class="fa fa-minus"></em> \
                      </a>',
            dismiss: '<a href="#" panel-dismiss="" tooltip="Close Panel">\
                       <em class="fa fa-times"></em>\
                     </a>',
            refresh: '<a href="#" panel-refresh="" data-spinner="{{spinner}}" tooltip="Refresh Panel">\
                       <em class="fa fa-refresh"></em>\
                     </a>'
          };

          var tools = scope.panelTools || attrs;
      
          $timeout(function() {
            element.html(getTemplate(element, tools )).show();
            $compile(element.contents())(scope);
            
            element.addClass('pull-right');
          });
  
          function getTemplate( elem, attrs ){
            var temp = '';
            attrs = attrs || {};
            if(attrs.toolCollapse)
              temp += templates.collapse.replace(/{{panelId}}/g, (elem.parent().parent().attr('id')) );
            if(attrs.toolDismiss)
              temp += templates.dismiss;
            if(attrs.toolRefresh)
              temp += templates.refresh.replace(/{{spinner}}/g, attrs.toolRefresh);
            return temp;
          }
        }// link
    } 

})();

/**=========================================================
 * Module: demo-panels.js
 * Provides a simple demo for panel actions
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.panels')
        .controller('PanelsCtrl', PanelsCtrl);

    PanelsCtrl.$inject = ['$scope', '$timeout'];
    function PanelsCtrl($scope, $timeout) {

        activate();

        ////////////////

        function activate() {

          // PANEL COLLAPSE EVENTS
          // ----------------------------------- 

          // We can use panel id name for the boolean flag to [un]collapse the panel
          $scope.$watch('panelDemo1',function(newVal){
              
              console.log('panelDemo1 collapsed: ' + newVal);

          });


          // PANEL DISMISS EVENTS
          // ----------------------------------- 

          // Before remove panel
          $scope.$on('panel-remove', function(event, id, deferred){
            
            console.log('Panel #' + id + ' removing');
            
            // Here is obligatory to call the resolve() if we pretend to remove the panel finally
            // Not calling resolve() will NOT remove the panel
            // It's up to your app to decide if panel should be removed or not
            deferred.resolve();
          
          });

          // Panel removed ( only if above was resolved() )
          $scope.$on('panel-removed', function(event, id){

            console.log('Panel #' + id + ' removed');

          });


          // PANEL REFRESH EVENTS
          // ----------------------------------- 

          $scope.$on('panel-refresh', function(event, id) {
            var secs = 3;
            
            console.log('Refreshing during ' + secs +'s #'+id);

            $timeout(function(){
              // directive listen for to remove the spinner 
              // after we end up to perform own operations
              $scope.$broadcast('removeSpinner', id);
              
              console.log('Refreshed #' + id);

            }, 3000);

          });

          // PANELS VIA NG-REPEAT
          // ----------------------------------- 

          $scope.panels = [
            {
              id: 'panelRepeat1',
              title: 'Panel Title 1',
              body: 'Nulla eget lorem leo, sit amet elementum lorem. '
            },
            {
              id: 'panelRepeat2',
              title: 'Panel Title 2',
              body: 'Nulla eget lorem leo, sit amet elementum lorem. '
            },
            {
              id: 'panelRepeat3',
              title: 'Panel Title 3',
              body: 'Nulla eget lorem leo, sit amet elementum lorem. '
            }
          ];
        }

    } //PanelsCtrl

})();


/**=========================================================
 * Drag and drop any panel based on jQueryUI portlets
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.panels')
        .directive('portlet', portlet);

    portlet.$inject = ['$timeout', '$localStorage'];
    function portlet ($timeout, $localStorage) {
      var storageKeyName = 'portletState';

      return {
        restrict: 'A',
        link: link
      };

      /////////////

      function link(scope, element) {
          
        // not compatible with jquery sortable
        if(!$.fn.sortable) return;

        element.sortable({
          connectWith:          '[portlet]', // same like directive 
          items:                'div.panel',
          handle:               '.portlet-handler',
          opacity:              0.7,
          placeholder:          'portlet box-placeholder',
          cancel:               '.portlet-cancel',
          forcePlaceholderSize: true,
          iframeFix:            false,
          tolerance:            'pointer',
          helper:               'original',
          revert:               200,
          forceHelperSize:      true,
          update:               savePortletOrder,
          create:               loadPortletOrder
        });

      }


      function savePortletOrder(event/*, ui*/) {
        var self = event.target;
        var data = angular.fromJson($localStorage[storageKeyName]);
        
        if(!data) { data = {}; }

        data[self.id] = $(self).sortable('toArray');

        if(data) {
          $timeout(function() {
            $localStorage[storageKeyName] = angular.toJson(data);
          });
        }
      }

      function loadPortletOrder(event) {
        var self = event.target;
        var data = angular.fromJson($localStorage[storageKeyName]);

        if(data) {
          
          var porletId = self.id,
              panels   = data[porletId];

          if(panels) {
            var portlet = $('#'+porletId);
            
            $.each(panels, function(index, value) {
               $('#'+value).appendTo(portlet);
            });
          }

        }
      }

    }

})();
 
(function() {
    'use strict';

    angular
        .module('app.preloader')
        .directive('preloader', preloader);

    preloader.$inject = ['$animate', '$timeout', '$q'];
    function preloader ($animate, $timeout, $q) {

        var directive = {
            restrict: 'EAC',
            template: 
              '<div class="preloader-progress">' +
                  '<div class="preloader-progress-bar" ' +
                       'ng-style="{width: loadCounter + \'%\'}"></div>' +
              '</div>'
            ,
            link: link
        };
        return directive;

        ///////

        function link(scope, el) {

          scope.loadCounter = 0;

          var counter  = 0,
              timeout;

          // disables scrollbar
          angular.element('body').css('overflow', 'hidden');
          // ensure class is present for styling
          el.addClass('preloader');

          appReady().then(endCounter);

          timeout = $timeout(startCounter);

          ///////

          function startCounter() {

            var remaining = 100 - counter;
            counter = counter + (0.015 * Math.pow(1 - Math.sqrt(remaining), 2));

            scope.loadCounter = parseInt(counter, 10);

            timeout = $timeout(startCounter, 20);
          }

          function endCounter() {

            $timeout.cancel(timeout);

            scope.loadCounter = 100;

            $timeout(function(){
              // animate preloader hiding
              $animate.addClass(el, 'preloader-hidden');
              // retore scrollbar
              angular.element('body').css('overflow', '');
            }, 300);
          }

          function appReady() {
            var deferred = $q.defer();
            var viewsLoaded = 0;
            // if this doesn't sync with the real app ready
            // a custom event must be used instead
            var off = scope.$on('$viewContentLoaded', function () {
              viewsLoaded ++;
              // we know there are at least two views to be loaded 
              // before the app is ready (1-index.html 2-app*.html)
              if ( viewsLoaded === 2) {
                // with resolve this fires only once
                $timeout(function(){
                  deferred.resolve();
                }, 3000);

                off();
              }

            });

            return deferred.promise;
          }

        } //link
    }

})();
/**=========================================================
 * Module: helpers.js
 * Provides helper functions for routes definition
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.routes')
        .provider('RouteHelpers', RouteHelpersProvider)
        ;

    RouteHelpersProvider.$inject = ['APP_REQUIRES'];
    function RouteHelpersProvider(APP_REQUIRES) {

      /* jshint validthis:true */
      return {
        // provider access level
        basepath: basepath,
        resolveFor: resolveFor,
        // controller access level
        $get: function() {
          return {
            basepath: basepath,
            resolveFor: resolveFor
          };
        }
      };

      // Set here the base of the relative path
      // for all app views
      function basepath(uri) {
        return 'app/views/' + uri;
      }

      // Generates a resolve object by passing script names
      // previously configured in constant.APP_REQUIRES
      function resolveFor() {
        var _args = arguments;
        return {
          deps: ['$ocLazyLoad','$q', function ($ocLL, $q) {
            // Creates a promise chain for each argument
            var promise = $q.when(1); // empty promise
            for(var i=0, len=_args.length; i < len; i ++){
              promise = andThen(_args[i]);
            }
            return promise;

            // creates promise to chain dynamically
            function andThen(_arg) {
              // also support a function that returns a promise
              if(typeof _arg === 'function')
                  return promise.then(_arg);
              else
                  return promise.then(function() {
                    // if is a module, pass the name. If not, pass the array
                    var whatToLoad = getRequired(_arg);
                    // simple error check
                    if(!whatToLoad) return $.error('Route resolve: Bad resource name [' + _arg + ']');
                    // finally, return a promise
                    return $ocLL.load( whatToLoad );
                  });
            }
            // check and returns required data
            // analyze module items with the form [name: '', files: []]
            // and also simple array of script files (for not angular js)
            function getRequired(name) {
              if (APP_REQUIRES.modules)
                  for(var m in APP_REQUIRES.modules)
                      if(APP_REQUIRES.modules[m].name && APP_REQUIRES.modules[m].name === name)
                          return APP_REQUIRES.modules[m];
              return APP_REQUIRES.scripts && APP_REQUIRES.scripts[name];
            }

          }]};
      } // resolveFor

    }


})();


/**=========================================================
 * Module: config.js
 * App routes and resources configuration
 =========================================================*/


(function() {
    'use strict';

    angular
        .module('app.routes')
        .config(routesConfig);

    routesConfig.$inject = ['$stateProvider', '$locationProvider', '$urlRouterProvider', 'RouteHelpersProvider'];
    function routesConfig($stateProvider, $locationProvider, $urlRouterProvider, helper){

        // Set the following to true to enable the HTML5 Mode
        // You may have to set <base> tag in index and a routing configuration in your server
        $locationProvider.html5Mode(false);

        // defaults to dashboard
        $urlRouterProvider.otherwise('/app/dashboard');

        //
        // Application Routes
        // -----------------------------------
        $stateProvider
          .state('app', {
              url: '/app',
              abstract: true,
              templateUrl: helper.basepath('app.html'),
              resolve: helper.resolveFor('fastclick', 'modernizr', 'icons', 'screenfull', 'animo', 'sparklines', 'slimscroll', 'classyloader', 'toaster', 'whirl', 'moment')
          })
          .state('app.dashboard', {
              url: '/dashboard',
              title: 'Dashboard',
              templateUrl: helper.basepath('dashboard.html'),
              controller: 'DashboardController as dash',
              resolve: helper.resolveFor('flot-chart','flot-chart-plugins', 'weather-icons')
          })
          .state('app.sell', {
              url: '/sell',
              title: 'sell',
              templateUrl: helper.basepath('sell.html'),
              controller: 'SellController as sell',
              resolve: helper.resolveFor('ngTable', 'ngDialog', 'oitozero.ngSweetAlert', 'loaders.css', 'spinkit')
          })
          .state('app.members', {
              url: '/members',
              title: 'Members',
              templateUrl: helper.basepath('members.html'),
              controller: 'MembersController as members',
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.member', {
              url: '/members/:memberId',
              title: 'Member Detail',
              templateUrl: helper.basepath('member.html'),
              controller: 'MemberController as member',
              resolve: helper.resolveFor('ngTable', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.deals', {
              url: '/deals',
              title: 'Deals',
              templateUrl: helper.basepath('deals.html'),
              resolve: helper.resolveFor('ngTable', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.deal', {
              url: '/deals/:dealId',
              title: 'Deal',
              templateUrl: helper.basepath('deal.html'),
              controller: 'DealController as dc',
              resolve: helper.resolveFor('ngTable', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.cost', {
              url: '/cost',
              title: 'Cost',
              templateUrl: helper.basepath('cost.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.item', {
              url: '/item',
              title: 'Item',
              templateUrl: helper.basepath('item.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.item-add', {
              url: '/item-add',
              title: 'Item Add',
              templateUrl: helper.basepath('item-add.html'),
              resolve: helper.resolveFor('parsley')
          })
          .state('app.card', {
              url: '/card',
              title: 'Card',
              templateUrl: helper.basepath('card.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.campaign', {
              url: '/campaign',
              title: 'Campaign',
              templateUrl: helper.basepath('campaign.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.myshop', {
              url: '/myshop',
              title: 'MyShop',
              templateUrl: helper.basepath('myshop.html'),
              resolve: helper.resolveFor('xeditable')
          })
          .state('app.setting', {
              url: '/setting',
              title: 'Setting',
              templateUrl: helper.basepath('setting.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport', 'ngDialog', 'oitozero.ngSweetAlert', 'spinkit')
          })
          .state('app.widgets', {
              url: '/widgets',
              title: 'Widgets',
              templateUrl: helper.basepath('widgets.html'),
              resolve: helper.resolveFor('loadGoogleMapsJS', function() { return loadGoogleMaps(); }, 'ui.map')
          })
          .state('app.buttons', {
              url: '/buttons',
              title: 'Buttons',
              templateUrl: helper.basepath('buttons.html')
          })
          .state('app.colors', {
              url: '/colors',
              title: 'Colors',
              templateUrl: helper.basepath('colors.html')
          })
          .state('app.localization', {
              url: '/localization',
              title: 'Localization',
              templateUrl: helper.basepath('localization.html')
          })
          .state('app.infinite-scroll', {
              url: '/infinite-scroll',
              title: 'Infinite Scroll',
              templateUrl: helper.basepath('infinite-scroll.html'),
              resolve: helper.resolveFor('infinite-scroll')
          })
          .state('app.navtree', {
              url: '/navtree',
              title: 'Nav Tree',
              templateUrl: helper.basepath('nav-tree.html'),
              resolve: helper.resolveFor('angularBootstrapNavTree')
          })
          .state('app.nestable', {
              url: '/nestable',
              title: 'Nestable',
              templateUrl: helper.basepath('nestable.html'),
              resolve: helper.resolveFor('ng-nestable')
          })
          .state('app.sortable', {
              url: '/sortable',
              title: 'Sortable',
              templateUrl: helper.basepath('sortable.html'),
              resolve: helper.resolveFor('htmlSortable')
          })
          .state('app.notifications', {
              url: '/notifications',
              title: 'Notifications',
              templateUrl: helper.basepath('notifications.html')
          })
          .state('app.carousel', {
              url: '/carousel',
              title: 'Carousel',
              templateUrl: helper.basepath('carousel.html'),
              resolve: helper.resolveFor('angular-carousel')
          })
          .state('app.ngdialog', {
              url: '/ngdialog',
              title: 'ngDialog',
              templateUrl: helper.basepath('ngdialog.html'),
              resolve: angular.extend(helper.resolveFor('ngDialog'),{
                tpl: function() { return { path: helper.basepath('ngdialog-template.html') }; }
              }),
              controller: 'DialogIntroCtrl'
          })
          .state('app.sweetalert', {
            url: '/sweetalert',
            title: 'SweetAlert',
            templateUrl: helper.basepath('sweetalert.html'),
            resolve: helper.resolveFor('oitozero.ngSweetAlert')
          })
          .state('app.tour', {
            url: '/tour',
            title: 'Tour',
            templateUrl: helper.basepath('tour.html'),
            resolve: helper.resolveFor('bm.bsTour')
          })
          .state('app.interaction', {
              url: '/interaction',
              title: 'Interaction',
              templateUrl: helper.basepath('interaction.html')
          })
          .state('app.spinners', {
              url: '/spinners',
              title: 'Spinners',
              templateUrl: helper.basepath('spinners.html'),
              resolve: helper.resolveFor('loaders.css', 'spinkit')
          })
          .state('app.dropdown-animations', {
              url: '/dropdown-animations',
              title: 'Dropdown Animations',
              templateUrl: helper.basepath('dropdown-animations.html')
          })
          .state('app.panels', {
              url: '/panels',
              title: 'Panels',
              templateUrl: helper.basepath('panels.html')
          })
          .state('app.portlets', {
              url: '/portlets',
              title: 'Portlets',
              templateUrl: helper.basepath('portlets.html'),
              resolve: helper.resolveFor('jquery-ui', 'jquery-ui-widgets')
          })
          .state('app.maps-google', {
              url: '/maps-google',
              title: 'Maps Google',
              templateUrl: helper.basepath('maps-google.html'),
              resolve: helper.resolveFor('loadGoogleMapsJS', function() { return loadGoogleMaps(); }, 'ui.map')
          })
          .state('app.maps-vector', {
              url: '/maps-vector',
              title: 'Maps Vector',
              templateUrl: helper.basepath('maps-vector.html'),
              controller: 'VectorMapController',
              controllerAs: 'vmap',
              resolve: helper.resolveFor('vector-map', 'vector-map-maps')
          })
          .state('app.grid', {
              url: '/grid',
              title: 'Grid',
              templateUrl: helper.basepath('grid.html')
          })
          .state('app.grid-masonry', {
              url: '/grid-masonry',
              title: 'Grid Masonry',
              templateUrl: helper.basepath('grid-masonry.html')
          })
          .state('app.grid-masonry-deck', {
              url: '/grid-masonry-deck',
              title: 'Grid Masonry',
              templateUrl: helper.basepath('grid-masonry-deck.html'),
              resolve: helper.resolveFor('spinkit', 'akoenig.deckgrid')
          })
          .state('app.typo', {
              url: '/typo',
              title: 'Typo',
              templateUrl: helper.basepath('typo.html')
          })
          .state('app.icons-font', {
              url: '/icons-font',
              title: 'Icons Font',
              templateUrl: helper.basepath('icons-font.html'),
              resolve: helper.resolveFor('icons')
          })
          .state('app.icons-weather', {
              url: '/icons-weather',
              title: 'Icons Weather',
              templateUrl: helper.basepath('icons-weather.html'),
              resolve: helper.resolveFor('weather-icons', 'skycons')
          })
          .state('app.form-standard', {
              url: '/form-standard',
              title: 'Form Standard',
              templateUrl: helper.basepath('form-standard.html')
          })
          .state('app.form-extended', {
              url: '/form-extended',
              title: 'Form Extended',
              templateUrl: helper.basepath('form-extended.html'),
              resolve: helper.resolveFor('colorpicker.module', 'codemirror', 'taginput','inputmask','localytics.directives', 'ui.bootstrap-slider', 'ngWig', 'filestyle', 'textAngular')
          })
          .state('app.form-validation', {
              url: '/form-validation',
              title: 'Form Validation',
              templateUrl: helper.basepath('form-validation.html'),
              resolve: helper.resolveFor('ui.select', 'taginput','inputmask','localytics.directives')
          })
          .state('app.form-parsley', {
              url: '/form-parsley',
              title: 'Form Validation - Parsley',
              templateUrl: helper.basepath('form-parsley.html'),
              resolve: helper.resolveFor('parsley')
          })
          .state('app.form-wizard', {
              url: '/form-wizard',
              title: 'Form Wizard',
              templateUrl: helper.basepath('form-wizard.html'),
              resolve: helper.resolveFor('parsley')
          })
          .state('app.form-upload', {
              url: '/form-upload',
              title: 'Form upload',
              templateUrl: helper.basepath('form-upload.html'),
              resolve: helper.resolveFor('angularFileUpload', 'filestyle')
          })
          .state('app.form-xeditable', {
              url: '/form-xeditable',
              templateUrl: helper.basepath('form-xeditable.html'),
              resolve: helper.resolveFor('xeditable')
          })
          .state('app.form-imagecrop', {
              url: '/form-imagecrop',
              templateUrl: helper.basepath('form-imagecrop.html'),
              resolve: helper.resolveFor('ngImgCrop', 'filestyle')
          })
          .state('app.form-uiselect', {
              url: '/form-uiselect',
              templateUrl: helper.basepath('form-uiselect.html'),
              controller: 'uiSelectController',
              controllerAs: 'uisel',
              resolve: helper.resolveFor('ui.select')
          })
          .state('app.chart-flot', {
              url: '/chart-flot',
              title: 'Chart Flot',
              templateUrl: helper.basepath('chart-flot.html'),
              resolve: helper.resolveFor('flot-chart','flot-chart-plugins')
          })
          .state('app.chart-radial', {
              url: '/chart-radial',
              title: 'Chart Radial',
              templateUrl: helper.basepath('chart-radial.html'),
              resolve: helper.resolveFor('classyloader', 'ui.knob', 'easypiechart')
          })
          .state('app.chart-js', {
              url: '/chart-js',
              title: 'Chart JS',
              templateUrl: helper.basepath('chart-js.html'),
              resolve: helper.resolveFor('chartjs')
          })
          .state('app.chart-rickshaw', {
              url: '/chart-rickshaw',
              title: 'Chart Rickshaw',
              templateUrl: helper.basepath('chart-rickshaw.html'),
              resolve: helper.resolveFor('angular-rickshaw')
          })
          .state('app.chart-morris', {
              url: '/chart-morris',
              title: 'Chart Morris',
              templateUrl: helper.basepath('chart-morris.html'),
              resolve: helper.resolveFor('morris')
          })
          .state('app.chart-chartist', {
              url: '/chart-chartist',
              title: 'Chart Chartist',
              templateUrl: helper.basepath('chart-chartist.html'),
              resolve: helper.resolveFor('angular-chartist')
          })
          .state('app.table-standard', {
              url: '/table-standard',
              title: 'Table Standard',
              templateUrl: helper.basepath('table-standard.html')
          })
          .state('app.table-extended', {
              url: '/table-extended',
              title: 'Table Extended',
              templateUrl: helper.basepath('table-extended.html')
          })
          .state('app.table-datatable', {
              url: '/table-datatable',
              title: 'Table Datatable',
              templateUrl: helper.basepath('table-datatable.html'),
              resolve: helper.resolveFor('datatables')
          })
          .state('app.table-xeditable', {
              url: '/table-xeditable',
              templateUrl: helper.basepath('table-xeditable.html'),
              resolve: helper.resolveFor('xeditable')
          })
          .state('app.table-ngtable', {
              url: '/table-ngtable',
              templateUrl: helper.basepath('table-ngtable.html'),
              resolve: helper.resolveFor('ngTable', 'ngTableExport')
          })
          .state('app.table-nggrid', {
              url: '/table-nggrid',
              templateUrl: helper.basepath('table-ng-grid.html'),
              resolve: helper.resolveFor('ngGrid')
          })
          .state('app.table-uigrid', {
              url: '/table-uigrid',
              templateUrl: helper.basepath('table-uigrid.html'),
              resolve: helper.resolveFor('ui.grid')
          })
          .state('app.table-angulargrid', {
              url: '/table-angulargrid',
              templateUrl: helper.basepath('table-angulargrid.html'),
              resolve: helper.resolveFor('angularGrid')
          })
          .state('app.timeline', {
              url: '/timeline',
              title: 'Timeline',
              templateUrl: helper.basepath('timeline.html')
          })
          .state('app.calendar', {
              url: '/calendar',
              title: 'Calendar',
              templateUrl: helper.basepath('calendar.html'),
              resolve: helper.resolveFor('jquery-ui', 'jquery-ui-widgets', 'fullcalendar')
          })
          .state('app.invoice', {
              url: '/invoice',
              title: 'Invoice',
              templateUrl: helper.basepath('invoice.html')
          })
          .state('app.search', {
              url: '/search',
              title: 'Search',
              templateUrl: helper.basepath('search.html'),
              resolve: helper.resolveFor('localytics.directives', 'ui.bootstrap-slider')
          })
          .state('app.todo', {
              url: '/todo',
              title: 'Todo List',
              templateUrl: helper.basepath('todo.html'),
              controller: 'TodoController',
              controllerAs: 'todo'
          })
          .state('app.profile', {
              url: '/profile',
              title: 'Profile',
              templateUrl: helper.basepath('profile.html'),
              resolve: helper.resolveFor('loadGoogleMapsJS', function() { return loadGoogleMaps(); }, 'ui.map')
          })
          .state('app.code-editor', {
              url: '/code-editor',
              templateUrl: helper.basepath('code-editor.html'),
              controller: 'CodeEditorController',
              controllerAs: 'coder',
              resolve: {
                  deps: helper.resolveFor('codemirror', 'ui.codemirror', 'codemirror-modes-web', 'angularBootstrapNavTree').deps,
                  filetree: ['LoadTreeService', function (LoadTreeService) {
                      return LoadTreeService.get().$promise.then(function (res) {
                          return res.data;
                      });
                  }]
              }
          })
          .state('app.template', {
              url: '/template',
              title: 'Blank Template',
              templateUrl: helper.basepath('template.html')
          })
          .state('app.documentation', {
              url: '/documentation',
              title: 'Documentation',
              templateUrl: helper.basepath('documentation.html'),
              resolve: helper.resolveFor('flatdoc')
          })
          // Forum
          // -----------------------------------
          .state('app.forum', {
              url: '/forum',
              title: 'Forum',
              templateUrl: helper.basepath('forum.html')
          })
          .state('app.forum-topics', {
              url: '/forum/topics/:catid',
              title: 'Forum Topics',
              templateUrl: helper.basepath('forum-topics.html')
          })
          .state('app.forum-discussion', {
              url: '/forum/discussion/:topid',
              title: 'Forum Discussion',
              templateUrl: helper.basepath('forum-discussion.html')
          })
          // Blog
          // -----------------------------------
          .state('app.blog', {
              url: '/blog',
              title: 'Blog',
              templateUrl: helper.basepath('blog.html'),
              resolve: helper.resolveFor('angular-jqcloud')
          })
          .state('app.blog-post', {
              url: '/post',
              title: 'Post',
              templateUrl: helper.basepath('blog-post.html'),
              resolve: helper.resolveFor('angular-jqcloud')
          })
          .state('app.articles', {
              url: '/articles',
              title: 'Articles',
              templateUrl: helper.basepath('blog-articles.html'),
              resolve: helper.resolveFor('datatables')
          })
          .state('app.article-view', {
              url: '/article/:id',
              title: 'Article View',
              templateUrl: helper.basepath('blog-article-view.html'),
              resolve: helper.resolveFor('ui.select', 'textAngular')
          })
          // eCommerce
          // -----------------------------------
          .state('app.orders', {
              url: '/orders',
              title: 'Orders',
              templateUrl: helper.basepath('ecommerce-orders.html'),
              resolve: helper.resolveFor('datatables')
          })
          .state('app.order-view', {
              url: '/order-view',
              title: 'Order View',
              templateUrl: helper.basepath('ecommerce-order-view.html')
          })
          .state('app.products', {
              url: '/products',
              title: 'Products',
              templateUrl: helper.basepath('ecommerce-products.html'),
              resolve: helper.resolveFor('datatables')
          })
          .state('app.product-view', {
              url: '/product/:id',
              title: 'Product View',
              templateUrl: helper.basepath('ecommerce-product-view.html')
          })
          // Mailbox
          // -----------------------------------
          .state('app.mailbox', {
              url: '/mailbox',
              title: 'Mailbox',
              abstract: true,
              templateUrl: helper.basepath('mailbox.html')
          })
          .state('app.mailbox.folder', {
              url: '/folder/:folder',
              title: 'Mailbox',
              templateUrl: helper.basepath('mailbox-inbox.html')
          })
          .state('app.mailbox.view', {
              url : '/{mid:[0-9]{1,4}}',
              title: 'View mail',
              templateUrl: helper.basepath('mailbox-view.html'),
              resolve: helper.resolveFor('ngWig')
          })
          .state('app.mailbox.compose', {
              url: '/compose',
              title: 'Mailbox',
              templateUrl: helper.basepath('mailbox-compose.html'),
              resolve: helper.resolveFor('ngWig')
          })
          //
          // Multiple level example
          // -----------------------------------
          .state('app.multilevel', {
              url: '/multilevel',
              title: 'Multilevel',
              template: '<h3>Multilevel Views</h3>' + '<div class="lead ba p">View @ Top Level ' + '<div ui-view=""></div> </div>'
          })
          .state('app.multilevel.level1', {
              url: '/level1',
              title: 'Multilevel - Level1',
              template: '<div class="lead ba p">View @ Level 1' + '<div ui-view=""></div> </div>'
          })
          .state('app.multilevel.level1.item', {
              url: '/item',
              title: 'Multilevel - Level1',
              template: '<div class="lead ba p"> Menu item @ Level 1</div>'
          })
          .state('app.multilevel.level1.level2', {
              url: '/level2',
              title: 'Multilevel - Level2',
              template: '<div class="lead ba p">View @ Level 2'  + '<div ui-view=""></div> </div>'
          })
          .state('app.multilevel.level1.level2.level3', {
              url: '/level3',
              title: 'Multilevel - Level3',
              template: '<div class="lead ba p">View @ Level 3' + '<div ui-view=""></div> </div>'
          })
          .state('app.multilevel.level1.level2.level3.item', {
              url: '/item',
              title: 'Multilevel - Level3 Item',
              template: '<div class="lead ba p"> Menu item @ Level 3</div>'
          })
          //
          // Single Page Routes
          // -----------------------------------
          .state('page', {
              url: '/page',
              templateUrl: 'app/pages/page.html',
              resolve: helper.resolveFor('modernizr', 'icons'),
              controller: ['$rootScope', function($rootScope) {
                  $rootScope.app.layout.isBoxed = false;
              }]
          })
          .state('page.login', {
              url: '/login',
              title: 'Login',
              templateUrl: 'app/pages/login.html'
          })
          .state('page.register', {
              url: '/register',
              title: 'Register',
              templateUrl: 'app/pages/register.html'
          })
          .state('page.recover', {
              url: '/recover',
              title: 'Recover',
              templateUrl: 'app/pages/recover.html'
          })
          .state('page.lock', {
              url: '/lock',
              title: 'Lock',
              templateUrl: 'app/pages/lock.html'
          })
          .state('page.404', {
              url: '/404',
              title: 'Not Found',
              templateUrl: 'app/pages/404.html'
          })
          //
          // Horizontal layout
          // -----------------------------------
          .state('app-h', {
              url: '/app-h',
              abstract: true,
              templateUrl: helper.basepath( 'app-h.html' ),
              resolve: helper.resolveFor('fastclick', 'modernizr', 'icons', 'screenfull', 'animo', 'sparklines', 'slimscroll', 'classyloader', 'toaster', 'whirl')
          })
          .state('app-h.dashboard_v2', {
              url: '/dashboard_v2',
              title: 'Dashboard v2',
              templateUrl: helper.basepath('dashboard_v2.html'),
              controller: 'DashboardV2Controller',
              controllerAs: 'dash2',
              resolve: helper.resolveFor('flot-chart','flot-chart-plugins')
          })
          //
          // CUSTOM RESOLVES
          //   Add your own resolves properties
          //   following this object extend
          //   method
          // -----------------------------------
          // .state('app.someroute', {
          //   url: '/some_url',
          //   templateUrl: 'path_to_template.html',
          //   controller: 'someController',
          //   resolve: angular.extend(
          //     helper.resolveFor(), {
          //     // YOUR RESOLVES GO HERE
          //     }
          //   )
          // })
          ;

    } // routesConfig

})();


(function() {
    'use strict';

    angular
        .module('app.sales')
        .service('dealService', dealService)
        .service('returnService', returnService)
    ;

    dealService.$inject = ['Deal', 'Sku', 'ngDialog', '$rootScope'];
    function dealService(Deal, Sku, ngDialog, $rootScope) {
      var self = this;

      this.openDeal = openDeal;
      this.querySkus = querySkus;
      this.register = register;
      this.substractOne = substractOne;
      this.countTotal = countTotal;
      this.checkout = checkout; 
      this.onChangePayType = onChangePayType;
      this.countChange = countChange;
      this.pay = pay;
      this.payType = {
        deposit: "会员储值",
        cash: "现金支付",
        bankcard: "刷卡支付",
        wxpay: "微信支付",
        alipay: "支付宝"
      };

      function openDeal(member) {
        self.deal = {
          entities: [],
          totalAmount: 0,
          totalQty: 0,
          member: member,
          status: 'opened',
          created: new Date()
        }
        self.selectedSku = undefined;
      }
      
      function querySkus (val) {
        return Sku.find({filter:{where:{barcode:{regex: val}}}, limit: 10})
        .$promise.then(function (skus) {
          return skus;
        });
      }
            
      function register () {
        if(self.selectedSku && self.selectedSku instanceof Sku) {
          var entity = undefined;
          angular.forEach(self.deal.entities, function (e) {
            if(e.sku.barcode === self.selectedSku.barcode){
              e.qty++;
              entity = e;
            }
          });
          if(!entity) {
            entity = {
              sku: self.selectedSku,
              qty: 1
            };
            self.deal.entities.push(entity);
          }
        }
        self.selectedSku = undefined;
      }
      
      function substractOne (entity, index) {
        entity.qty--;
        if(entity.qty === 0) {
          self.deal.entities.splice(index, 1);
        }
      }
            
      function countTotal () {
        self.deal.totalAmount = 0;
        self.deal.totalQty = 0;
        angular.forEach(self.deal.entities, function (entity) {
          self.deal.totalQty += entity.qty;
          self.deal.totalAmount += entity.qty*entity.sku.price;
        });
        return self.deal.totalAmount;
      }
      
      function checkout () {
        self.deal.payment = {type: 'cash'};
        if(self.deal.member) {
          self.deal.memberId = self.deal.member.id;
          self.deal.discountAmount = self.deal.totalAmount*(100-self.deal.member.discount)/100;
          if($rootScope.user.merchant.enableBonusBid) {
            self.deal.bonusVouchAmount = Math.round(self.deal.member.bonus/$rootScope.user.merchant.bonusBidRate);
          }
        } else {
          self.deal.discountAmount = 0;
        }
        self.deal.fee = self.deal.totalAmount-self.deal.discountAmount;
        if(self.deal.member) {
          if($rootScope.user.merchant.enableBonusBid) {
            if(self.deal.bonusVouchAmount > self.deal.fee) {
              self.deal.bonusVouchAmount = self.deal.fee;
            }
            self.deal.fee -= self.deal.bonusVouchAmount;
          }
          if(self.deal.member.balance >= self.deal.fee) {
            self.deal.payment.type = 'deposit';
          }
        } 
        
        onChangePayType();
        
        ngDialog.open({ 
          template: 'checkoutDialogId', 
          controller: 'checkoutDialogController'
        });
      }
      
      function onChangePayType() {
        self.deal.payment.amount = self.deal.fee;
        if(self.deal.payment.type === 'cash') {
          self.deal.payment.change = self.deal.fee%$rootScope.user.merchant.changeRate;
          self.deal.payment.amount -= self.deal.payment.change;
          countChange();
        } else if(self.deal.payment.type === 'deposit') {
          self.deal.payment.amount = 0-self.deal.fee;
        } else {
          self.deal.payment.amount = self.deal.fee;
        }
      }
      
      function countChange() {
        if(self.deal.payment.type === 'cash') {
          self.cash = self.cash || {};
          self.cash.paid = self.cash.paid || self.deal.payment.amount;
          self.cash.change = self.deal.payment.amount - self.cash.paid;
        }
      }
            
      function pay() {
        self.deal.status = 'closed';
        delete self.deal.member;
        return Deal.create(self.deal).$promise;
      }
    }

    returnService.$inject = ['Deal', 'Sku', 'ngDialog', '$rootScope'];
    function returnService(Deal, Sku, ngDialog, $rootScope) {
      var self = this;

      this.openReturn = openReturn;
      this.checkout = checkout;
      this.doReturn = doReturn;
      this.count = count;
      
      function openReturn(deal) {
        self.deal = deal;
        self.postData = {
          entities: [],
          totalAmount: 0,
          totalQty: 0,
          status: 'opened',
          created: new Date()
        }
      }
      
      function count() {
        self.postData.totalAmount = 0;
        self.postData.totalQty = 0;
        self.postData.entities.forEach(function (entity) {
          self.postData.totalAmount += entity.qty*entity.sku.price;
          self.postData.totalQty += entity.qty;
        });

        self.postData.discountAmount = 0;
        if(self.deal.member) {
          self.postData.discountAmount = self.postData.totalAmount*(100-self.deal.member.discount)/100;           }
        self.postData.fee = self.postData.totalAmount - self.postData.discountAmount;
        self.postData.payment.amount = self.postData.fee;
        if(self.postData.payment.type === 'cash') {
          self.postData.payment.change = self.postData.fee%$rootScope.user.merchant.changeRate;
          self.postData.payment.amount -= self.postData.payment.change;
        }
      }
      
      function checkout(entity) {
        self.postData.payment = {type: self.deal.payment.type};
        
        var entities = self.deal.entities;
        if(entity) entities = [entity];
        
        self.postData.entities = [];
        entities.forEach(function (entity) {
          var e =  {
            sku: entity.sku,
            qty: entity.qty - entity.returnedQty
          }
          if(e.qty > 0) self.postData.entities.push(e);
        });
        
        count();
        
        return ngDialog.open({ 
          template: 'checkoutReturnDialogId', 
          controller: 'checkoutReturnDialogController'
        }).closePromise;
      }
      
      function doReturn() {
        self.postData.status = 'closed';
        return Deal.returns.create({id: self.deal.id}, self.postData).$promise;
      }
    }
})();

(function() {
    'use strict';

    angular
      .module('app.sales')
      .controller('SellController', SellController)
      .controller('checkoutDialogController', checkoutDialogController)
      .controller('DealsController', DealsController)
      .controller('DealController', DealController)
      .controller('checkoutReturnDialogController', checkoutReturnDialogController)
    ;
      
    SellController.$inject = ['$scope', 'dealService', 'Checkin'];
    function SellController($scope, dealService, Checkin) {
      var vm = this;
            
      activate();
      
      function activate() {
        $scope.dealService = dealService;
        if(!dealService.deal) {
          dealService.openDeal();
        }
        
        // CHECKIN
        // ----------------------------------- 
        vm.checkins = Checkin.find({filter:{
          where: {merchantId: $scope.user.shopId},
          include: [{member: 'wxuser'}],
          limit: 10, 
          order: 'created DESC'
        }});
        
        vm.templateUrl = 'checkinsTemplate.html';
      }
            
    }
    
    checkoutDialogController.$inject = ['$scope', 'ngDialog', 'dealService', 'toaster'];
    function checkoutDialogController($scope, ngDialog, dealService, toaster) {

        activate();

        ////////////////

        function activate() {
          $scope.dealService = dealService;
        }
        
        $scope.confirm = function () {
          dealService.pay().then(function (deal) {
            $scope.submiting = false;
            ngDialog.close();
            dealService.openDeal();
            toaster.pop('success', '成功', "完成交易");
          }, function (err) {
            $scope.submiting = false;
            toaster.pop('error', '失败', "交易未完成，请重试！")
          });
          $scope.submiting = true;
        }
        
    }
    
    DealsController.$inject = ['$scope', 'Deal', 'ngTableParams', 'ngTableLBService'];
    function DealsController($scope, Deal, ngTableParams, ngTableLBService) {
      var vm = this;
      
      activate();
      
      function activate() {
        vm.keyword = "";
        vm.tableParams = new ngTableParams({count: 10}, {
          getData: function($defer, params) {
            var filter = {where:{status:{ne:'deleted'}}, include:[]}
            if(vm.keyword != '') {
              var qs = {regex: keyword};
              filter.where.or = [{"entities.sku.item.name":qs}];
              params.page(1);
            }
            ngTableLBService.getData($defer, params, Deal, filter);
          }
        });
      }
    }
    
    DealController.$inject = ['$scope', 'Deal', 'ngTableParams', 'ngTableLBService', 'returnService'];
    function DealController($scope, Deal, ngTableParams, ngTableLBService, returnService) {
      var vm = this;
      
      activate();
      
      function activate() {
        vm.returnSku = {};
        vm.deal = Deal.findOne({filter:{
          where: {id: $scope.$state.params.dealId},
          include:['returns', 'bonuses']
        }});
        vm.deal.$promise.then(function (deal) {
          vm.deal.entities.forEach(function (entity) {
            entity.returnedQty = 0;
            vm.returnSku[entity.sku.id] = entity;
          });
          if(vm.deal.returns && vm.deal.returns.length > 0) {
            vm.deal.returns.forEach(function (ret) {
              ret.entities.forEach(function (returnEntity) {
                vm.returnSku[returnEntity.sku.id].returnedQty += returnEntity.qty;
              });
            });
            vm.return = vm.deal.returns[0];
          } else {
            vm.return = {entities:[]};
          }
          returnService.openReturn(vm.deal);
        });
      }
      
      vm.goReturn = function (entity) {
        returnService.checkout(entity).then(function (data) {
          activate();
        });
      }
    }

    checkoutReturnDialogController.$inject = ['$scope', 'ngDialog', 'returnService', 'toaster'];
    function checkoutReturnDialogController($scope, ngDialog, returnService, toaster) {

        activate();

        ////////////////

        function activate() {
          $scope.returnService = returnService;
        }
        
        $scope.confirm = function () {
          returnService.doReturn().then(function (ret) {
            $scope.submiting = false;
            ngDialog.close();
            toaster.pop('success', '成功', "完成退款退货");
          }, function (err) {
            $scope.submiting = false;
            toaster.pop('error', '失败', "退款退货未完成，请重试！")
          });
          $scope.submiting = true;
        }
        
    }

})();
/**
 * AngularJS default filter with the following expression:
 * "person in people | filter: {name: $select.search, age: $select.search}"
 * performs a AND between 'name: $select.search' and 'age: $select.search'.
 * We want to perform a OR.
 */

(function() {
    'use strict';

    angular
        .module('app.sales')
        .filter('deal_status', dealStatusFilter)
        .filter('payment_type', paymentTypeFilter)
    ;

    paymentTypeFilter.$inject = ['dealService'];
    function paymentTypeFilter(dealService) {
        return function(key) {
          return dealService.payType[key];
        }
    }

    // dealStatusFilter.$inject = [];
    function dealStatusFilter() {
      var dic = {
        closed: '已完成'
      }
      return function (key) {
        return dic[key];
      }
    }
})();
(function () {
  'use strict';

  angular
      .module('app.settings')
      .controller('SettingController', SettingController)
  
  SettingController.$inject = ['$scope', '$rootScope', 'Merchant', 'Shop', 'Member', 'toaster'];
  function SettingController($scope, $rootScope, Merchant, Shop, Member, toaster) {
    var vm = this;
    vm.industry = {
      "IT科技": {
        "互联网/电子商务": "1",
        "IT软件与服务": "2",
        "IT硬件与设备": "3",
        "电子技术": "4",
        "通信与运营商": "5",
        "网络游戏": "6"
      },
      "金融业": {
        "银行": "7",
        "基金|理财|信托": "8",
        "保险": "9"
      },
      "餐饮": {
        "餐饮": "10"
      },
      "酒店旅游": {
        "酒店": "11",
        "旅游": "12"
      },
      "运输与仓储": {
        "快递": "13",
        "物流": "14",
        "仓储": "15"
      },
      "教育": {
        "培训": "16",
        "院校": "17"
      },
      "政府与公共事业": {
        "学术科研": "18",
        "交警": "19",
        "博物馆": "20",
        "公共事业|非盈利机构": "21"
      },
      "医药护理": {
        "医药医疗": "22",
        "护理美容": "23",
        "保健与卫生": "24"
      },
      "交通工具": {
        "汽车相关": "25",
        "摩托车相关": "26",
        "火车相关": "27",
        "飞机相关": "28"
      },
      "房地产": {
        "建筑": "29",
        "物业": "30"
      },
      "消费品": {
        "消费品": "31"
      },
      "商业服务": {
        "法律": "32",
        "会展": "33",
        "中介服务": "34",
        "认证": "35",
        "审计": "36"
      },
      "文体娱乐": {
        "传媒": "37",
        "体育": "38",
        "娱乐休闲": "39"
      },
      "印刷": {
        "印刷": "40"
      },
      "其它": {
        "其它": "41"
      }
    };

    activete();

    function activete() {
      vm.wxgh = Merchant.prototype$__get__wxgh({id: $scope.user.merchantId, refresh: true});
    }

    vm.update = function (isShop) {
      var model = Merchant;
      var data = $scope.user.merchant;
      if(isShop) {
        data = $scope.user.shop;
        model = Shop;
      }
      model.update({where: {id: data.id}}, data, function success(result, res) {
        toaster.pop('success', '成功', "设置已经保存");
      }, function error(res) {
        toaster.pop('error', '失败', "设置未成功，请重试！")
      });
    }
    
    vm.addMemberLevel = function () {
      var levels = $scope.user.merchant.memberLevels || [];
      var last = levels.length > 0 && levels[levels.length-1] || {upper: -1};
      levels.push({lower: last.upper+1, upper: last.upper+1000, discount:100, name: 'VIP'});
      if(!$scope.user.merchant.memberLevels) $scope.user.merchant.memberLevels = levels;
    }
    
    vm.updaeteMemberLevels = function () {
      $scope.user.merchant.memberLevels.forEach(function (level) {
        Member.update({
          where: {merchantId:$scope.user.merchant.id, totalBonus: {gte: level.lower, lte: level.upper}}
        }, {
          discount: level.discount, level: level.name
        }, function sucess(result, res) {
          toaster.pop('success', '成功', "更新全体会员等级完成");
        }, function error(res) {
          toaster.pop('error', '失败', "更新全体会员等级未成功，请重试！")
        });
      });
    }
            
    vm.updateWxgh = function () {
      vm.update();
      Merchant.updateWxgh({
        id: vm.wxgh.id,
        appid: vm.wxgh.appid,
        appsecret: vm.wxgh.appsecret,
        industry: $scope.user.merchant.industry
      }, function (result) {
        toaster.pop('success', '成功', "微信公众号设置已经保存");
      }, function (reason) {
        toaster.pop('error', '失败', "设置未成功，请重试！")
      });
    } 
  }
})();
(function() {
    'use strict';

    angular
        .module('app.settings')
        .run(settingsRun);

    settingsRun.$inject = ['$rootScope', '$localStorage'];

    function settingsRun($rootScope, $localStorage){

      // Global Settings
      // ----------------------------------- 
      $rootScope.app = {
        name: '泛卡汇WebPOS',
        description: '在线收银系统',
        year: ((new Date()).getFullYear()),
        layout: {
          isFixed: true,
          isCollapsed: false,
          isBoxed: false,
          isRTL: false,
          horizontal: false,
          isFloat: false,
          asideHover: false,
          theme: "app/css/theme-e.css"
        },
        useFullLayout: false,
        hiddenFooter: false,
        offsidebarOpen: false,
        asideToggled: false,
        viewAnimation: 'ng-fadeInUp'
      };

      // Setup the layout mode
      $rootScope.app.layout.horizontal = ( $rootScope.$stateParams.layout === 'app-h') ;

      // Restore layout settings
      if( angular.isDefined($localStorage.layout) )
        $rootScope.app.layout = $localStorage.layout;
      else
        $localStorage.layout = $rootScope.app.layout;

      $rootScope.$watch('app.layout', function () {
        $localStorage.layout = $rootScope.app.layout;
      }, true);

      // Close submenu when sidebar change from collapsed to normal
      $rootScope.$watch('app.layout.isCollapsed', function(newValue) {
        if( newValue === false )
          $rootScope.$broadcast('closeSidebarMenu');
      });

    }

})();

/**=========================================================
 * Module: sidebar-menu.js
 * Handle sidebar collapsible elements
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.sidebar')
        .controller('SidebarController', SidebarController);

    SidebarController.$inject = ['$rootScope', '$scope', '$state', 'SidebarLoader', 'Utils'];
    function SidebarController($rootScope, $scope, $state, SidebarLoader,  Utils) {

        activate();

        ////////////////

        function activate() {
          var collapseList = [];

          // demo: when switch from collapse to hover, close all items
          $rootScope.$watch('app.layout.asideHover', function(oldVal, newVal){
            if ( newVal === false && oldVal === true) {
              closeAllBut(-1);
            }
          });


          // Load menu from json file
          // ----------------------------------- 

          SidebarLoader.getMenu(sidebarReady);
          
          function sidebarReady(items) {
            $scope.menuItems = items;
          }

          // Handle sidebar and collapse items
          // ----------------------------------
          
          $scope.getMenuItemPropClasses = function(item) {
            return (item.heading ? 'nav-heading' : '') +
                   (isActive(item) ? ' active' : '') ;
          };

          $scope.addCollapse = function($index, item) {
            collapseList[$index] = $rootScope.app.layout.asideHover ? true : !isActive(item);
          };

          $scope.isCollapse = function($index) {
            return (collapseList[$index]);
          };

          $scope.toggleCollapse = function($index, isParentItem) {

            // collapsed sidebar doesn't toggle drodopwn
            if( Utils.isSidebarCollapsed() || $rootScope.app.layout.asideHover ) return true;

            // make sure the item index exists
            if( angular.isDefined( collapseList[$index] ) ) {
              if ( ! $scope.lastEventFromChild ) {
                collapseList[$index] = !collapseList[$index];
                closeAllBut($index);
              }
            }
            else if ( isParentItem ) {
              closeAllBut(-1);
            }
            
            $scope.lastEventFromChild = isChild($index);

            return true;
          
          };

          // Controller helpers
          // ----------------------------------- 

            // Check item and children active state
            function isActive(item) {

              if(!item) return;

              if( !item.sref || item.sref === '#') {
                var foundActive = false;
                angular.forEach(item.submenu, function(value) {
                  if(isActive(value)) foundActive = true;
                });
                return foundActive;
              }
              else
                return $state.is(item.sref) || $state.includes(item.sref);
            }

            function closeAllBut(index) {
              index += '';
              for(var i in collapseList) {
                if(index < 0 || index.indexOf(i) < 0)
                  collapseList[i] = true;
              }
            }

            function isChild($index) {
              /*jshint -W018*/
              return (typeof $index === 'string') && !($index.indexOf('-') < 0);
            }
        
        } // activate
    }

})();

/**=========================================================
 * Module: sidebar.js
 * Wraps the sidebar and handles collapsed state
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.sidebar')
        .directive('sidebar', sidebar);

    sidebar.$inject = ['$rootScope', '$timeout', '$window', 'Utils'];
    function sidebar ($rootScope, $timeout, $window, Utils) {
        var $win = angular.element($window);
        var directive = {
            // bindToController: true,
            // controller: Controller,
            // controllerAs: 'vm',
            link: link,
            restrict: 'EA',
            template: '<nav class="sidebar" ng-transclude></nav>',
            transclude: true,
            replace: true
            // scope: {}
        };
        return directive;

        function link(scope, element, attrs) {

          var currentState = $rootScope.$state.current.name;
          var $sidebar = element;

          var eventName = Utils.isTouch() ? 'click' : 'mouseenter' ;
          var subNav = $();

          $sidebar.on( eventName, '.nav > li', function() {

            if( Utils.isSidebarCollapsed() || $rootScope.app.layout.asideHover ) {

              subNav.trigger('mouseleave');
              subNav = toggleMenuItem( $(this), $sidebar);

              // Used to detect click and touch events outside the sidebar          
              sidebarAddBackdrop();

            }

          });

          scope.$on('closeSidebarMenu', function() {
            removeFloatingNav();
          });

          // Normalize state when resize to mobile
          $win.on('resize', function() {
            if( ! Utils.isMobile() )
          	asideToggleOff();
          });

          // Adjustment on route changes
          $rootScope.$on('$stateChangeStart', function(event, toState) {
            currentState = toState.name;
            // Hide sidebar automatically on mobile
            asideToggleOff();

            $rootScope.$broadcast('closeSidebarMenu');
          });

      	  // Autoclose when click outside the sidebar
          if ( angular.isDefined(attrs.sidebarAnyclickClose) ) {
            
            var wrapper = $('.wrapper');
            var sbclickEvent = 'click.sidebar';
            
            $rootScope.$watch('app.asideToggled', watchExternalClicks);

          }

          //////

          function watchExternalClicks(newVal) {
            // if sidebar becomes visible
            if ( newVal === true ) {
              $timeout(function(){ // render after current digest cycle
                wrapper.on(sbclickEvent, function(e){
                  // if not child of sidebar
                  if( ! $(e.target).parents('.aside').length ) {
                    asideToggleOff();
                  }
                });
              });
            }
            else {
              // dettach event
              wrapper.off(sbclickEvent);
            }
          }

          function asideToggleOff() {
            $rootScope.app.asideToggled = false;
            if(!scope.$$phase) scope.$apply(); // anti-pattern but sometimes necessary
      	  }
        }
        
        ///////

        function sidebarAddBackdrop() {
          var $backdrop = $('<div/>', { 'class': 'dropdown-backdrop'} );
          $backdrop.insertAfter('.aside-inner').on('click mouseenter', function () {
            removeFloatingNav();
          });
        }

        // Open the collapse sidebar submenu items when on touch devices 
        // - desktop only opens on hover
        function toggleTouchItem($element){
          $element
            .siblings('li')
            .removeClass('open')
            .end()
            .toggleClass('open');
        }

        // Handles hover to open items under collapsed menu
        // ----------------------------------- 
        function toggleMenuItem($listItem, $sidebar) {

          removeFloatingNav();

          var ul = $listItem.children('ul');
          
          if( !ul.length ) return $();
          if( $listItem.hasClass('open') ) {
            toggleTouchItem($listItem);
            return $();
          }

          var $aside = $('.aside');
          var $asideInner = $('.aside-inner'); // for top offset calculation
          // float aside uses extra padding on aside
          var mar = parseInt( $asideInner.css('padding-top'), 0) + parseInt( $aside.css('padding-top'), 0);
          var subNav = ul.clone().appendTo( $aside );
          
          toggleTouchItem($listItem);

          var itemTop = ($listItem.position().top + mar) - $sidebar.scrollTop();
          var vwHeight = $win.height();

          subNav
            .addClass('nav-floating')
            .css({
              position: $rootScope.app.layout.isFixed ? 'fixed' : 'absolute',
              top:      itemTop,
              bottom:   (subNav.outerHeight(true) + itemTop > vwHeight) ? 0 : 'auto'
            });

          subNav.on('mouseleave', function() {
            toggleTouchItem($listItem);
            subNav.remove();
          });

          return subNav;
        }

        function removeFloatingNav() {
          $('.dropdown-backdrop').remove();
          $('.sidebar-subnav.nav-floating').remove();
          $('.sidebar li.open').removeClass('open');
        }
    }


})();


(function() {
    'use strict';

    angular
        .module('app.sidebar')
        .service('SidebarLoader', SidebarLoader);

    SidebarLoader.$inject = ['$http'];
    function SidebarLoader($http) {
        this.getMenu = getMenu;

        ////////////////

        function getMenu(onReady, onError) {
          var menuJson = 'server/sidebar-menu.json',
              menuURL  = menuJson + '?v=' + (new Date().getTime()); // jumps cache
            
          onError = onError || function() { alert('Failure loading menu'); };

          $http
            .get(menuURL)
            .success(onReady)
            .error(onError);
        }
    }
})();
(function() {
    'use strict';

    angular
        .module('app.sidebar')
        .controller('UserBlockController', UserBlockController);

    UserBlockController.$inject = ['$rootScope'];
    function UserBlockController($rootScope) {

        activate();

        ////////////////

        function activate() {
          $rootScope.user = $rootScope.user || {
            name:     'John',
            job:      'ng-developer',
            picture:  'app/img/user/02.jpg'
          };

          // Hides/show user avatar on sidebar
          $rootScope.toggleUserBlock = function(){
            $rootScope.$broadcast('toggleUserBlock');
          };

          $rootScope.userBlockVisible = true;
          
          $rootScope.$on('toggleUserBlock', function(/*event, args*/) {

            $rootScope.userBlockVisible = ! $rootScope.userBlockVisible;
            
          });
        }
    }
})();

/**=========================================================
 * Module: angular-grid.js
 * Example for Angular Grid
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('AngularGridController', AngularGridController);

    AngularGridController.$inject = ['$http'];
    function AngularGridController($http) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

            // Basic
            var columnDefs = [
                {displayName: 'Athlete', field: 'athlete', width: 150},
                {displayName: 'Age', field: 'age', width: 90},
                {displayName: 'Country', field: 'country', width: 120},
                {displayName: 'Year', field: 'year', width: 90},
                {displayName: 'Date', field: 'date', width: 110},
                {displayName: 'Sport', field: 'sport', width: 110},
                {displayName: 'Gold', field: 'gold', width: 100},
                {displayName: 'Silver', field: 'silver', width: 100},
                {displayName: 'Bronze', field: 'bronze', width: 100},
                {displayName: 'Total', field: 'total', width: 100}
            ];

            vm.gridOptions = {
                columnDefs: columnDefs,
                rowData: null,
                ready: function(api){
                  api.sizeColumnsToFit();
                }
            };

            // Filter Example
            var irishAthletes = ['John Joe Nevin','Katie Taylor','Paddy Barnes','Kenny Egan','Darren Sutherland', 'Margaret Thatcher', 'Tony Blair', 'Ronald Regan', 'Barack Obama'];

            var columnDefsFilter = [
                {displayName: 'Athlete', field: 'athlete', width: 150, filter: 'set',
                    filterParams: { cellHeight: 20, values: irishAthletes} },
                {displayName: 'Age', field: 'age', width: 90, filter: 'number'},
                {displayName: 'Country', field: 'country', width: 120},
                {displayName: 'Year', field: 'year', width: 90},
                {displayName: 'Date', field: 'date', width: 110},
                {displayName: 'Sport', field: 'sport', width: 110},
                {displayName: 'Gold', field: 'gold', width: 100, filter: 'number'},
                {displayName: 'Silver', field: 'silver', width: 100, filter: 'number'},
                {displayName: 'Bronze', field: 'bronze', width: 100, filter: 'number'},
                {displayName: 'Total', field: 'total', width: 100, filter: 'number'}
            ];

            vm.gridOptions1 = {
                columnDefs: columnDefsFilter,
                rowData: null,
                enableFilter: true,
                ready: function(api){
                  api.sizeColumnsToFit();
                }

            };


            // Pinning Example

            vm.gridOptions2 = {
                columnDefs: columnDefs,
                rowData: null,
                pinnedColumnCount: 2,
                ready: function(api){
                  api.sizeColumnsToFit();
                }
            };

            //-----------------------------
            // Get the data from SERVER
            //-----------------------------

            $http.get('server/ag-owinners.json')
                .then(function(res){
                    // basic
                    vm.gridOptions.rowData = res.data;
                    vm.gridOptions.api.onNewRows();
                    // filter
                    vm.gridOptions1.rowData = res.data;
                    vm.gridOptions1.api.onNewRows();
                    // pinning
                    vm.gridOptions2.rowData = res.data;
                    vm.gridOptions2.api.onNewRows();
                });

        }
    }
})();

/**=========================================================
 * Module: datatable,js
 * Angular Datatable controller
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('DataTableController', DataTableController);

    DataTableController.$inject = ['$resource', 'DTOptionsBuilder', 'DTColumnDefBuilder'];
    function DataTableController($resource, DTOptionsBuilder, DTColumnDefBuilder) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // Ajax

          $resource('server/datatable.json').query().$promise.then(function(persons) {
             vm.persons = persons;
          });

          // Changing data

          vm.heroes = [{
              'id': 860,
              'firstName': 'Superman',
              'lastName': 'Yoda'
            }, {
              'id': 870,
              'firstName': 'Ace',
              'lastName': 'Ventura'
            }, {
              'id': 590,
              'firstName': 'Flash',
              'lastName': 'Gordon'
            }, {
              'id': 803,
              'firstName': 'Luke',
              'lastName': 'Skywalker'
            }
          ];

          vm.dtOptions = DTOptionsBuilder.newOptions().withPaginationType('full_numbers');
          vm.dtColumnDefs = [
              DTColumnDefBuilder.newColumnDef(0),
              DTColumnDefBuilder.newColumnDef(1),
              DTColumnDefBuilder.newColumnDef(2),
              DTColumnDefBuilder.newColumnDef(3).notSortable()
          ];
          vm.person2Add = _buildPerson2Add(1);
          vm.addPerson = addPerson;
          vm.modifyPerson = modifyPerson;
          vm.removePerson = removePerson;

          function _buildPerson2Add(id) {
              return {
                  id: id,
                  firstName: 'Foo' + id,
                  lastName: 'Bar' + id
              };
          }
          function addPerson() {
              vm.heroes.push(angular.copy(vm.person2Add));
              vm.person2Add = _buildPerson2Add(vm.person2Add.id + 1);
          }
          function modifyPerson(index) {
              vm.heroes.splice(index, 1, angular.copy(vm.person2Add));
              vm.person2Add = _buildPerson2Add(vm.person2Add.id + 1);
          }
          function removePerson(index) {
              vm.heroes.splice(index, 1);
          }

        }
    }
})();

/**=========================================================
 * Module: ng-grid.js
 * ngGrid demo
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('NGGridController', NGGridController);

    NGGridController.$inject = ['$scope', '$http', '$timeout'];
    function NGGridController($scope, $http, $timeout) {

        activate();

        ////////////////

        function activate() {

          $scope.filterOptions = {
              filterText: '',
              useExternalFilter: true
          };
          $scope.totalServerItems = 0;
          $scope.pagingOptions = {
              pageSizes:   [250, 500, 1000],  // page size options
              pageSize:    250,              // default page size
              currentPage: 1                 // initial page
          };

          $scope.gridOptions = {
              data:             'myData',
              enablePaging:     true,
              showFooter:       true,
              rowHeight:        36,
              headerRowHeight:  38,
              totalServerItems: 'totalServerItems',
              pagingOptions:    $scope.pagingOptions,
              filterOptions:    $scope.filterOptions
          };

          $scope.setPagingData = function(data, page, pageSize){
              // calc for pager
              var pagedData = data.slice((page - 1) * pageSize, page * pageSize);
              // Store data from server
              $scope.myData = pagedData;
              // Update server side data length
              $scope.totalServerItems = data.length;

              if (!$scope.$$phase) {
                  $scope.$apply();
              }

          };

          $scope.getPagedDataAsync = function (pageSize, page, searchText) {
            var ngGridResourcePath = 'server/ng-grid-data.json';

            $timeout(function () {

                if (searchText) {
                    var ft = searchText.toLowerCase();
                    $http.get(ngGridResourcePath).success(function (largeLoad) {
                        var data = largeLoad.filter(function(item) {
                            return JSON.stringify(item).toLowerCase().indexOf(ft) !== -1;
                        });
                        $scope.setPagingData(data,page,pageSize);
                    });
                } else {
                    $http.get(ngGridResourcePath).success(function (largeLoad) {
                        $scope.setPagingData(largeLoad,page,pageSize);
                    });
                }
            }, 100);
          };


          $scope.$watch('pagingOptions', function (newVal, oldVal) {
              if (newVal !== oldVal && newVal.currentPage !== oldVal.currentPage) {
                $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);
              }
          }, true);
          $scope.$watch('filterOptions', function (newVal, oldVal) {
              if (newVal !== oldVal) {
                $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);
              }
          }, true);

          $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage);
        }
    }
})();

(function() {
    'use strict';

    angular
        .module('app.tables')
        .service('ngTableDataService', ngTableDataService);

    function ngTableDataService() {
        /* jshint validthis:true */
        var self = this;
        this.cache = null;
        this.getData = getData;

        ////////////////

        function getData($defer, params, api) {
          // if no cache, request data and filter
          if ( ! self.cache ) {
            if ( api ) {
              api.get(function(data){
                self.cache = data;
                filterdata($defer, params);
              });
            }
          }
          else {
            filterdata($defer, params);
          }
          
          function filterdata($defer, params) {
            var from = (params.page() - 1) * params.count();
            var to = params.page() * params.count();
            var filteredData = self.cache.result.slice(from, to);

            params.total(self.cache.total);
            $defer.resolve(filteredData);
          }

        }
    }
})();

(function() {
    'use strict';

    angular
        .module('app.tables')
        .service('ngTableLBService', ngTableLBService);

    function ngTableLBService() {
      var self = this;

      this.getData = getData;

      function getData($defer, params, Model, filter) {
        filter.limit = params.count();
        filter.skip = (params.page()-1)*filter.limit;
        
        Model.count({where: filter.where}, function (result) {
          params.total(result.count);
          Model.find({filter:filter}, $defer.resolve);
        });
      }
    }
})();

/**=========================================================
 * Module: NGTableCtrl.js
 * Controller for ngTables
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('NGTableCtrl', NGTableCtrl);
    /*jshint -W055 */
    NGTableCtrl.$inject = ['$filter', 'ngTableParams', '$resource', '$timeout', 'ngTableDataService'];
    function NGTableCtrl($filter, ngTableParams, $resource, $timeout, ngTableDataService) {
        var vm = this;
        vm.title = 'Controller';

        activate();

        ////////////////

        function activate() {
          var data = [
              {name: 'Moroni',  age: 50, money: -10   },
              {name: 'Tiancum', age: 43, money: 120   },
              {name: 'Jacob',   age: 27, money: 5.5   },
              {name: 'Nephi',   age: 29, money: -54   },
              {name: 'Enos',    age: 34, money: 110   },
              {name: 'Tiancum', age: 43, money: 1000  },
              {name: 'Jacob',   age: 27, money: -201  },
              {name: 'Nephi',   age: 29, money: 100   },
              {name: 'Enos',    age: 34, money: -52.5 },
              {name: 'Tiancum', age: 43, money: 52.1  },
              {name: 'Jacob',   age: 27, money: 110   },
              {name: 'Nephi',   age: 29, money: -55   },
              {name: 'Enos',    age: 34, money: 551   },
              {name: 'Tiancum', age: 43, money: -1410 },
              {name: 'Jacob',   age: 27, money: 410   },
              {name: 'Nephi',   age: 29, money: 100   },
              {name: 'Enos',    age: 34, money: -100  }
          ];

          // SELECT ROWS
          // ----------------------------------- 

          vm.data = data;

          vm.tableParams3 = new ngTableParams({
              page: 1,            // show first page
              count: 10          // count per page
          }, {
              total: data.length, // length of data
              getData: function ($defer, params) {
                  // use build-in angular filter
                  var filteredData = params.filter() ?
                          $filter('filter')(data, params.filter()) :
                          data;
                  var orderedData = params.sorting() ?
                          $filter('orderBy')(filteredData, params.orderBy()) :
                          data;

                  params.total(orderedData.length); // set total for recalc pagination
                  $defer.resolve(orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
              }
          });

          vm.changeSelection = function(user) {
            console.info(user);
          };

          // EXPORT CSV
          // -----------------------------------  

          var data4 = [{name: 'Moroni', age: 50},
              {name: 'Tiancum', age: 43},
              {name: 'Jacob', age: 27},
              {name: 'Nephi', age: 29},
              {name: 'Enos', age: 34},
              {name: 'Tiancum', age: 43},
              {name: 'Jacob', age: 27},
              {name: 'Nephi', age: 29},
              {name: 'Enos', age: 34},
              {name: 'Tiancum', age: 43},
              {name: 'Jacob', age: 27},
              {name: 'Nephi', age: 29},
              {name: 'Enos', age: 34},
              {name: 'Tiancum', age: 43},
              {name: 'Jacob', age: 27},
              {name: 'Nephi', age: 29},
              {name: 'Enos', age: 34}];

          vm.tableParams4 = new ngTableParams({
              page: 1,            // show first page
              count: 10           // count per page
          }, {
              total: data4.length, // length of data4
              getData: function($defer, params) {
                  $defer.resolve(data4.slice((params.page() - 1) * params.count(), params.page() * params.count()));
              }
          });


          // SORTING
          // ----------------------------------- 



          vm.tableParams = new ngTableParams({
              page: 1,            // show first page
              count: 10,          // count per page
              sorting: {
                  name: 'asc'     // initial sorting
              }
          }, {
              total: data.length, // length of data
              getData: function($defer, params) {
                  // use build-in angular filter
                  var orderedData = params.sorting() ?
                          $filter('orderBy')(data, params.orderBy()) :
                          data;
          
                  $defer.resolve(orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
              }
          });

          // FILTERS
          // ----------------------------------- 

          vm.tableParams2 = new ngTableParams({
              page: 1,            // show first page
              count: 10,          // count per page
              filter: {
                  name: '',
                  age: ''
                  // name: 'M'       // initial filter
              }
          }, {
              total: data.length, // length of data
              getData: function($defer, params) {
                  // use build-in angular filter
                  var orderedData = params.filter() ?
                         $filter('filter')(data, params.filter()) :
                         data;

                  vm.users = orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count());

                  params.total(orderedData.length); // set total for recalc pagination
                  $defer.resolve(vm.users);
              }
          });

          // AJAX
          
          var Api = $resource('server/table-data.json');

          vm.tableParams5 = new ngTableParams({
              page: 1,            // show first page
              count: 10           // count per page
          }, {
              total: 0,           // length of data
              counts: [],         // hide page counts control
              getData: function($defer, params) {
                  
                  // Service using cache to avoid mutiple requests
                  ngTableDataService.getData( $defer, params, Api);
                  
                  /* direct ajax request to api (perform result pagination on the server)
                  Api.get(params.url(), function(data) {
                      $timeout(function() {
                          // update table params
                          params.total(data.total);
                          // set new data
                          $defer.resolve(data.result);
                      }, 500);
                  });
                  */
              }
          });
        }
    }
})();



/**=========================================================
 * Module: demo-buttons.js
 * Provides a simple demo for buttons actions
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('TablexEditableController', TablexEditableController);

    TablexEditableController.$inject = ['$filter', '$http', 'editableOptions', 'editableThemes','$q'];
    function TablexEditableController($filter, $http, editableOptions, editableThemes, $q) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // editable row
          // ----------------------------------- 
          vm.users = [
            {id: 1, name: 'awesome user1', status: 2, group: 4, groupName: 'admin'},
            {id: 2, name: 'awesome user2', status: undefined, group: 3, groupName: 'vip'},
            {id: 3, name: 'awesome user3', status: 2, group: null}
          ];

          vm.statuses = [
            {value: 1, text: 'status1'},
            {value: 2, text: 'status2'},
            {value: 3, text: 'status3'},
            {value: 4, text: 'status4'}
          ];

          vm.groups = [];
          vm.loadGroups = function() {
            return vm.groups.length ? null : $http.get('server/xeditable-groups.json').success(function(data) {
              vm.groups = data;
            });
          };

          vm.showGroup = function(user) {
            if(user.group && vm.groups.length) {
              var selected = $filter('filter')(vm.groups, {id: user.group});
              return selected.length ? selected[0].text : 'Not set';
            } else {
              return user.groupName || 'Not set';
            }
          };

          vm.showStatus = function(user) {
            var selected = [];
            if(user.status) {
              selected = $filter('filter')(vm.statuses, {value: user.status});
            }
            return selected.length ? selected[0].text : 'Not set';
          };

          vm.checkName = function(data, id) {
            if (id === 2 && data !== 'awesome') {
              return 'Username 2 should be `awesome`';
            }
          };

          vm.saveUser = function(data, id) {
            //vm.user not updated yet
            angular.extend(data, {id: id});
            console.log('Saving user: ' + id);
            // return $http.post('/saveUser', data);
          };

          // remove user
          vm.removeUser = function(index) {
            vm.users.splice(index, 1);
          };

          // add user
          vm.addUser = function() {
            vm.inserted = {
              id: vm.users.length+1,
              name: '',
              status: null,
              group: null,
              isNew: true
            };
            vm.users.push(vm.inserted);
          };

          // editable column
          // ----------------------------------- 


          vm.saveColumn = function(column) {
            var results = [];
            angular.forEach(vm.users, function(/*user*/) {
              // results.push($http.post('/saveColumn', {column: column, value: user[column], id: user.id}));
              console.log('Saving column: ' + column);
            });
            return $q.all(results);
          };

          // editable table
          // ----------------------------------- 

          // filter users to show
          vm.filterUser = function(user) {
            return user.isDeleted !== true;
          };

          // mark user as deleted
          vm.deleteUser = function(id) {
            var filtered = $filter('filter')(vm.users, {id: id});
            if (filtered.length) {
              filtered[0].isDeleted = true;
            }
          };

          // cancel all changes
          vm.cancel = function() {
            for (var i = vm.users.length; i--;) {
              var user = vm.users[i];
              // undelete
              if (user.isDeleted) {
                delete user.isDeleted;
              }
              // remove new 
              if (user.isNew) {
                vm.users.splice(i, 1);
              }
            }
          };

          // save edits
          vm.saveTable = function() {
            var results = [];
            for (var i = vm.users.length; i--;) {
              var user = vm.users[i];
              // actually delete user
              if (user.isDeleted) {
                vm.users.splice(i, 1);
              }
              // mark as not new 
              if (user.isNew) {
                user.isNew = false;
              }

              // send on server
              // results.push($http.post('/saveUser', user));
              console.log('Saving Table...');
            }

            return $q.all(results);
          };

        }
    }
})();

/**=========================================================
 * Module: UIGridController
  =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.tables')
        .controller('UIGridController', UIGridController);

    UIGridController.$inject = ['uiGridConstants', '$http'];
    function UIGridController(uiGridConstants, $http) {
        var vm = this;

        activate();

        ////////////////

        function activate() {

          // Basic example
          // ----------------------------------- 

          vm.gridOptions = {
            rowHeight: 34,
            data: [
              {
                  'name': 'Wilder Gonzales',
                  'gender': 'male',
                  'company': 'Geekko'
              },
              {
                  'name': 'Georgina Schultz',
                  'gender': 'female',
                  'company': 'Suretech'
              },
              {
                  'name': 'Carroll Buchanan',
                  'gender': 'male',
                  'company': 'Ecosys'
              },
              {
                  'name': 'Valarie Atkinson',
                  'gender': 'female',
                  'company': 'Hopeli'
              },
              {
                  'name': 'Schroeder Mathews',
                  'gender': 'male',
                  'company': 'Polarium'
              },
              {
                  'name': 'Ethel Price',
                  'gender': 'female',
                  'company': 'Enersol'
              },
              {
                  'name': 'Claudine Neal',
                  'gender': 'female',
                  'company': 'Sealoud'
              },
              {
                  'name': 'Beryl Rice',
                  'gender': 'female',
                  'company': 'Velity'
              },
              {
                  'name': 'Lynda Mendoza',
                  'gender': 'female',
                  'company': 'Dogspa'
              },
              {
                  'name': 'Sarah Massey',
                  'gender': 'female',
                  'company': 'Bisba'
              },
              {
                  'name': 'Robles Boyle',
                  'gender': 'male',
                  'company': 'Comtract'
              },
              {
                  'name': 'Evans Hickman',
                  'gender': 'male',
                  'company': 'Parleynet'
              },
              {
                  'name': 'Dawson Barber',
                  'gender': 'male',
                  'company': 'Dymi'
              },
              {
                  'name': 'Bruce Strong',
                  'gender': 'male',
                  'company': 'Xyqag'
              },
              {
                  'name': 'Nellie Whitfield',
                  'gender': 'female',
                  'company': 'Exospace'
              },
              {
                  'name': 'Jackson Macias',
                  'gender': 'male',
                  'company': 'Aquamate'
              },
              {
                  'name': 'Pena Pena',
                  'gender': 'male',
                  'company': 'Quarx'
              },
              {
                  'name': 'Lelia Gates',
                  'gender': 'female',
                  'company': 'Proxsoft'
              },
              {
                  'name': 'Letitia Vasquez',
                  'gender': 'female',
                  'company': 'Slumberia'
              },
              {
                  'name': 'Trevino Moreno',
                  'gender': 'male',
                  'company': 'Conjurica'
              }
            ]
          };
          
          // Complex example
          // ----------------------------------- 

          var data = [];
           
          vm.gridOptionsComplex = {
              showGridFooter: true,
              showColumnFooter: true,
              enableFiltering: true,
              columnDefs: [
                  { field: 'name', width: '13%' },
                  { field: 'address.street',aggregationType: uiGridConstants.aggregationTypes.sum, width: '13%' },
                  { field: 'age', aggregationType: uiGridConstants.aggregationTypes.avg, aggregationHideLabel: true, width: '13%' },
                  { name: 'ageMin', field: 'age', aggregationType: uiGridConstants.aggregationTypes.min, width: '13%', displayName: 'Age for min' },
                  { name: 'ageMax', field: 'age', aggregationType: uiGridConstants.aggregationTypes.max, width: '13%', displayName: 'Age for max' },
                  { name: 'customCellTemplate', 
                    field: 'age', 
                    width: '14%', 
                    footerCellTemplate: '<div class="ui-grid-cell-contents bg-info text-center">Custom HTML</div>' 
                  },
                  { name: 'registered', field: 'registered', width: '20%', cellFilter: 'date', footerCellFilter: 'date', aggregationType: uiGridConstants.aggregationTypes.max }
              ],
              data: data,
              onRegisterApi: function(gridApi) {
                vm.gridApi = gridApi;
              }
          };
           
          $http.get('server/uigrid-complex.json')
            .success(function(data) {
              data.forEach( function(row) {
                row.registered = Date.parse(row.registered);
              });
              vm.gridOptionsComplex.data = data;
            });


           vm.gridOptions1 = {
              paginationPageSizes: [25, 50, 75],
              paginationPageSize: 25,
              columnDefs: [
                { name: 'name' },
                { name: 'gender' },
                { name: 'company' }
              ]
            };
           
            $http.get('server/uigrid-100.json')
            .success(function (data) {
              vm.gridOptions1.data = data;
            });

        }
    }
})();

(function() {
    'use strict';

    angular
        .module('app.translate')
        .config(translateConfig)
        ;
    translateConfig.$inject = ['$translateProvider'];
    function translateConfig($translateProvider){

      $translateProvider.useStaticFilesLoader({
          prefix : 'app/i18n/',
          suffix : '.json'
      });

      $translateProvider.preferredLanguage('zh_CN');
      $translateProvider.useLocalStorage();
      $translateProvider.usePostCompiling(true);
      $translateProvider.useSanitizeValueStrategy('sanitizeParameters');

    }
})();
(function() {
    'use strict';

    angular
        .module('app.translate')
        .run(translateRun)
        ;
    translateRun.$inject = ['$rootScope', '$translate'];
    
    function translateRun($rootScope, $translate){

      // Internationalization
      // ----------------------

      $rootScope.language = {
        // Handles language dropdown
        listIsOpen: false,
        // list of available languages
        available: {
          'zh_CN':    '中文简体',
          'en':       'English',
          'es_AR':    'Español'
        },
        // display always the current ui language
        init: function () {
          var proposedLanguage = $translate.proposedLanguage() || $translate.use();
          var preferredLanguage = $translate.preferredLanguage(); // we know we have set a preferred one in app.config
          $rootScope.language.selected = $rootScope.language.available[ (proposedLanguage || preferredLanguage) ];
        },
        set: function (localeId) {
          // Set the new idiom
          $translate.use(localeId);
          // save a reference for the current language
          $rootScope.language.selected = $rootScope.language.available[localeId];
          // finally toggle dropdown
          $rootScope.language.listIsOpen = ! $rootScope.language.listIsOpen;
        }
      };

      $rootScope.language.init();

    }
})();
/**=========================================================
 * Module: animate-enabled.js
 * Enable or disables ngAnimate for element with directive
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('animateEnabled', animateEnabled);

    animateEnabled.$inject = ['$animate'];
    function animateEnabled ($animate) {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element, attrs) {
          scope.$watch(function () {
            return scope.$eval(attrs.animateEnabled, scope);
          }, function (newValue) {
            $animate.enabled(!!newValue, element);
          });
        }
    }

})();

/**=========================================================
 * Module: browser.js
 * Browser detection
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .service('Browser', Browser);

    Browser.$inject = ['$window'];
    function Browser($window) {
      return $window.jQBrowser;
    }

})();

/**=========================================================
 * Module: clear-storage.js
 * Removes a key from the browser storage via element click
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('resetKey', resetKey);

    resetKey.$inject = ['$state', '$localStorage'];
    function resetKey ($state, $localStorage) {
        var directive = {
            link: link,
            restrict: 'A',
            scope: {
              resetKey: '@'
            }
        };
        return directive;

        function link(scope, element) {
          element.on('click', function (e) {
              e.preventDefault();

              if(scope.resetKey) {
                delete $localStorage[scope.resetKey];
                $state.go($state.current, {}, {reload: true});
              }
              else {
                $.error('No storage key specified for reset.');
              }
          });
        }
    }

})();

/**=========================================================
 * Module: currency.js
 * Currency format d
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('currency', currency)
        .directive('bonus', bonus);

    currency.$inject = ['$window'];
    function currency($window) {
      return {
        require: 'ngModel',
        restrict: 'A',
        link: function(scope, element, attrs, ngModelController) {
          ngModelController.$parsers.push(function(data) {
            //convert data from view format to model format
            return data*100; //converted
          });

          ngModelController.$formatters.push(function(data) {
            //convert data from model format to view format
            return data/100; //converted
          });
        }
      };
    }
    
    bonus.$inject = ['$window'];
    function bonus($window) {
      return {
        require: 'ngModel',
        restrict: 'A',
        link: function(scope, element, attrs, ngModelController) {
          ngModelController.$parsers.push(function(data) {
            //convert data from view format to model format
            return data/100; //converted
          });

          ngModelController.$formatters.push(function(data) {
            //convert data from model format to view format
            return data*100; //converted
          });
        }
      };
    }

})();

/**=========================================================
 * Module: fullscreen.js
 * Toggle the fullscreen mode on/off
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('toggleFullscreen', toggleFullscreen);

    toggleFullscreen.$inject = ['Browser'];
    function toggleFullscreen (Browser) {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          // Not supported under IE
          if( Browser.msie ) {
            element.addClass('hide');
          }
          else {
            element.on('click', function (e) {
                e.preventDefault();

                if (screenfull.enabled) {
                  
                  screenfull.toggle();
                  
                  // Switch icon indicator
                  if(screenfull.isFullscreen)
                    $(this).children('em').removeClass('fa-expand').addClass('fa-compress');
                  else
                    $(this).children('em').removeClass('fa-compress').addClass('fa-expand');

                } else {
                  $.error('Fullscreen not enabled');
                }

            });
          }
        }
    }


})();

/**=========================================================
 * Module: load-css.js
 * Request and load into the current page a css file
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('loadCss', loadCss);

    function loadCss () {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element, attrs) {
          element.on('click', function (e) {
              if(element.is('a')) e.preventDefault();
              var uri = attrs.loadCss,
                  link;

              if(uri) {
                link = createLink(uri);
                if ( !link ) {
                  $.error('Error creating stylesheet link element.');
                }
              }
              else {
                $.error('No stylesheet location defined.');
              }

          });
        }
        
        function createLink(uri) {
          var linkId = 'autoloaded-stylesheet',
              oldLink = $('#'+linkId).attr('id', linkId + '-old');

          $('head').append($('<link/>').attr({
            'id':   linkId,
            'rel':  'stylesheet',
            'href': uri
          }));

          if( oldLink.length ) {
            oldLink.remove();
          }

          return $('#'+linkId);
        }
    }

})();

/**=========================================================
 * Module: now.js
 * Provides a simple way to display the current time formatted
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('now', now);

    now.$inject = ['dateFilter', '$interval'];
    function now (dateFilter, $interval) {
        var directive = {
            link: link,
            restrict: 'EA'
        };
        return directive;

        function link(scope, element, attrs) {
          var format = attrs.format;

          function updateTime() {
            var dt = dateFilter(new Date(), format);
            element.text(dt);
          }

          updateTime();
          var intervalPromise = $interval(updateTime, 1000);

          scope.$on('$destroy', function(){
            $interval.cancel(intervalPromise);
          });

        }
    }

})();

/**=========================================================
 * Module: table-checkall.js
 * Tables check all checkbox
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('checkAll', checkAll);

    function checkAll () {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          element.on('change', function() {
            var $this = $(this),
                index= $this.index() + 1,
                checkbox = $this.find('input[type="checkbox"]'),
                table = $this.parents('table');
            // Make sure to affect only the correct checkbox column
            table.find('tbody > tr > td:nth-child('+index+') input[type="checkbox"]')
              .prop('checked', checkbox[0].checked);

          });
        }
    }

})();

/**=========================================================
 * Module: trigger-resize.js
 * Triggers a window resize event from any element
 =========================================================*/
(function() {
    'use strict';

    angular
        .module('app.utils')
        .directive('triggerResize', triggerResize);

    triggerResize.$inject = ['$window', '$timeout'];
    function triggerResize ($window, $timeout) {
        var directive = {
            link: link,
            restrict: 'A'
        };
        return directive;

        function link(scope, element) {
          element.on('click', function(){
            $timeout(function(){
              $window.dispatchEvent(new Event('resize'));
            });
          });
        }
    }

})();

/**=========================================================
 * Module: utils.js
 * Utility library to use across the theme
 =========================================================*/

(function() {
    'use strict';

    angular
        .module('app.utils')
        .service('Utils', Utils);

    Utils.$inject = ['$window', 'APP_MEDIAQUERY'];
    function Utils($window, APP_MEDIAQUERY) {

        var $html = angular.element('html'),
            $win  = angular.element($window),
            $body = angular.element('body');

        return {
          // DETECTION
          support: {
            transition: (function() {
                    var transitionEnd = (function() {

                        var element = document.body || document.documentElement,
                            transEndEventNames = {
                                WebkitTransition: 'webkitTransitionEnd',
                                MozTransition: 'transitionend',
                                OTransition: 'oTransitionEnd otransitionend',
                                transition: 'transitionend'
                            }, name;

                        for (name in transEndEventNames) {
                            if (element.style[name] !== undefined) return transEndEventNames[name];
                        }
                    }());

                    return transitionEnd && { end: transitionEnd };
                })(),
            animation: (function() {

                var animationEnd = (function() {

                    var element = document.body || document.documentElement,
                        animEndEventNames = {
                            WebkitAnimation: 'webkitAnimationEnd',
                            MozAnimation: 'animationend',
                            OAnimation: 'oAnimationEnd oanimationend',
                            animation: 'animationend'
                        }, name;

                    for (name in animEndEventNames) {
                        if (element.style[name] !== undefined) return animEndEventNames[name];
                    }
                }());

                return animationEnd && { end: animationEnd };
            })(),
            requestAnimationFrame: window.requestAnimationFrame ||
                                   window.webkitRequestAnimationFrame ||
                                   window.mozRequestAnimationFrame ||
                                   window.msRequestAnimationFrame ||
                                   window.oRequestAnimationFrame ||
                                   function(callback){ window.setTimeout(callback, 1000/60); },
            /*jshint -W069*/
            touch: (
                ('ontouchstart' in window && navigator.userAgent.toLowerCase().match(/mobile|tablet/)) ||
                (window.DocumentTouch && document instanceof window.DocumentTouch)  ||
                (window.navigator['msPointerEnabled'] && window.navigator['msMaxTouchPoints'] > 0) || //IE 10
                (window.navigator['pointerEnabled'] && window.navigator['maxTouchPoints'] > 0) || //IE >=11
                false
            ),
            mutationobserver: (window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver || null)
          },
          // UTILITIES
          isInView: function(element, options) {
              /*jshint -W106*/
              var $element = $(element);

              if (!$element.is(':visible')) {
                  return false;
              }

              var window_left = $win.scrollLeft(),
                  window_top  = $win.scrollTop(),
                  offset      = $element.offset(),
                  left        = offset.left,
                  top         = offset.top;

              options = $.extend({topoffset:0, leftoffset:0}, options);

              if (top + $element.height() >= window_top && top - options.topoffset <= window_top + $win.height() &&
                  left + $element.width() >= window_left && left - options.leftoffset <= window_left + $win.width()) {
                return true;
              } else {
                return false;
              }
          },
          
          langdirection: $html.attr('dir') === 'rtl' ? 'right' : 'left',

          isTouch: function () {
            return $html.hasClass('touch');
          },

          isSidebarCollapsed: function () {
            return $body.hasClass('aside-collapsed');
          },

          isSidebarToggled: function () {
            return $body.hasClass('aside-toggled');
          },

          isMobile: function () {
            return $win.width() < APP_MEDIAQUERY.tablet;
          }

        };
    }
})();

(function() {
    'use strict';

    angular
        .module('custom', [
            // request the the entire framework
            'angle',
            // or just modules
            'app.core',
            'app.sidebar'
            /*...*/
        ]);
})();

// To run this code, edit file index.html or index.jade and change
// html data-ng-app attribute from angle to myAppName
// ----------------------------------------------------------------------

(function() {
    'use strict';

    angular
        .module('custom')
        .controller('Controller', Controller);

    Controller.$inject = ['$log'];
    function Controller($log) {
        // for controllerAs syntax
        // var vm = this;

        activate();

        ////////////////

        function activate() {
          $log.log('I\'m a line from custom.js');
        }
    }
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJib290c3RyYXB1aS9ib290c3RyYXB1aS5tb2R1bGUuanMiLCJjaGFydHMvY2hhcnRzLm1vZHVsZS5qcyIsImNvbG9ycy9jb2xvcnMubW9kdWxlLmpzIiwiY29yZS9jb3JlLm1vZHVsZS5qcyIsImNvc3RzL2Nvc3RzLm1vZHVsZS5qcyIsImRhc2hib2FyZC9kYXNoYm9hcmQubW9kdWxlLmpzIiwiZWxlbWVudHMvZWxlbWVudHMubW9kdWxlLmpzIiwiZXh0cmFzL2V4dHJhcy5tb2R1bGUuanMiLCJmbGF0ZG9jL2ZsYXRkb2MubW9kdWxlLmpzIiwiZm9ybXMvZm9ybXMubW9kdWxlLmpzIiwiaWNvbnMvaWNvbnMubW9kdWxlLmpzIiwiaXRlbXMvaXRlbXMubW9kdWxlLmpzIiwibGF6eWxvYWQvbGF6eWxvYWQubW9kdWxlLmpzIiwibG9hZGluZ2Jhci9sb2FkaW5nYmFyLm1vZHVsZS5qcyIsImxvY2FsZS9sb2NhbGUubW9kdWxlLmpzIiwibWFpbGJveC9tYWlsYm94Lm1vZHVsZS5qcyIsIm1hcHMvbWFwcy5tb2R1bGUuanMiLCJtZW1iZXJzL21lbWJlcnMubW9kdWxlLmpzIiwibXlzaG9wL215c2hvcC5tb2R1bGUuanMiLCJuYXZzZWFyY2gvbmF2c2VhcmNoLm1vZHVsZS5qcyIsIm5vdGlmeS9ub3RpZnkubW9kdWxlLmpzIiwicGFnZXMvcGFnZXMubW9kdWxlLmpzIiwicGFuZWxzL3BhbmVscy5tb2R1bGUuanMiLCJwcmVsb2FkZXIvcHJlbG9hZGVyLm1vZHVsZS5qcyIsInJvdXRlcy9yb3V0ZXMubW9kdWxlLmpzIiwic2FsZXMvc2FsZXMubW9kdWxlLmpzIiwic2V0dGluZ3Mvc2V0dGluZ3MubW9kdWxlLmpzIiwic2lkZWJhci9zaWRlYmFyLm1vZHVsZS5qcyIsInRhYmxlcy90YWJsZXMubW9kdWxlLmpzIiwidHJhbnNsYXRlL3RyYW5zbGF0ZS5tb2R1bGUuanMiLCJ1dGlscy91dGlscy5tb2R1bGUuanMiLCJib290c3RyYXB1aS9hbGVydHMuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL2Jvb3RzdHJhcHVpLmNvbmZpZy5qcyIsImJvb3RzdHJhcHVpL2J1dHRvbnMuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL2Nhcm91c2VsLmNvbnRyb2xsZXIuanMiLCJib290c3RyYXB1aS9kYXRlcGlja2VyLmNvbnRyb2xsZXIuanMiLCJib290c3RyYXB1aS9tb2RhbHMuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3BhZ2luYXRpb24uY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3BvcG92ZXIuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3Byb2dyZXNzLmNvbnRyb2xsZXIuanMiLCJib290c3RyYXB1aS9yYXRpbmcuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3RpbWVwaWNrZXIuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3Rvb2x0aXAuY29udHJvbGxlci5qcyIsImJvb3RzdHJhcHVpL3R5cGVhaGVhZC5jb250cm9sbGVyLmpzIiwiY2hhcnRzL2NoYXJ0aXN0LmNvbnRyb2xsZXIuanMiLCJjaGFydHMvY2hhcnRqcy5jb250cm9sbGVyLmpzIiwiY2hhcnRzL2NoYXJ0anMuZGlyZWN0aXZlLmpzIiwiY2hhcnRzL2NsYXNzeWxvYWRlci5kaXJlY3RpdmUuanMiLCJjaGFydHMvZmxvdC1kYXRhLnNlcnZpY2UuanMiLCJjaGFydHMvZmxvdC5jb250cm9sbGVyLmpzIiwiY2hhcnRzL2Zsb3QuZGlyZWN0aXZlLmpzIiwiY2hhcnRzL21vcnJpcy5jb250cm9sbGVyLmpzIiwiY2hhcnRzL21vcnJpcy5kaXJlY3RpdmUuanMiLCJjaGFydHMvcGllY2hhcnRzLmNvbnRyb2xsZXIuanMiLCJjaGFydHMvcmlja3NoYXcuY29udHJvbGxlci5qcyIsImNoYXJ0cy9zcGFya2xpbmVzLmRpcmVjdGl2ZS5qcyIsImNvbG9ycy9jb2xvcnMuY29udGFudC5qcyIsImNvbG9ycy9jb2xvcnMuc2VydmljZS5qcyIsImNvcmUvY29yZS5jb25maWcuanMiLCJjb3JlL2NvcmUuY29uc3RhbnRzLmpzIiwiY29yZS9jb3JlLmZpbHRlci5qcyIsImNvcmUvY29yZS5ydW4uanMiLCJjb3N0cy9jb3N0cy5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5jb250cm9sbGVyLmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5maWx0ZXIuanMiLCJlbGVtZW50cy9jYXJvdXNlbC5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvZGlhbG9nLmNvbnRyb2xsZXIuanMiLCJlbGVtZW50cy9pbmZpbml0ZS1zY3JvbGwuY29udHJvbGxlci5qcyIsImVsZW1lbnRzL21hc29ucnktZGVjay5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvbmF2dHJlZS5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvbmVzdGFibGUuY29udHJvbGxlci5qcyIsImVsZW1lbnRzL3Njcm9sbC5kaXJlY3RpdmUuanMiLCJlbGVtZW50cy9zb3J0YWJsZS5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvc3dlZXRhbGVydC5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvdG9hc3Rlci5jb250cm9sbGVyLmpzIiwiZWxlbWVudHMvdG91ci5jb250cm9sbGVyLmpzIiwiZXh0cmFzL2FydGljbGUuY29udHJvbGxlci5qcyIsImV4dHJhcy9jYWxlbmRhci5kaXJlY3RpdmUuanMiLCJleHRyYXMvY29kZS1lZGl0b3ItbG9hZHRyZWUuc2VydmljZS5qcyIsImV4dHJhcy9jb2RlLWVkaXRvci5jb250cm9sbGVyLmpzIiwiZXh0cmFzL3RvZG8uY29udHJvbGxlci5qcyIsImV4dHJhcy93b3JkLWNsb3VkLmNvbnRyb2xsZXIuanMiLCJmbGF0ZG9jL2ZsYXRkb2MuZGlyZWN0aXZlLmpzIiwiZm9ybXMvY29sb3ItcGlja2VyLmNvbnRyb2xsZXIuanMiLCJmb3Jtcy9maWxlc3R5bGUuZGlyZWN0aXZlLmpzIiwiZm9ybXMvZm9ybS1pbWdjcm9wLmNvbnRyb2xsZXIuanMiLCJmb3Jtcy9mb3JtLXZhbGlkYXRpb24uY29udHJvbGxlci5qcyIsImZvcm1zL2Zvcm0td2l6YXJkLmRpcmVjdGl2ZS5qcyIsImZvcm1zL2Zvcm0teGVkaXRhYmxlLmNvbnRyb2xsZXIuanMiLCJmb3Jtcy9mb3Jtcy5jb250cm9sbGVyLmpzIiwiZm9ybXMvbWFza2VkLmRpcmVjdGl2ZS5qcyIsImZvcm1zL3Byb3BzLmZpbHRlci5qcyIsImZvcm1zL3RhZ3MtaW5wdXQuZGlyZWN0aXZlLmpzIiwiZm9ybXMvdWlzZWxlY3QuY29udHJvbGxlci5qcyIsImZvcm1zL3VwbG9hZC5jb250cm9sbGVyLmpzIiwiZm9ybXMvdmFsaWRhdGUtZm9ybS5kaXJlY3RpdmUuanMiLCJpY29ucy9pY29ucy1za3ljb25zLmRpcmVjdGl2ZS5qcyIsIml0ZW1zL2l0ZW1zLmNvbnRyb2xsZXIuanMiLCJpdGVtcy9pdGVtcy5maWx0ZXIuanMiLCJsYXp5bG9hZC9sYXp5bG9hZC5jb25maWcuanMiLCJsYXp5bG9hZC9sYXp5bG9hZC5jb25zdGFudHMuanMiLCJsb2FkaW5nYmFyL2xvYWRpbmdiYXIuY29uZmlnLmpzIiwibG9hZGluZ2Jhci9sb2FkaW5nYmFyLnJ1bi5qcyIsImxvY2FsZS9sb2NhbGUuY29uZmlnLmpzIiwibG9jYWxlL2xvY2FsZS5jb250cm9sbGVyLmpzIiwibWFpbGJveC9tYWlsYm94LmNvbnRyb2xsZXIuanMiLCJtYWlsYm94L21haWxmb2xkZXIuY29udHJvbGxlci5qcyIsIm1haWxib3gvbWFpbHMuc2VydmljZS5qcyIsIm1haWxib3gvbWFpbHZpZXcuY29udHJvbGxlci5qcyIsIm1hcHMvbWFwcy1nb29nbGUtbW9kYWwuY29udHJvbGxlci5qcyIsIm1hcHMvbWFwcy1nb29nbGUuY29udHJvbGxlci5qcyIsIm1hcHMvdmVjdG9yLW1hcC5kaXJlY3RpdmUuanMiLCJtYXBzL3ZlY3Rvci1tYXAuc2VydmljZS5qcyIsIm1hcHMvdmVjdG9yLW1hcHMuY29udHJvbGxlci5qcyIsIm1lbWJlcnMvbWVtYmVycy5jb250cm9sbGVyLmpzIiwibWVtYmVycy9tZW1iZXJzLmZpbHRlci5qcyIsIm1lbWJlcnMvbWVtYmVycy5zZXJ2aWNlLmpzIiwibXlzaG9wL215c2hvcC5jb250cm9sbGVyLmpzIiwibXlzaG9wL215c2hvcC5maWx0ZXIuanMiLCJuYXZzZWFyY2gvbmF2c2VhcmNoLmRpcmVjdGl2ZS5qcyIsIm5hdnNlYXJjaC9uYXZzZWFyY2guc2VydmljZS5qcyIsIm5vdGlmeS9ub3RpZnkuY29udHJvbGxlci5qcyIsIm5vdGlmeS9ub3RpZnkuZGlyZWN0aXZlLmpzIiwibm90aWZ5L25vdGlmeS5zZXJ2aWNlLmpzIiwicGFnZXMvYWNjZXNzLWxvZ2luLmNvbnRyb2xsZXIuanMiLCJwYWdlcy9hY2Nlc3MtcmVnaXN0ZXIuY29udHJvbGxlci5qcyIsInBhZ2VzL3BhZ2VzLmZpbHRlci5qcyIsInBhbmVscy9wYW5lbC1jb2xsYXBzZS5kaXJlY3RpdmUuanMiLCJwYW5lbHMvcGFuZWwtZGlzbWlzcy5kaXJlY3RpdmUuanMiLCJwYW5lbHMvcGFuZWwtcmVmcmVzaC5kaXJlY3RpdmUuanMiLCJwYW5lbHMvcGFuZWwtdG9vbHMuZGlyZWN0aXZlLmpzIiwicGFuZWxzL3BhbmVscy5jb250cm9sbGVyLmpzIiwicGFuZWxzL3BvcnRsZXQuZGlyZWN0aXZlLmpzIiwicHJlbG9hZGVyL3ByZWxvYWRlci5kaXJlY3RpdmUuanMiLCJyb3V0ZXMvcm91dGUtaGVscGVycy5wcm92aWRlci5qcyIsInJvdXRlcy9yb3V0ZXMuY29uZmlnLmpzIiwic2FsZXMvZGVhbC5zZXJ2aWNlLmpzIiwic2FsZXMvc2FsZXMuY29udHJvbGxlci5qcyIsInNhbGVzL3NhbGVzLmZpbHRlci5qcyIsInNldHRpbmdzL3NldHRpbmcuY29udHJvbGxlci5qcyIsInNldHRpbmdzL3NldHRpbmdzLnJ1bi5qcyIsInNpZGViYXIvc2lkZWJhci5jb250cm9sbGVyLmpzIiwic2lkZWJhci9zaWRlYmFyLmRpcmVjdGl2ZS5qcyIsInNpZGViYXIvc2lkZWJhci5zZXJ2aWNlLmpzIiwic2lkZWJhci9zaWRlYmFyLnVzZXJibG9jay5jb250cm9sbGVyLmpzIiwidGFibGVzL2FuZ3VsYXItZ3JpZC5jb250cm9sbGVyLmpzIiwidGFibGVzL2RhdGF0YWJsZS5jb250cm9sbGVyLmpzIiwidGFibGVzL25nLWdyaWQuY29udHJvbGxlci5qcyIsInRhYmxlcy9uZ3RhYmxlLWRhdGEuc2VydmljZS5qcyIsInRhYmxlcy9uZ3RhYmxlLWxiLnNlcnZpY2UuanMiLCJ0YWJsZXMvbmd0YWJsZS5jb250cm9sbGVyLmpzIiwidGFibGVzL3RhYmxlLXhlZGl0YWJsZS5jb250cm9sbGVyLmpzIiwidGFibGVzL3VpZ3JpZC5jb250cm9sbGVyLmpzIiwidHJhbnNsYXRlL3RyYW5zbGF0ZS5jb25maWcuanMiLCJ0cmFuc2xhdGUvdHJhbnNsYXRlLnJ1bi5qcyIsInV0aWxzL2FuaW1hdGUtZW5hYmxlZC5kaXJlY3RpdmUuanMiLCJ1dGlscy9icm93c2VyLnNlcnZpY2UuanMiLCJ1dGlscy9jbGVhci1zdG9yYWdlLmRpcmVjdGl2ZS5qcyIsInV0aWxzL2N1cnJlbmN5LmRpcmVjdGl2ZS5qcyIsInV0aWxzL2Z1bGxzY3JlZW4uZGlyZWN0aXZlLmpzIiwidXRpbHMvbG9hZC1jc3MuZGlyZWN0aXZlLmpzIiwidXRpbHMvbm93LmRpcmVjdGl2ZS5qcyIsInV0aWxzL3RhYmxlLWNoZWNrYWxsLmRpcmVjdGl2ZS5qcyIsInV0aWxzL3RyaWdnZXItcmVzaXplLmRpcmVjdGl2ZS5qcyIsInV0aWxzL3V0aWxzLnNlcnZpY2UuanMiLCJjdXN0b20ubW9kdWxlLmpzIiwiY3VzdG9tLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7O0FBY0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLFNBQUE7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBOzs7OztBQy9DQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsbUJBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGNBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGNBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLFlBQUE7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBOzs7QUNsQkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGFBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGlCQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxnQkFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsY0FBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsZUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsYUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsYUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsYUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsZ0JBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGtCQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxjQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxlQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxZQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxlQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxjQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxpQkFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsY0FBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsYUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsY0FBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsaUJBQUE7Ozs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsY0FBQTtZQUNBOzs7QUNMQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsYUFBQTs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUEsZ0JBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGVBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGNBQUE7O0FDSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBLGlCQUFBOztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQSxhQUFBO1VBQ0E7Ozs7Ozs7O0FDREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxpQkFBQTs7SUFFQSxTQUFBLGdCQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsR0FBQSxTQUFBO1lBQ0EsRUFBQSxNQUFBLFVBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxXQUFBLEtBQUE7OztVQUdBLEdBQUEsV0FBQSxXQUFBO1lBQ0EsR0FBQSxPQUFBLEtBQUEsQ0FBQSxLQUFBOzs7VUFHQSxHQUFBLGFBQUEsU0FBQSxPQUFBO1lBQ0EsR0FBQSxPQUFBLE9BQUEsT0FBQTs7Ozs7O0FDN0JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLE9BQUE7O0lBRUEsa0JBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxrQkFBQSxpQkFBQTtNQUNBLGlCQUFBLFFBQUEsQ0FBQSxjQUFBOzs7Ozs7OztBQ0pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsZUFBQTs7SUFFQSxTQUFBLGNBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLGNBQUE7O1VBRUEsR0FBQSxhQUFBOztVQUVBLEdBQUEsYUFBQTtZQUNBLE1BQUE7WUFDQSxRQUFBO1lBQ0EsT0FBQTs7Ozs7Ozs7OztBQ3ZCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLG9CQUFBOztJQUVBLFNBQUEsbUJBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLGFBQUE7O1VBRUEsSUFBQSxTQUFBLEdBQUEsU0FBQTtVQUNBLEdBQUEsV0FBQSxXQUFBO1lBQ0EsSUFBQSxXQUFBLE1BQUEsT0FBQTtZQUNBLE9BQUEsS0FBQTtjQUNBLE9BQUEsdUJBQUEsV0FBQTtjQUNBLE1BQUEsQ0FBQSxPQUFBLFFBQUEsVUFBQSxXQUFBLE9BQUEsU0FBQSxLQUFBO2dCQUNBLENBQUEsUUFBQSxVQUFBLFdBQUEsU0FBQSxPQUFBLFNBQUE7Ozs7VUFJQSxLQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBO1lBQ0EsR0FBQTs7Ozs7Ozs7Ozs7O0FDM0JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsc0JBQUE7O0lBRUEsU0FBQSxxQkFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLEdBQUEsUUFBQSxXQUFBO1lBQ0EsR0FBQSxLQUFBLElBQUE7O1VBRUEsR0FBQTs7VUFFQSxHQUFBLFFBQUEsWUFBQTtZQUNBLEdBQUEsS0FBQTs7OztVQUlBLEdBQUEsV0FBQSxTQUFBLE1BQUEsTUFBQTtZQUNBLFNBQUEsU0FBQSxXQUFBLEtBQUEsYUFBQSxLQUFBLEtBQUEsYUFBQTs7O1VBR0EsR0FBQSxZQUFBLFdBQUE7WUFDQSxHQUFBLFVBQUEsR0FBQSxVQUFBLE9BQUEsSUFBQTs7VUFFQSxHQUFBOztVQUVBLEdBQUEsT0FBQSxTQUFBLFFBQUE7WUFDQSxPQUFBO1lBQ0EsT0FBQTs7WUFFQSxHQUFBLFNBQUE7OztVQUdBLEdBQUEsY0FBQTtZQUNBLFlBQUE7WUFDQSxhQUFBOzs7VUFHQSxHQUFBLFdBQUEsSUFBQSxLQUFBO1VBQ0EsR0FBQSxVQUFBLENBQUEsZ0JBQUEsY0FBQSxjQUFBO1VBQ0EsR0FBQSxTQUFBLEdBQUEsUUFBQTs7Ozs7Ozs7OztBQ2pEQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLG1CQUFBOztJQUVBLGdCQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsZ0JBQUEsUUFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTs7VUFFQSxHQUFBLE9BQUEsVUFBQSxNQUFBOztZQUVBLElBQUEsZ0JBQUEsT0FBQSxLQUFBO2NBQ0EsYUFBQTtjQUNBLFlBQUE7Y0FDQSxNQUFBOzs7WUFHQSxJQUFBLFFBQUEsRUFBQTtZQUNBLGNBQUEsT0FBQSxLQUFBLFlBQUE7Y0FDQSxNQUFBLEtBQUE7ZUFDQSxZQUFBO2NBQ0EsTUFBQSxLQUFBOzs7Ozs7O1VBT0Esa0JBQUEsVUFBQSxDQUFBLFVBQUE7VUFDQSxTQUFBLGtCQUFBLFFBQUEsZ0JBQUE7O1lBRUEsT0FBQSxLQUFBLFlBQUE7Y0FDQSxlQUFBLE1BQUE7OztZQUdBLE9BQUEsU0FBQSxZQUFBO2NBQ0EsZUFBQSxRQUFBOzs7Ozs7Ozs7Ozs7QUM1Q0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxzQkFBQTs7SUFFQSxTQUFBLHFCQUFBO1FBQ0EsSUFBQSxLQUFBOzs7UUFHQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLEdBQUEsYUFBQTtVQUNBLEdBQUEsY0FBQTs7VUFFQSxHQUFBLFVBQUEsVUFBQSxRQUFBO1lBQ0EsR0FBQSxjQUFBOzs7VUFHQSxHQUFBLGNBQUEsV0FBQTtZQUNBLFFBQUEsSUFBQSxzQkFBQSxHQUFBOzs7VUFHQSxHQUFBLFVBQUE7VUFDQSxHQUFBLGdCQUFBO1VBQ0EsR0FBQSxpQkFBQTs7Ozs7Ozs7OztBQzVCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLG1CQUFBOztJQUVBLFNBQUEsa0JBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLGlCQUFBO1VBQ0EsR0FBQSxzQkFBQTs7Ozs7Ozs7OztBQ2hCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLG9CQUFBOztJQUVBLFNBQUEsbUJBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLE1BQUE7O1VBRUEsR0FBQSxTQUFBLFdBQUE7WUFDQSxJQUFBLFFBQUEsS0FBQSxNQUFBLENBQUEsS0FBQSxXQUFBLE9BQUE7WUFDQSxJQUFBOztZQUVBLElBQUEsUUFBQSxJQUFBO2NBQ0EsT0FBQTttQkFDQSxJQUFBLFFBQUEsSUFBQTtjQUNBLE9BQUE7bUJBQ0EsSUFBQSxRQUFBLElBQUE7Y0FDQSxPQUFBO21CQUNBO2NBQ0EsT0FBQTs7O1lBR0EsR0FBQSxlQUFBLFNBQUEsWUFBQSxTQUFBOztZQUVBLEdBQUEsVUFBQTtZQUNBLEdBQUEsT0FBQTs7VUFFQSxHQUFBOztVQUVBLEdBQUEsZ0JBQUEsV0FBQTtZQUNBLEdBQUEsVUFBQTtZQUNBLElBQUEsUUFBQSxDQUFBLFdBQUEsUUFBQSxXQUFBOztZQUVBLEtBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLE1BQUEsQ0FBQSxLQUFBLFdBQUEsS0FBQSxJQUFBLElBQUEsR0FBQSxLQUFBO2dCQUNBLElBQUEsUUFBQSxLQUFBLE9BQUEsS0FBQSxXQUFBO2dCQUNBLEdBQUEsUUFBQSxLQUFBO2tCQUNBLE9BQUEsS0FBQSxNQUFBLENBQUEsS0FBQSxXQUFBLE1BQUE7a0JBQ0EsTUFBQSxNQUFBOzs7O1VBSUEsR0FBQTs7Ozs7Ozs7O0FDbkRBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsa0JBQUE7O0lBRUEsU0FBQSxpQkFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLEdBQUEsT0FBQTtVQUNBLEdBQUEsTUFBQTtVQUNBLEdBQUEsYUFBQTs7VUFFQSxHQUFBLGVBQUEsU0FBQSxPQUFBO1lBQ0EsR0FBQSxXQUFBO1lBQ0EsR0FBQSxVQUFBLE9BQUEsUUFBQSxHQUFBOzs7VUFHQSxHQUFBLGVBQUE7WUFDQSxDQUFBLFNBQUEsZUFBQSxVQUFBO1lBQ0EsQ0FBQSxTQUFBLGNBQUEsVUFBQTtZQUNBLENBQUEsU0FBQSxlQUFBLFVBQUE7WUFDQSxDQUFBLFNBQUE7WUFDQSxDQUFBLFVBQUE7Ozs7Ozs7Ozs7O0FDNUJBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsc0JBQUE7O0lBRUEsU0FBQSxxQkFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLEdBQUEsU0FBQSxJQUFBOztVQUVBLEdBQUEsUUFBQTtVQUNBLEdBQUEsUUFBQTs7VUFFQSxHQUFBLFVBQUE7WUFDQSxPQUFBLENBQUEsR0FBQSxHQUFBO1lBQ0EsT0FBQSxDQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsSUFBQTs7O1VBR0EsR0FBQSxhQUFBO1VBQ0EsR0FBQSxhQUFBLFdBQUE7WUFDQSxHQUFBLGFBQUEsRUFBQSxHQUFBOzs7VUFHQSxHQUFBLFNBQUEsV0FBQTtZQUNBLElBQUEsSUFBQSxJQUFBO1lBQ0EsRUFBQSxVQUFBO1lBQ0EsRUFBQSxZQUFBO1lBQ0EsR0FBQSxTQUFBOzs7VUFHQSxHQUFBLFVBQUEsWUFBQTtZQUNBLFFBQUEsSUFBQSxzQkFBQSxHQUFBOzs7VUFHQSxHQUFBLFFBQUEsV0FBQTtZQUNBLEdBQUEsU0FBQTs7Ozs7Ozs7Ozs7QUMxQ0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0Es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QSxHQUFBLEtBQUEsR0FBQTtjQUNBLENBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQTs7OztVQUlBLEdBQUEsY0FBQTtZQUNBLFdBQUE7WUFDQSxRQUFBO1lBQ0EsY0FBQTtjQUNBLE9BQUE7Ozs7Ozs7VUFPQSxHQUFBLG9CQUFBO1lBQ0EsTUFBQTtZQUNBLEtBQUEsQ0FBQTtZQUNBLFFBQUE7WUFDQSxPQUFBO2NBQ0EsdUJBQUEsU0FBQSxPQUFBLE9BQUE7Z0JBQ0EsT0FBQSxRQUFBLE1BQUEsSUFBQSxRQUFBOzs7OztVQUtBLEdBQUEsaUJBQUE7WUFDQSxRQUFBLENBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUE7WUFDQSxRQUFBO2NBQ0EsQ0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUE7Ozs7Ozs7O1VBUUEsR0FBQSxvQkFBQTtZQUNBLFFBQUEsQ0FBQSxVQUFBLFdBQUEsYUFBQSxZQUFBLFVBQUEsWUFBQTtZQUNBLFFBQUE7Y0FDQSxDQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBO2NBQ0EsQ0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQTs7OztVQUlBLEdBQUEsdUJBQUE7WUFDQSxtQkFBQTtZQUNBLGFBQUE7WUFDQSxnQkFBQTtZQUNBLFFBQUE7WUFDQSxPQUFBO2NBQ0EsUUFBQTs7Ozs7Ozs7VUFRQSxJQUFBLE1BQUE7WUFDQSxTQUFBO1lBQ0EsWUFBQTs7VUFFQSxHQUFBLFdBQUE7WUFDQSxRQUFBLENBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxNQUFBO1lBQ0EsUUFBQTtjQUNBLENBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBO2NBQ0EsQ0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUE7Y0FDQSxDQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQTtjQUNBLENBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBOzs7O1VBSUEsR0FBQSxjQUFBO1lBQ0EsS0FBQTtZQUNBLFFBQUE7OztVQUdBLEdBQUEsYUFBQTtZQUNBLFNBQUEsV0FBQTtjQUNBLE1BQUE7O1lBRUEsTUFBQSxTQUFBLE1BQUE7Y0FDQTs7Y0FFQSxHQUFBLEtBQUEsU0FBQSxRQUFBOztnQkFFQSxLQUFBLFFBQUEsUUFBQTtrQkFDQSxTQUFBOztvQkFFQSxPQUFBLE1BQUEsU0FBQTs7b0JBRUEsS0FBQTs7b0JBRUEsTUFBQTs7b0JBRUEsSUFBQTs7O3FCQUdBLEdBQUEsS0FBQSxTQUFBLFdBQUEsS0FBQSxTQUFBLEtBQUE7Z0JBQ0EsS0FBQSxRQUFBLFFBQUE7a0JBQ0EsR0FBQTtvQkFDQSxPQUFBLE1BQUE7b0JBQ0EsS0FBQTtvQkFDQSxNQUFBLEtBQUEsSUFBQTtvQkFDQSxJQUFBLEtBQUE7O29CQUVBLFFBQUE7OztxQkFHQSxHQUFBLEtBQUEsU0FBQSxXQUFBLEtBQUEsU0FBQSxLQUFBO2dCQUNBLEtBQUEsUUFBQSxRQUFBO2tCQUNBLEdBQUE7b0JBQ0EsT0FBQSxNQUFBO29CQUNBLEtBQUE7b0JBQ0EsTUFBQSxLQUFBLElBQUE7b0JBQ0EsSUFBQSxLQUFBO29CQUNBLFFBQUE7OztxQkFHQSxHQUFBLEtBQUEsU0FBQSxTQUFBO2dCQUNBLEtBQUEsUUFBQSxRQUFBO2tCQUNBLElBQUE7b0JBQ0EsT0FBQSxNQUFBO29CQUNBLEtBQUE7b0JBQ0EsTUFBQSxLQUFBLElBQUE7b0JBQ0EsSUFBQSxLQUFBO29CQUNBLFFBQUE7O2tCQUVBLElBQUE7b0JBQ0EsT0FBQSxNQUFBO29CQUNBLEtBQUE7b0JBQ0EsTUFBQSxLQUFBLElBQUE7b0JBQ0EsSUFBQSxLQUFBO29CQUNBLFFBQUE7O2tCQUVBLFNBQUE7b0JBQ0Es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QSxNQUFBLE1BQUEsWUFBQSxFQUFBLFFBQUEsQ0FBQSxXQUFBO2dCQUNBLFlBQUE7O2NBRUEsTUFBQTtrQkFDQSxLQUFBO2tCQUNBLGFBQUE7a0JBQ0EsaUJBQUE7a0JBQ0EsYUFBQTs7Y0FFQSxPQUFBO2dCQUNBLGVBQUEsV0FBQTtvQkFDQSxPQUFBOzs7Y0FHQSxPQUFBO2tCQUNBLEtBQUE7a0JBQ0EsS0FBQTs7Y0FFQSxRQUFBO2tCQUNBLE1BQUE7O2NBRUEsUUFBQSxDQUFBOzs7O1VBSUEsSUFBQSxPQUFBLElBQUEsY0FBQTs7VUFFQTs7VUFFQSxTQUFBLGdCQUFBO1lBQ0EsSUFBQSxLQUFBLFNBQUE7Y0FDQSxPQUFBLEtBQUEsTUFBQTs7WUFFQSxPQUFBLEtBQUEsU0FBQSxhQUFBO2NBQ0EsSUFBQSxPQUFBLEtBQUEsU0FBQSxJQUFBLEtBQUEsS0FBQSxTQUFBLEtBQUE7Z0JBQ0EsSUFBQSxPQUFBLEtBQUEsV0FBQSxLQUFBO2NBQ0EsSUFBQSxJQUFBLEdBQUE7Z0JBQ0EsSUFBQTtxQkFDQSxJQUFBLElBQUEsS0FBQTtnQkFDQSxJQUFBOztjQUVBLEtBQUEsS0FBQTs7O1lBR0EsSUFBQSxNQUFBO1lBQ0EsS0FBQSxJQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsUUFBQSxFQUFBLEdBQUE7Y0FDQSxJQUFBLEtBQUEsQ0FBQSxHQUFBLEtBQUE7O1lBRUEsT0FBQSxDQUFBOztVQUVBLFNBQUEsU0FBQTtZQUNBLEdBQUEsZUFBQTtZQUNBLFNBQUEsUUFBQTs7Ozs7Ozs7VUFRQSxPQUFBLElBQUEsaUJBQUEsU0FBQSxPQUFBLElBQUE7O1lBRUEsUUFBQSxJQUFBLDBDQUFBOzs7WUFHQSxTQUFBLFVBQUE7Ozs7Y0FJQSxPQUFBLFdBQUEsaUJBQUE7O2NBRUEsUUFBQSxJQUFBLGdCQUFBOztlQUVBOzs7Ozs7Ozs7VUFTQSxPQUFBLElBQUEsZ0JBQUEsU0FBQSxPQUFBLElBQUEsU0FBQTs7WUFFQSxRQUFBLElBQUEsWUFBQSxLQUFBOzs7OztZQUtBLFNBQUE7Ozs7O1VBS0EsT0FBQSxJQUFBLGlCQUFBLFNB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QUFBLE9BQUEsV0FBQSxPQUFBLE9BQUE7WUFDQSxRQUFBOzs7VUFHQSxHQUFBLGFBQUE7WUFDQSxNQUFBO1lBQ0EsT0FBQSxDQUFBLEtBQUE7WUFDQSxRQUFBLENBQUEsWUFBQTtZQUNBLGNBQUE7WUFDQSxXQUFBLEVBQUEsT0FBQSxPQUFBLFNBQUEsT0FBQSxPQUFBO1lBQ0EsUUFBQTs7O1VBR0EsR0FBQSxjQUFBO1lBQ0EsTUFBQTtZQUNBLE9BQUEsQ0FBQSxLQUFBO1lBQ0EsUUFBQSxDQUFBLFdBQUE7WUFDQSxZQUFBLENBQUEsV0FBQTtZQUNBLFFBQUE7OztVQUdBLEdBQUEsY0FBQTtZQUNBLE1BQUE7WUFDQSxPQUFBLENBQUEsS0FBQTtZQUNBLFFBQUEsQ0FBQSxXQUFBO1lBQ0EsWUFBQSxFQUFBLE9BQUEsT0FBQSxXQUFBLE9BQUEsT0FBQTtZQUNBLFFBQUE7Ozs7Ozs7Ozs7OztBQ2hFQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGVBQUEsWUFBQTtTQUNBLFVBQUEsZUFBQSxZQUFBO1NBQ0EsVUFBQSxlQUFBLFlBQUE7U0FDQSxVQUFBLGVBQUEsWUFBQTs7SUFFQSxTQUFBLFlBQUEsTUFBQTtNQUNBLE9BQUEsWUFBQTtRQUNBLE9BQUE7VUFDQSxVQUFBO1VBQ0EsT0FBQTtZQUNBLFlBQUE7WUFDQSxlQUFBOztVQUVBLE1BQUEsU0FBQSxRQUFBLFNBQUE7O1lBRUEsT0FBQSxPQUFBLGNBQUEsU0FBQSxRQUFBO2NBQ0EsSUFBQSxRQUFBO2dCQUNBLE9BQUEsZUFBQSxRQUFBO2dCQUNBLE9BQUEsZUFBQTs7ZUFFQTs7WUFFQSxPQUFBLGNBQUEsVUFBQTs7WUFFQSxHQUFBLE9BQUE7Y0FDQSxPQUFBLGNBQUEsT0FBQSxPQUFBOztZQUVBLE9BQUEsaUJBQUEsSUFBQSxPQUFBLE1BQUEsT0FBQTs7Ozs7Ozs7Ozs7OztBQ2pDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHVCQUFBOzs7SUFHQSxvQkFBQSxVQUFBLENBQUE7O0lBRUEsU0FB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QUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLEtBQUE7c0JBQ0EsT0FBQSxLQUFBLEtBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLFdBQUE7O2tCQUVBLFdBQUEsS0FBQTtrQkFDQSxHQUFBLFdBQUEsSUFBQSxLQUFBOzs7OztVQUtBLEdBQUEsVUFBQTs7VUFFQSxHQUFBLFdBQUE7WUFDQSxVQUFBOzs7VUFHQSxHQUFBLFlBQUEsR0FBQSxVQUFBO1VBQ0EsR0FBQSxXQUFBLEdBQUEsU0FBQTs7VUFFQSxHQUFBLGdCQUFBO1VBQ0EsR0FBQSxlQUFBO1VBQ0EsR0FBQSxpQkFBQTs7OztVQUlBLElBQUEsYUFBQSxFQUFBLElBQUEsSUFBQTtVQUNBLElBQUEsU0FBQSxJQUFBLFNBQUEsU0FBQSxXQUFBOztVQUVBLEtBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLEtBQUE7WUFDQSxPQUFBLFFBQUE7OztVQUdBLEdBQUEsVUFBQTtZQUNBO2NBQ0EsT0FBQTtjQUNBLE1BQUEsV0FBQTtjQUNBLE1BQUE7ZUFDQTtjQUNBLE9BQUE7Y0FDQSxNQUFBLFdBQUE7Y0FDQSxNQUFBO2VBQ0E7Y0FDQSxPQUFBO2NBQ0EsTUFBQSxXQUFBO2NBQ0EsTUFBQTs7OztVQUlBLEdBQUEsV0FBQTtZQUNBLFVBQUE7Ozs7Ozs7Ozs7OztBQzFHQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGFBQUE7O0lBRUEsU0FBQSxhQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsVUFBQTtZQUNBLE9BQUE7Y0FDQSxhQUFBOztZQUVBLFlBQUE7O1FBRUEsT0FBQTs7O0lBR0EsV0FBQSxVQUFBLENBQUEsVUFBQSxZQUFBLFlBQUE7SUFDQSxTQUFBLFdBQUEsUUFBQSxVQUFBLFVBQUEsU0FBQTtNQUNBLElBQUEsUUFBQSxVQUFBO1FBQ0E7OztNQUdBLFNBQUE7O01BRUEsU0FBQSxlQUFBO1FBQ0EsSUFBQSxVQUFBLE9BQUE7WUFDQSxPQUFBLFNBQUE7O1FBRUEsR0FBQSxDQUFBO1VBQ0EsVUFBQTs7VUFFQSxH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LFVBQUEsV0FBQSxZQUFBLE1BQUE7VUFDQSxRQUFBLElBQUE7OztNQUdBLFdBQUEsSUFBQTtRQUNBLDhEQUFBOztVQUVBLFFBQUEsU0FBQSxHQUFBOztVQUVBLFdBQUEsWUFBQSxPQUFBLFFBQUE7Ozs7TUFJQSxXQUFBLFlBQUEsT0FBQSxRQUFBO01BQ0EsV0FBQSxZQUFBLFdBQUE7UUFDQSxJQUFBLFFBQUEsV0FBQSxJQUFBLE9BQUEsU0FBQSxXQUFBLGFBQUEsV0FBQSxJQUFBO1FBQ0EsU0FBQSxRQUFBO1FBQ0EsT0FBQTs7Ozs7SUFLQSxlQUFBLFVBQUEsQ0FBQSxjQUFBLFFBQUE7O0lBRUEsU0FBQSxlQUFBLFlBQUEsTUFBQSxTQUFBOztNQUVBOztNQUVBLFNBQUEsaUJBQUE7UUFDQSxHQUFBLEtBQUEsbUJBQUE7VUFDQSxLQUFBLFNBQUEsQ0FBQSxJQUFBLEtBQUEsZ0JBQUEsT0FBQSxDQUFBLFFBQUEsQ0FBQSxRQUFBO1dBQ0EsU0FBQSxLQUFBLFVBQUEsTUFBQTtZQUNBLEtBQUEsTUFBQSxRQUFBLFFBQUEsS0FBQTtZQUNBLEtBQUEsT0FBQSxLQUFBLFFBQUEsS0FBQTtZQUNBLEtBQUEsVUFBQTtZQUNBLFdBQUEsT0FBQTs7Ozs7TUFLQSxXQUFBLElBQUEsZ0JBQUE7Ozs7OztBQ3RGQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtPQUNBLE9BQUE7T0FDQSxXQUFBLG1CQUFBO09BQ0EsV0FBQSw0QkFBQTtPQUNBLFdBQUEsd0JBQUE7OztJQUdBLGdCQUFBLFVBQUEsQ0FBQSxVQUFBLFFBQUEsaUJBQUEsb0JBQUEsY0FBQTtJQUNBLFNBQUEsZ0JBQUEsUUFBQSxNQUFBLGVBQUEsa0JBQUEsWUFBQSxVQUFBO01BQ0EsSUFBQSxLQUFBOztNQUVBOztNQUVBLEdBQUEsS0FBQTtRQUNBLFNBQUE7VUFDQSxZQUFBO1VBQ0EsU0FBQSxJQUFBO1VBQ0EsU0FBQSxJQUFBLEtBQUEsS0FBQSxFQUFBO1VBQ0EsYUFBQTs7UUFFQSxPQUFBO1VBQ0EsSUFBQSxJQUFBLEtBQUEsU0FBQSxRQUFBO1VBQ0EsTUFBQTs7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QUFBO1lBQ0EsYUFBQTtZQUNBLFFBQUE7Ozs7UUFJQSxPQUFBLGNBQUEsVUFBQSxHQUFBLEdBQUE7VUFDQSxPQUFBLEtBQUEsV0FBQTtVQUNBLE9BQUEsS0FBQSxjQUFBO1VBQ0EsT0FBQSxjQUFBOzs7UUFHQSxPQUFBLFVBQUEsWUFBQTtVQUNBLEdBQUEsT0FBQSxLQUFBLFdBQUEsR0FBQTtZQUNBOztVQUVBLE9BQUEsT0FBQSxLQUFBO1VBQ0EsT0FBQSxPQUFBLEtBQUE7VUFDQSxPQUFBLE9BQUEsS0FBQTtVQUNBLE9BQUEsT0FBQSxLQUFBO1VBQ0EsS0FBQSxPQUFBLE9BQUEsTUFBQSxTQUFBLEtBQUEsVUFBQSxRQUFBO1lBQ0EsT0FBQSxZQUFBO1lBQ0EsU0FBQTtZQUNBLFFBQUEsSUFBQSxXQUFBLE1BQUE7YUFDQSxVQUFBLEtBQUE7WUFDQSxPQUFBLFlBQUE7WUFDQSxRQUFBLElBQUEsU0FBQSxNQUFBOztVQUVBLE9BQUEsWUFBQTs7Ozs7QUN4TUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSx1QkFBQTs7SUFFQSxvQkFBQSxVQUFBLENBQUEsVUFBQSxhQUFBLFlBQUEsV0FBQSxRQUFBO0lBQ0EsU0FBQSxvQkFBQSxRQUFBLFdBQUEsVUFBQSxTQUFBLE1BQUEsU0FBQTtRQUNBLElBQUEsS0FBQTs7O1FBR0EsT0FBQSxPQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOztVQUVBLEdBQUEsQ0FBQSxPQUFBLE1BQUE7Ozs7VUFJQSxHQUFBLFdBQUEsQ0FBQSxRQUFBLEdBQUEsS0FBQSxHQUFBLFNBQUE7O1VBRUEsS0FBQSxLQUFBLENBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxRQUFBLFVBQUEsa0JBQUEsQ0FBQSxLQUFBLE9BQUEsVUFBQSxLQUFBO1lBQ0EsR0FBQSxJQUFBLFdBQUEsR0FBQTtZQUNBLEdBQUEsU0FBQSxTQUFBLElBQUEsR0FBQTtZQUNBLEdBQUEsU0FBQSxNQUFBLElBQUEsR0FBQTs7O1VBR0EsUUFBQSxLQUFBLENBQUEsT0FBQSxDQUFBLE1BQUEs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LE1BQUEsSUFBQSxNQUFBOzs7O1VBSUEsU0FBQSxTQUFBLFFBQUEsT0FBQTtjQUNBLE9BQUEsS0FBQSxTQUFBLFFBQUE7OztVQUdBLEdBQUEsZ0JBQUE7VUFDQSxHQUFBLGlCQUFBO1VBQ0EsR0FBQSxpQkFBQTtVQUNBLEdBQUEsaUJBQUE7VUFDQSxHQUFBLGlCQUFBOztVQUVBLFNBQUEsVUFBQSxRQUFBLE9BQUEsS0FBQTtjQUNBLEtBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLEtBQUE7a0JBQ0EsU0FBQSxRQUFBOzs7OztVQUtBLEdBQUEsU0FBQTtVQUNBLFVBQUEsR0FBQSxRQUFBLFVBQUE7OztVQUdBLEdBQUEsVUFBQTtVQUNBLFVBQUEsR0FBQSxTQUFBLFVBQUE7OztVQUdBLEdBQUEsVUFBQTtVQUNBLFVBQUEsR0FBQSxTQUFBLFVBQUE7OztVQUdBLEdBQUEsVUFBQTtVQUNBLFVBQUEsR0FBQSxTQUFBLFFBQUE7Ozs7VUFJQSxHQUFBLFVBQUE7VUFDQSxHQUFBLGlCQUFBO1VBQ0EsVUFBQSxHQUFBLFNBQUEsVUFBQTtVQUNBLEdBQUEsV0FBQSxTQUFBLElBQUE7Y0FDQSxHQUFBLEtBQUEsUUFBQTtrQkFDQSxHQUFBLFFBQUEsUUFBQSxTQUFBLEdBQUEsU0FBQTtxQkFDQTtrQkFDQSxHQUFBLFFBQUEsS0FBQSxTQUFBLEdBQUEsU0FBQTs7Ozs7Ozs7Ozs7Ozs7QUMvREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxtQkFBQTtTQUNBLFdBQUEsa0JBQUE7U0FDQSxXQUFBLGNBQUE7U0FDQSxXQUFBLG1CQUFBOztJQUVBLGdCQUFBLFVBQUEsQ0FBQSxVQUFBLFlBQUE7O0lBRUEsU0FBQSxnQkFBQSxRQUFBLFVBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTs7VUFFQSxPQUFBLE1BQUE7O1VBRUEsU0FBQSxLQUFBO1lBQ0EsVUFBQSxJQUFBOztZQUVBLFdBQUE7Ozs7O0lBS0EsZUFBQSxVQUFBLENBQUEsVUFBQSxjQUFBOztJQUVBLFNBQUEsZUFBQSxR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QUEsS0FBQTs7OztVQUlBLE9BQUEscUJBQUEsWUFBQTtZQUNBLFNBQUEsS0FBQTtjQUNBLFVBQUE7Y0FDQSxXQUFBO2NBQ0EsT0FBQTtjQUNBLFNBQUE7Ozs7VUFJQSxXQUFBLElBQUEsbUJBQUEsVUFBQSxHQUFBLFNBQUE7WUFDQSxRQUFBLElBQUEsc0JBQUEsUUFBQSxLQUFBOzs7VUFHQSxXQUFBLElBQUEsbUJBQUEsVUFBQSxHQUFBLFNBQUE7WUFDQSxRQUFBLElBQUEsc0JBQUEsUUFBQSxLQUFBOzs7VUFHQSxXQUFBLElBQUEsb0JBQUEsVUFBQSxHQUFBLFNBQUE7WUFDQSxRQUFBLElBQUEsdUJBQUEsUUFBQSxLQUFBOzs7Ozs7O0lBT0EsV0FBQSxVQUFBLENBQUEsVUFBQTtJQUNBLFNBQUEsV0FBQSxRQUFBLFVBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxPQUFBLGNBQUE7WUFDQSxVQUFBOztVQUVBLE9BQUEsYUFBQSxZQUFBO1lBQ0EsU0FBQSxLQUFBO2NBQ0EsVUFBQTtjQUNBLE9BQUE7Y0FDQSxlQUFBO2NBQ0EsWUFBQTs7Ozs7O0lBTUEsZ0JBQUEsVUFBQSxDQUFBLFVBQUE7SUFDQSxTQUFBLGdCQUFBLFFBQUEsVUFBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLE9BQUEsY0FBQSxZQUFBO1lBQ0EsU0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDblFBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsNEJBQUE7U0FDQSxRQUFBLGNBQUE7O0lBRUEsU0FBQSwyQkFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLEdBQUEsU0FBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBOztVQUVBLEdBQUEsV0FBQSxXQUFBO1lBQ0EsSUFBQSxPQUFBLEdBQUEsT0FBQSxHQUFBLE9BQUEsU0FBQTtZQUNBLElBQUEsSUFBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUE7Y0FDQSxHQUFBLE9BQUEsS0FBQSxPQUFBOzs7Ozs7SUFNQSxXQUFBLFVBQUEsQ0FBQSxRQUFBO0lBQ0EsU0FBQSxXQUFBLFNBQUEsVUFBQTs7UUFFQSxJQUFBLE1BQUEsU0FBQSxPQUFBLE9BQUEsU0FBQTtZQUNBLE9BQUEsU0FBQSxXQUFBO2dCQUNBLElBQUEsR0FBQSxRQUFBLElBQUE7Z0JBQ0EsU0FBQTtnQkFDQSxLQUFBLElBQUEsS0FBQSxPQUFBLE9BQUEsUUFBQSxRQUFBLEdBQUEsU0FBQSxPQUFBLE1BQUEsT0FBQSxNQUFBLE1BQUEsSUFBQSxTQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsSUFBQTtvQkFDQSxPQUFBLEtBQUEsV0FBQTs7Z0JBRUEsT0FBQSxRQUFBO2VBQ0E7O1FBRUEsT0FBQTtZQUNBLEtBQUE7Ozs7Ozs7Ozs7O0FDMUNBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEseUJBQUE7U0FDQSxVQUFBLGVBQUE7O0lBRUEsc0JBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxzQkFBQSxjQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOztVQUVBLEdBQUEsV0FBQSxhQUFBOztVQUVBLEdBQUEsU0FBQTtjQUNBLENBQUEsSUFBQSxXQUFBLE1BQUEsaUJBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxXQUFBLE1BQUEsZUFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFdBQUEsTUFBQSxpQkFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFdBQUEsTUFBQSxZQUFBLEtBQUE7Y0FDQSxDQUFBLElBQUEsV0FBQSxNQUFBLGdCQUFBLEtBQUE7Y0FDQSxDQUFBLElBQUEsV0FBQSxNQUFBLGVBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxXQUFBLE1BQUEsZUFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFdBQUEsTUFBQSxnQkFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFdBQUEsTUFBQSxtQkFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFlBQUEsTUFBQSxpQkFBQSxLQUFBO2NBQ0EsQ0FBQSxJQUFBLFlBQUEsTUFBQSxjQUFBLEtBQUE7Y0FDQSxDQUFBLElBQUEsWUFBQSxNQUFBLGVBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsbUJBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsbUJBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsa0JBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsZ0JBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsaUJBQUEsS0FBQTtjQUNBLENBQUEsSUFBQSxZQUFBLE1BQUEsbUJBQUEsS0FBQTs7Ozs7OztJQU1BLFNBQUEsZUFBQTs7O1FBR0EsSUFBQSxZQUFBO1lBQ0EsTUFBQTtZQUNBLFVBQUE7O1FBRUEsT0FBQTs7UUFFQSxTQUFBLEtBQUEsT0FBQSxTQUFBLE9BQUE7VUFDQSxJQUFBLFdBQUEsTUFBQTs7VUFFQSxRQUFBLEtBQUEsUUFBQSxZQUFBO2NBQ0EsUUFBQSxRQUFBLFNBQUEsU0FBQTs7Ozs7Ozs7Ozs7Ozs7QUN6REEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxxQkFBQTs7SUFFQSxrQkFBQSxVQUFBLENBQUEsWUFBQTtJQUNBLFNBQUEsa0JBQUEsVUFBQSxXQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7OztRQUtBLFNBQUEsV0FBQTtVQUNBLEdBQUEsa0JBQUEsU0FBQSxRQUFBOztZQUVBLEdBQUEsU0FBQSxtQkFBQSxPQUFBOztZQUVBLElBQUEsT0FBQSxRQUFBLE9BQUEsS0FBQSxhQUFBO2NBQ0EsR0FBQSxVQUFBLE1BQUEsT0FBQSxLQUFBLGNBQUE7Y0FDQSxPQUFBLEdBQUE7Ozs7O1VBS0EsSUFBQSxpQkFBQSxTQUFBLFFBQUE7WUFDQSxHQUFBLFNBQUEsY0FBQSxPQUFBO1lBQ0EsT0FBQSxHQUFBOzs7VUFHQSxJQUFBLGVBQUE7WUFDQTtjQUNBLE9BQUE7Y0FDQSxVQUFBO2dCQUNBO2tCQUNBLE9BQUE7a0JBQ0EsTUFBQTtvQkFDQSxhQUFBOzttQkFFQTtrQkFDQSxPQUFBO2tCQUNBLE1BQUE7b0JBQ0EsYUFBQTs7bUJBRUE7a0JBQ0EsT0FBQTtrQkFDQSxNQUFBO29CQUNBLGFBQUE7O21CQUVBO2tCQUNBLE9BQUE7a0JBQ0EsVUFBQSxDQUFBLGlCQUFBLG9CQUFBOzs7ZUFHQTtjQUNBLE9BQUE7Y0FDQSxNQUFBO2dCQUNBLFlBQUE7Z0JBQ0EsMkJBQUE7O2NBRUEsVUFBQSxTQUFBLFFBQUE7Z0JBQ0EsR0FBQSxTQUFBLGdCQUFBLE9BQUEsS0FBQTtnQkFDQSxPQUFBLEdBQUE7O2NBRUEsVUFBQTtnQkFDQTtrQkFDQSxPQUFBO21CQUNBO2tCQUNBLE9BQUE7a0JBQ0EsVUFBQTtvQkFDQTtzQkFDQSxPQUFBO3NCQUNBLFVBQUE7dUJBQ0E7c0JBQ0EsT0FBQTtzQkFDQSxVQUFBO3VCQUNBO3NCQUNBLE9BQUE7c0JBQ0EsVUFBQTs7Ozs7ZUFLQTtjQUNBLE9BQUE7Y0FDQSxVQUFBO2dCQUNBO2tCQUNBLE9BQUE7a0JBQ0EsVUFBQSxDQUFBLFdBQUEsZUFBQTttQkFDQTtrQkFDQSxPQUFBO2tCQUNBLFVBQUEsQ0FBQSxZQUFBLFNBQUE7bUJBQ0E7a0JBQ0EsT0FBQTtrQkFDQSxVQUFBO29CQUNBO3NCQUNBLE9BQUE7c0JBQ0EsVUFBQSxDQUFBLGdCQUFBLGlCQUFBLGVBQUE7dUJBQ0E7c0JBQ0EsT0FBQTtzQkFDQSxVQUFBLENBQUEsYUFBQSxnQkFBQSxxQkFBQSxZQUFBOzs7Ozs7OztVQVFBLElBQUEscUJBQUE7WUFDQTtjQUNBLE9BQUE7Y0FDQSxVQUFBO2dCQUNBO2tCQUNBLE9BQUE7a0JBQ0EsVUFBQSxDQUFBLFdBQUE7bUJBQ0E7a0JBQ0EsT0FBQTtrQkFDQSxVQUFBLENBQUEsWUFBQTttQkFDQTtrQkFDQSxPQUFBO2tCQUNBLFVBQUEsQ0FBQSxlQUFBOzs7ZUFHQTtjQUNBLE9BQUE7Y0FDQSxVQUFBO2dCQUNBO2tCQUNBLE9BQUE7a0JBQ0EsVUFBQSxDQUFBLFdBQUE7bUJBQ0E7a0JBQ0EsT0FBQTtrQkFDQSxVQUFBLENBQUEsYUFBQTttQkFDQTtrQkFDQSxPQUFBO2tCQUNBLFVBQUEsQ0FBQSxnQkFBQTs7Ozs7O1VBTUEsR0FBQSxVQUFBO1VBQ0EsR0FBQSw2QkFBQSxXQUFBO1lBQ0EsSUFBQSxHQUFBLFlBQUEsY0FBQTtjQUNBLEdBQUEsVUFBQTttQkFDQTtjQUNBLEdBQUEsVUFBQTs7WUFFQSxPQUFBLEdBQUE7OztVQUdBLElBQUE7O1VBRUEsR0FBQSxVQUFBLE9BQUE7VUFDQSxHQUFBLGlCQUFBLFdBQUE7O1lBRUEsR0FBQSxVQUFBO1lBQ0EsR0FBQSxjQUFBOzs7WUFHQSxJQUFBLGFBQUEsVUFBQTs7WUFFQSxPQUFBLFdBQUEsSUFBQSxTQUFBLElBQUE7O2NBRUEsR0FBQSxVQUFBLElBQUE7O2NBRUEsR0FBQSxjQUFBOztjQUVBLE9BQUEsS0FBQTs7OztlQUlBOzs7O1VBSUEsR0FBQSxzQkFBQSxXQUFBO1lBQ0EsSUFBQTtZQUNBLElBQUEsS0FBQTtZQUNBLE9BQUEsS0FBQSxXQUFBLEdBQUE7Y0FDQSxPQUFBO2NBQ0EsTUFBQTtnQkFDQSxXQUFBO2dCQUNBLFFBQUE7Ozs7Ozs7Ozs7Ozs7OztBQ3pMQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHNCQUFBOztJQUVBLFNBQUEscUJBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLFNBQUE7WUFDQTtjQUNBLE1BQUEsQ0FBQSxNQUFBO2NBQ0EsVUFBQTs7WUFFQTtjQUNBLE1BQUEsQ0FBQSxNQUFBO2NBQ0EsVUFBQTtnQkFDQTtrQkFDQSxNQUFBLENBQUEsTUFBQTtrQkFDQSxVQUFBOztnQkFFQTtrQkFDQSxNQUFBLENBQUEsTUFBQTtrQkFDQSxVQUFBOzs7O1lBSUE7Y0FDQSxNQUFBLENBQUEsTUFBQTtjQUNBLFVBQUE7O1lBRUE7Y0FDQSxNQUFBLENBQUEsTUFBQTtjQUNBLFVBQUE7Ozs7VUFJQSxHQUFBLFVBQUE7WUFDQTtjQUNBLE1BQUEsQ0FBQSxNQUFBO2NBQ0EsVUFBQTs7WUFFQTtjQUNBLE1BQUEsQ0FBQSxNQUFBO2NBQ0EsVUFBQTtnQkFDQTtrQkFDQSxNQUFBLENBQUEsTUFBQTtrQkFDQSxVQUFBOztnQkFFQTtrQkFDQSxNQUFBLENBQUEsTUFBQTtrQkFDQSxVQUFBOzs7O1lBSUE7Y0FDQSxNQUFBLENBQUEsTUFBQTtjQUNBLFVBQUE7O1lBRUE7Y0FDQSxNQUFBLENBQUEsTUFBQTtjQUNBLFVBQUE7Ozs7Ozs7Ozs7Ozs7QUNuRUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsVUFBQSxjQUFBOztJQUVBLFNBQUEsY0FBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBOztRQUVBLE9BQUE7O1FBRUEsU0FBQSxLQUFBLE9BQUEsU0FBQSxPQUFBO1VBQ0EsSUFBQSxnQkFBQTtVQUNBLFFBQUEsV0FBQTtjQUNBLFNBQUEsTUFBQSxVQUFBOzs7Ozs7Ozs7OztBQ2xCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHNCQUFBOztJQUVBLG1CQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsbUJBQUEsUUFBQTs7O1FBR0E7Ozs7UUFJQSxTQUFBLFdBQUE7O1VBRUEsT0FBQSxRQUFBO1lBQ0EsRUFBQSxJQUFBLEdBQUEsTUFBQTtZQUNBLEVBQUEsSUFBQSxHQUFBLE1BQUE7WUFDQSxFQUFBLElBQUEsR0FBQSxNQUFBO1lBQ0EsRUFBQSxJQUFBLEdBQUEsTUFBQTs7O1VBR0EsT0FBQSxNQUFBLFlBQUE7WUFDQSxPQUFBLE1BQUEsS0FBQSxDQUFBLElBQUEsT0FBQSxNQUFBLFNBQUEsR0FBQSxNQUFBOzs7VUFHQSxPQUFBLG1CQUFBLFVBQUEsYUFBQSxXQUFBLE9BQUEsS0FBQTtZQUNBLFFBQUEsSUFBQSxRQUFBLFNBQUE7OztVQUdBLE9BQUEsa0JBQUE7Y0FDQSxhQUFBO2NBQ0Esc0JBQUE7Ozs7Ozs7Ozs7O0FDbENBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsd0JBQUE7O0lBRUEscUJBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxxQkFBQSxZQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsR0FBQSxRQUFBLFdBQUE7WUFDQSxXQUFBLEtBQUE7OztVQUdBLEdBQUEsUUFBQSxXQUFBO1lBQ0EsV0FBQSxLQUFBLHNCQUFBOzs7VUFHQSxHQUFBLFFBQUEsV0FBQTtZQUNBLFdBQUEsS0FBQSxhQUFBLDJCQUFBOzs7VUFHQSxHQUFBLFFBQUEsV0FBQTtZQUNBLFdBQUEsS0FBQTtjQUNBLE9BQUE7Y0FDQSxNQUFBO2NBQ0EsTUFBQTtjQUNBLGtCQUFBO2NBQ0Esb0JBQUE7Y0FDQSxtQkFBQTtjQUNBLGdCQUFBO2dCQUNBLFVBQUE7Y0FDQSxXQUFBLEtBQUE7Ozs7VUFJQSxHQUFBLFFBQUEsV0FBQTtZQUNBLFdBQUEsS0FBQTtjQUNBLE9BQUE7Y0FDQSxNQUFBO2NBQ0EsTUFBQTtjQUNBLGtCQUFBO2NBQ0Esb0JBQUE7Y0FDQSxtQkFBQTtjQUNBLGtCQUFBO2NBQ0EsZ0JBQUE7Y0FDQSxlQUFBO2VBQ0EsU0FBQSxVQUFBO2NBQ0EsSUFBQSxXQUFBO2dCQUNBLFdBQUEsS0FBQSxZQUFBLHlDQUFBO3FCQUNBO2dCQUNBLFdBQUEsS0FBQSxhQUFBLGtDQUFBOzs7OztVQUtBLEdBQUEsUUFBQSxXQUFBO1lBQ0EsV0FBQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLE1BQUE7Y0FDQSxVQUFBOzs7Ozs7Ozs7Ozs7QUNqRUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxtQkFBQTs7SUFFQSxnQkFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLGdCQUFBLFNBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLFVBQUE7Y0FDQSxPQUFBO2NBQ0EsT0FBQTtjQUNBLE9BQUE7OztVQUdBLEdBQUEsTUFBQSxXQUFBO1lBQ0EsUUFBQSxJQUFBLEdBQUEsUUFBQSxNQUFBLEdBQUEsUUFBQSxPQUFBLEdBQUEsUUFBQTs7Ozs7Ozs7OztBQ3hCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLFlBQUE7O0lBRUEsU0FBQSxVQUFBLENBQUE7SUFDQSxTQUFBLFNBQUEsUUFBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTs7OztVQUlBLElBQUEsVUFBQSxRQUFBLFFBQUE7VUFDQSxRQUFBLElBQUEsQ0FBQSxZQUFBOztVQUVBLE9BQUEsSUFBQSxZQUFBLFVBQUE7WUFDQSxRQUFBLElBQUEsQ0FBQSxZQUFBOzs7Ozs7Ozs7QUN2QkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxxQkFBQTs7SUFFQSxTQUFBLG9CQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsR0FBQSxjQUFBOztVQUVBLEdBQUEsV0FBQTtVQUNBLEdBQUEsU0FBQSxPQUFBLENBQUEsVUFBQTtVQUNBLEdBQUEsZ0JBQUEsQ0FBQSxVQUFBLFFBQUEsUUFBQSxhQUFBLFFBQUE7VUFDQSxHQUFBLFNBQUEsYUFBQSxDQUFBLGFBQUE7VUFDQSxHQUFBLHNCQUFBLENBQUEsYUFBQSxPQUFBLGFBQUEsVUFBQSxTQUFBOztVQUVBLEdBQUEsWUFBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTtZQUNBLEVBQUEsTUFBQSxhQUFBLE9BQUEsdUJBQUEsS0FBQTs7OztVQUlBLEdBQUEsU0FBQTtZQUNBLEVBQUEsTUFBQSxRQUFBLEtBQUE7OztVQUdBLEdBQUEsYUFBQSxTQUFBLE9BQUE7WUFDQSxHQUFBLE9BQUEsT0FBQSxPQUFBOzs7Ozs7Ozs7Ozs7QUNyQ0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsVUFBQSxZQUFBOztJQUVBLFNBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxVQUFBLFlBQUE7UUFDQSxJQUFBLFlBQUE7WUFDQSxNQUFBO1lBQ0EsVUFBQTs7UUFFQSxPQUFBOztRQUVBLFNBQUEsS0FBQSxPQUFBLFNBQUE7O1VBRUEsR0FBQSxDQUFBLEVBQUEsR0FBQSxjQUFBOzs7VUFHQSxJQUFBLFdBQUE7O1VBRUEsSUFBQSxhQUFBOztVQUVBLG1CQUFBOztVQUVBLGFBQUEsVUFBQSxZQUFBLFdBQUEsSUFBQSxPQUFBOzs7Ozs7SUFNQSxJQUFBLGdCQUFBOzs7Ozs7O0lBT0EsU0FBQSxjQUFBLFVBQUE7O1FBRUEsSUFBQSxDQUFBLFVBQUE7O1FBRUEsU0FBQSxLQUFBLFdBQUE7WUFDQSxJQUFBLFFBQUEsRUFBQTs7O1lBR0EsSUFBQSxzQkFBQTtnQkFDQSxPQUFBLEVBQUEsS0FBQSxNQUFBOzs7O1lBSUEsTUFBQSxLQUFBLHVCQUFBOzs7WUFHQSxNQUFBLFVBQUE7Z0JBQ0EsUUFBQTtnQkFDQSxRQUFBO2dCQUNBLGdCQUFBOzs7Ozs7Ozs7OztJQVdBLFNBQUEsYUFBQSxZQUFBLFFBQUEsT0FBQTs7O1FBR0EsSUFBQSxrQkFBQSxFQUFBOztRQUVBLFdBQUEsYUFBQTtZQUNBLE9BQUE7WUFDQSxRQUFBO2dCQUNBLFFBQUE7Z0JBQ0EsUUFBQTtnQkFDQSxRQUFBOztZQUVBLGFBQUE7Z0JBQ0EsU0FBQTtnQkFDQSxTQUFBOztZQUVBLFlBQUE7Z0JBQ0EsT0FBQTtnQkFDQSxPQUFBO2dCQUNBLE9BQUE7Z0JBQ0EsT0FBQTs7WUFFQSxVQUFBO1lBQ0EsV0FBQTtZQUNBLE1BQUEsU0FBQSxNQUFBLFFBQUE7O2dCQUVBLElBQUEsUUFBQSxFQUFBOztvQkFFQSxzQkFBQSxNQUFBLEtBQUE7OztnQkFHQSxHQUFBLENBQUEscUJBQUE7OztnQkFHQSxJQUFBLG9CQUFBLEVBQUEsT0FBQSxJQUFBOzs7Z0JBR0Esa0JBQUEsUUFBQTtnQkFDQSxrQkFBQSxTQUFBO2dCQUNBLGtCQUFBLGtCQUFBLE1BQUEsSUFBQTtnQkFDQSxrQkFBQSxjQUFBLE1BQUEsSUFBQTs7Ozs7Z0JBS0EsV0FBQSxhQUFBLGVBQUEsbUJBQUE7OztnQkFHQSxHQUFBLGdCQUFBLEdBQUEsYUFBQTtrQkFDQSxNQUFBOzs7WUFHQSxnQkFBQSxVQUFBLG1CQUFBO2NBQ0EsZ0JBQUE7OztZQUdBLFFBQUE7Ozs7Ozs7O0lBUUEsU0FBQSxtQkFBQSxXQUFBOztNQUVBLElBQUEsaUJBQUEsRUFBQTs7O01BR0EsSUFBQSxjQUFBLGVBQUEsU0FBQTs7O01BR0EsSUFBQSxZQUFBOztNQUVBLElBQUEsY0FBQSxFQUFBOztNQUVBLElBQUEsaUJBQUEsRUFBQTs7TUFFQSxJQUFBLHFCQUFBLEVBQUE7OztNQUdBLEVBQUEsMEJBQUEsVUFBQTtRQUNBLGNBQUE7UUFDQSxjQUFBO1FBQ0EsY0FBQTtRQUNBLGNBQUE7UUFDQSxNQUFBLFNBQUEsT0FBQSxJQUFBOzs7OztVQUtBLEdBQUEsZUFBQTtZQUNBLElBQUEsTUFBQSxjQUFBLE1BQUEsY0FBQTs7WUFFQSxXQUFBLGFBQUEsZ0JBQUE7O1lBRUEsR0FBQSxVQUFBOztZQUVBLGdCQUFBOzs7OztNQUtBLG1CQUFBLE1BQUEsU0FBQSxHQUFBO1VBQ0EsRUFBQTtVQUNBLElBQUEsUUFBQSxFQUFBOzs7VUFHQSxZQUFBLE1BQUEsSUFBQTs7VUFFQSxtQkFBQSxZQUFBO1VBQ0EsTUFBQSxTQUFBOzs7TUFHQSxZQUFBLE1BQUEsU0FBQSxHQUFBO1VBQ0EsRUFBQTs7O1VBR0EsSUFBQSxNQUFBLGVBQUE7O1VBRUEsSUFBQSxFQUFBLEtBQUEsU0FBQSxJQUFBOzs7VUFHQSxJQUFBLFdBQUEsRUFBQSxVQUFBLElBQUE7OEJBQ0Esb0JBQUE7OEJBQ0Esb0JBQUE7OEJBQ0Esb0JBQUE7OzJCQUVBLEtBQUE7OztVQUdBLGVBQUEsUUFBQTs7VUFFQSxJQUFBLGNBQUE7O1VBRUEsZUFBQSxJQUFBOzs7Ozs7Ozs7SUFTQSxTQUFBLG1CQUFBOztNQUVBLElBQUEsT0FBQSxJQUFBO01BQ0EsSUFBQSxJQUFBLEtBQUE7VUFDQSxJQUFBLEtBQUE7VUFDQSxJQUFBLEtBQUE7O01BRUEsUUFBQTtnQkFDQTtvQkFDQSxPQUFBO29CQUNBLE9BQUEsSUFBQSxLQUFBLEdBQUEsR0FBQTtvQkFDQSxpQkFBQTtvQkFDQSxhQUFBOztnQkFFQTtvQkFDQSxPQUFBO29CQUNBLE9BQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBO29CQUNBLEtBQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBO29CQUNBLGlCQUFBO29CQUNBLGFBQUE7O2dCQUVBO29CQUNBLE9BQUE7b0JBQ0EsT0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQTtvQkFDQSxRQUFBO29CQUNBLGlCQUFBO29CQUNBLGFBQUE7O2dCQUVBO29CQUNBLE9BQUE7b0JBQ0EsT0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQTtvQkFDQSxLQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBO29CQUNBLFFBQUE7b0JBQ0EsaUJBQUE7b0JBQ0EsYUFBQTs7Z0JBRUE7b0JBQ0EsT0FBQTtvQkFDQSxPQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLElBQUE7b0JBQ0EsS0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBO29CQUNBLFFBQUE7b0JBQ0EsaUJBQUE7b0JBQ0EsYUFBQTs7Z0JBRUE7b0JBQ0EsT0FBQTtvQkFDQSxPQUFBLElBQUEsS0FBQSxHQUFBLEdBQUE7b0JBQ0EsS0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBO29CQUNBLEtBQUE7b0JBQ0EsaUJBQUE7b0JBQ0EsYUFBQTs7Ozs7OztBQzdRQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxRQUFBLG1CQUFBOztJQUVBLGdCQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsZ0JBQUEsV0FBQTs7UUFFQSxPQUFBLFVBQUE7Ozs7Ozs7OztBQ0xBLENBQUEsV0FBQTtJQUNB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QUFBLENBQUEsZ0JBQUE7WUFDQSxPQUFBLFVBQUEsUUFBQSxXQUFBLENBQUE7OztVQUdBLEdBQUEsUUFBQSxTQUFBLE9BQUE7WUFDQSxPQUFBLFNBQUEsTUFBQSxNQUFBLEtBQUE7OztVQUdBLEdBQUEsWUFBQTtVQUNBLEdBQUEsZ0JBQUEsU0FBQSxNQUFBLE1BQUE7WUFDQSxJQUFBLFFBQUEsR0FBQSxhQUFBO1lBQ0EsT0FBQSxDQUFBLE1BQUEsVUFBQSxHQUFBLGNBQUEsTUFBQSxPQUFBOzs7O1VBSUEsR0FBQSxhQUFBLFdBQUE7WUFDQSxHQUFBLFlBQUE7WUFDQSxJQUFBLEdBQUEsYUFBQSxRQUFBO2NBQ0EsUUFBQSxJQUFBO21CQUNBO2NBQ0EsUUFBQSxJQUFBO2NBQ0EsT0FBQTs7Ozs7Ozs7Ozs7OztBQ3BDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGNBQUE7O0lBRUEsV0FBQSxVQUFBLENBQUE7SUFDQSxTQUFBLFlBQUEsUUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBO1lBQ0EsT0FBQTs7UUFFQSxPQUFBOztRQUVBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQTtVQUNBLElBQUEsV0FBQSxPQUFBLE1BQUEsZUFBQTtjQUNBLE1BQUEsSUFBQSxPQUFBLE1BQUEsT0FBQSxDQUFBLENBQUEsVUFBQTtVQUNBLE1BQUEsU0FBQSxJQUFBOzs7UUFHQSxTQUFBLFFBQUEsVUFBQSxVQUFBLFNBQUE7O1VBRUEsSUFBQSxPQUFBO1VBQ0EsS0FBQSxXQUFBLFNBQUEsU0FBQTtVQUNBLEtBQUEsV0FBQTtVQUNBLEtBQUEsVUFBQTs7VUFFQSxLQUFBLE9BQUEsV0FBQTtZQUNBLEtBQUEsWUFBQSxLQUFBO1lBQ0EsS0FBQSxHQUFBO1lBQ0EsT0FBQTs7O1VBR0EsS0FBQSxLQUFBLFNBQUEsTUFBQTs7WUFFQSxLQUFBLFFBQUEsVUFBQSxLQUFBLE1BQUEsU0FBQTs7Y0FFQSxHQUFBLEtBQUEsWUFBQSxTQUFBLEdBQUE7Z0JBQ0EsSUFBQSxPQUFBLEVBQUEsS0FBQTtvQkFDQSxRQUFBLEtBQUEsV0FBQSxTQUFBLE9BQUEsSUFBQSxPQUFBOztnQkFFQSxJQUFBLFVBQUEsS0FBQSxVQUFBLFVBQUEsTUFBQSxNQUFBO2tCQUNBLE9BQUE7Ozs7Y0FJQSxLQUFBO2NBQ0EsS0FBQSxNQUFBLFFBQUE7Ozs7VUFJQSxLQUFBLFNBQUEsU0FBQSxNQUFBO1lBQ0EsT0FBQSxDQUFBLENBQUEsS0FBQSxNQUFBOzs7VUFHQSxLQUFBLFdBQUEsV0FBQTtZQUNBLElBQUEsSUFBQSxLQUFBLEtBQUEsTUFBQTtjQUNBLEtBQUEsTUFBQSxLQUFBOzs7O1VBSUEsS0FBQSxjQUFBLFNBQUEsR0FBQTtZQUNBLEtBQUEsUUFBQTtZQUNBLElBQUEsSUFBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUE7Ozs7Ozs7Ozs7Ozs7O0FDbEVBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsMkJBQUE7O0lBRUEsd0JBQUEsVUFBQSxDQUFBLFVBQUEsbUJBQUEsa0JBQUEsV0FBQTtJQUNBLFNBQUEsd0JBQUEsUUFBQSxpQkFBQSxnQkFBQSxTQUFBLE9BQUE7UUFDQSxJQUFBLEtBQUE7UUFDQSxHQUFBLFFBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7O1VBRUEsZ0JBQUEsUUFBQTs7VUFFQSxlQUFBLElBQUEsYUFBQTtVQUNBLGVBQUEsSUFBQSxlQUFBO1VBQ0EsZUFBQSxJQUFBLFlBQUE7VUFDQSxlQUFBLElBQUEsWUFBQTsyQ0FDQTt5Q0FDQTs7VUFFQSxHQUFBLE9BQUE7WUFDQSxPQUFBO1lBQ0EsS0FBQTtZQUNBLFFBQUE7WUFDQSxPQUFBO1lBQ0EsS0FBQTtZQUNBLFFBQUE7WUFDQSxPQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUEsSUFBQTtZQUNBLFVBQUE7WUFDQSxPQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7Ozs7OztVQU1BLEdBQUEsUUFBQTtZQUNBLFFBQUE7OztVQUdBLEdBQUEsV0FBQTtZQUNBLENBQUEsT0FBQSxHQUFBLE1BQUE7WUFDQSxDQUFBLE9BQUEsR0FBQSxNQUFBO1lBQ0EsQ0FBQSxPQUFBLEdBQUEsTUFBQTtZQUNBLENBQUEsT0FBQSxHQUFBLE1BQUE7OztVQUdBLEdBQUEsYUFBQSxXQUFBO1lBQ0EsSUFBQSxXQUFBLFFBQUEsVUFBQSxHQUFBLFVBQUEsQ0FBQSxPQUFBLEdBQUEsTUFBQTtZQUNBLE9BQUEsQ0FBQSxHQUFBLE1BQUEsVUFBQSxTQUFBLFVBQUEsU0FBQSxHQUFBLE9BQUE7Ozs7OztVQU1BLEdBQUEsUUFBQTtZQUNBLElBQUE7WUFDQSxNQUFBOzs7VUFHQSxHQUFBLFNBQUE7O1VBRUEsR0FBQSxhQUFBLFdBQUE7WUFDQSxPQUFBLEdBQUEsT0FBQSxTQUFBLE9BQUEsTUFBQSxJQUFBLGdDQUFBLFFBQUEsU0FBQSxNQUFBO2NBQ0EsR0FBQSxTQUFBOzs7O1VBSUEsT0FBQSxPQUFBLFlBQUEsU0FBQSxRQUFBLFFBQUE7WUFDQSxJQUFBLFdBQUEsUUFBQTtjQUNBLElBQUEsV0FBQSxRQUFBLFVBQUEsR0FBQSxRQUFBLENBQUEsSUFBQSxHQUFBLE1BQUE7Y0FDQSxHQUFBLE1BQUEsT0FBQSxTQUFBLFNBQUEsU0FBQSxHQUFBLE9BQUE7Ozs7Ozs7VUFPQSxHQUFBLFFBQUE7WUFDQSxPQUFBOzs7VUFHQSxHQUFBLFNBQUEsQ0FBQSxXQUFBLFVBQUEsV0FBQSxZQUFBLGNBQUEsWUFBQSxlQUFBLFlBQUEsV0FBQSxXQUFBLFVBQUEsU0FBQSxZQUFBLFdBQUEsUUFBQSxVQUFBLFlBQUEsYUFBQSxTQUFBLFlBQUEsaUJBQUEsWUFBQSxhQUFBLGVBQUEsWUFBQSxXQUFBLFlBQUEsVUFBQSxpQkFBQSxjQUFBLGNBQUEsWUFBQSxnQkFBQSxrQkFBQSxRQUFBLFlBQUEsVUFBQSxnQkFBQSxnQkFBQSxrQkFBQSxnQkFBQSxhQUFBLFNBQUEsUUFBQSxXQUFBLFlBQUEsY0FBQSxpQkFBQSxhQUFBOzs7Ozs7O0FDaEdBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsZ0JBQUE7O0lBRUEsYUFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLGFBQUEsV0FBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTs7VUFFQSxJQUFBLFVBQUEsQ0FBQSxPQUFBLENBQUEsUUFBQSxPQUFBLFNBQUE7Ozs7VUFJQSxJQUFBLFNBQUEsVUFBQSxzQkFBQSxJQUFBOztVQUVBLE9BQUEsSUFBQSxTQUFBLEtBQUE7O2NBRUEsR0FBQSxTQUFBOzs7Ozs7O1VBT0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBO1VBQ0EsR0FBQSxVQUFBLENBQUEsSUFBQTs7Ozs7VUFLQSxJQUFBLFNBQUEsVUFBQSw2QkFBQSxLQUFBLENBQUEsWUFBQSxDQUFBLE9BQUEsT0FBQSxRQUFBOztVQUVBLEdBQUEsU0FBQSxPQUFBOzs7VUFHQSxHQUFBLGNBQUEsVUFBQTtZQUNBLE1BQUE7WUFDQSxPQUFBOzs7Ozs7VUFNQSxHQUFBLGlCQUFBOzs7OztVQUtBLEdBQUEsY0FBQTs7Ozs7Ozs7Ozs7QUMxREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsVUFBQSxVQUFBOztJQUVBLFNBQUEsVUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBOztRQUVBLE9BQUE7O1FBRUEsU0FBQSxLQUFBLE9BQUEsU0FBQTtVQUNBLElBQUEsUUFBQSxFQUFBO1VBQ0EsR0FBQSxFQUFBLEdBQUE7WUFDQSxNQUFBOzs7Ozs7Ozs7Ozs7O0FDZkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsT0FBQSxlQUFBOztJQUVBLFNBQUEsY0FBQTtRQUNBLE9BQUE7OztRQUdBLFNBQUEsYUFBQSxPQUFBLE9BQUE7VUFDQSxJQUFBLE1BQUE7O1VBRUEsSUFBQSxRQUFBLFFBQUEsUUFBQTtZQUNBLE1BQUEsUUFBQSxTQUFBLE1BQUE7Y0FDQSxJQUFBLGNBQUE7O2NBRUEsSUFBQSxPQUFBLE9BQUEsS0FBQTtjQUNBLEtBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLFFBQUEsS0FBQTtnQkFDQSxJQUFBLE9BQUEsS0FBQTtnQkFDQSxJQUFBLE9BQUEsTUFBQSxNQUFBO2dCQUNBLElBQUEsS0FBQSxNQUFBLFdBQUEsY0FBQSxRQUFBLFVBQUEsQ0FBQSxHQUFBO2tCQUNBLGNBQUE7a0JBQ0E7Ozs7Y0FJQSxJQUFBLGFBQUE7Z0JBQ0EsSUFBQSxLQUFBOzs7aUJBR0E7O1lBRUEsTUFBQTs7O1VBR0EsT0FBQTs7Ozs7Ozs7OztBQ3ZDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGFBQUE7O0lBRUEsVUFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLFdBQUEsVUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxTQUFBO1lBQ0EsVUFBQTs7UUFFQSxPQUFBOztRQUVBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQSxTQUFBO1VBQ0EsUUFBQSxHQUFBLHlCQUFBLFVBQUE7OztZQUdBLEdBQUEsUUFBQSxjQUFBLFFBQUEsV0FBQSxPQUFBO2NBQ0EsUUFBQSxlQUFBLFFBQUEsV0FBQSxNQUFBO2NBQ0EsUUFBQTs7OztVQUlBLFNBQUEsVUFBQTtZQUNBLFFBQUE7Ozs7Ozs7Ozs7OztBQzNCQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHNCQUFBOztJQUVBLG1CQUFBLFVBQUEsQ0FBQSxVQUFBO0lBQ0EsU0FBQSxtQkFBQSxRQUFBLE9BQUE7O1FBRUEsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOztVQUVBLEdBQUEsV0FBQTs7VUFFQSxHQUFBLFNBQUEsV0FBQTtZQUNBLEdBQUEsV0FBQTs7O1VBR0EsR0FBQSxVQUFBLFdBQUE7WUFDQSxHQUFBLFdBQUE7OztVQUdBLEdBQUEsUUFBQSxXQUFBO1lBQ0EsR0FBQSxPQUFBLFdBQUE7WUFDQSxHQUFBLFFBQUEsV0FBQTtZQUNBLEdBQUEsUUFBQSxXQUFBOzs7VUFHQSxHQUFBLFNBQUE7VUFDQSxHQUFBLFNBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7WUFDQSxFQUFBLE1BQUEsYUFBQSxPQUFBLHVCQUFBLEtBQUE7OztVQUdBLEdBQUEsVUFBQTtVQUNBLEdBQUEsbUJBQUEsU0FBQSxTQUFBO1lBQ0EsSUFBQSxTQUFBLENBQUEsU0FBQSxTQUFBLFFBQUE7WUFDQSxPQUFBLE1BQUE7Y0FDQTtjQUNBLENBQUEsUUFBQTtjQUNBLEtBQUEsU0FBQSxVQUFBO2NBQ0EsR0FBQSxZQUFBLFNBQUEsS0FBQTs7OztVQUlBLEdBQUEsVUFBQTtVQUNBLEdBQUEsWUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsaUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGtCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxZQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHVCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsYUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsYUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSwwQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxpQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxrQ0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHFCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGdCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxZQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxrQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLDRCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsUUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsb0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSwyQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHlDQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsZ0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsa0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsUUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxrQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxZQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHNCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEscUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSwrQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGlCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsUUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsaUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxvQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLCtCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxhQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxhQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxpQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEscUNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxpQ0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxhQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsYUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsUUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxZQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsMkNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxzQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEscUNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsMEJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxpQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLDhDQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxZQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsb0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLG1DQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsd0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsd0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxpQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxhQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxRQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsa0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSw0QkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxRQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxtQ0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxvQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxRQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsZUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxzQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxnQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHlCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsZUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsb0NBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsY0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHlCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsZ0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEseUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsZ0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxhQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxtQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxnQkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGdEQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsU0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsWUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLDBCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsYUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFVBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsd0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGNBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxnQ0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxlQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsUUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsdUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGdCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsNEJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxVQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSx3QkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGtCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsaUJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSx3Q0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxjQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLGFBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsMkJBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSx3QkFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLHFCQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsa0JBQUEsTUFBQTtZQUNBLENBQUEsTUFBQSxTQUFBLE1BQUE7WUFDQSxDQUFBLE1BQUEsVUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFlBQUEsTUFBQTs7Ozs7VUFLQSxHQUFBLGNBQUEsVUFBQSxLQUFBOztZQUVBLElBQUEsS0FBQSxLQUFBLE1BQUEsT0FBQSxLQUFBLEtBQUEsTUFBQTtnQkFDQSxPQUFBOztZQUVBLElBQUEsS0FBQSxLQUFBLE1BQUEsT0FBQSxLQUFBLEtBQUEsTUFBQTtnQkFDQSxPQUFBOzs7O1VBSUEsR0FBQSxVQUFBO1VBQ0EsR0FBQSxlQUFBLFVBQUEsTUFBQSxNQUFBO1lBQ0EsR0FBQTtZQUNBLEdBQUEsY0FBQSxDQUFBLE1BQUEsTUFBQSxPQUFBOzs7VUFHQSxHQUFBLGtCQUFBLENBQUEsTUFBQSxRQUFBLE9BQUEsU0FBQSxVQUFBLFNBQUEsUUFBQTs7VUFFQSxHQUFBLGVBQUE7VUFDQSxHQUFBLGFBQUEsU0FBQSxDQUFBLE9BQUE7VUFDQSxHQUFBLGFBQUEsaUJBQUEsQ0FBQSxHQUFBLE9BQUEsSUFBQSxHQUFBLE9BQUE7VUFDQSxHQUFBLGFBQUEsNEJBQUEsQ0FBQSxHQUFBLE9BQUEsSUFBQSxHQUFBLE9BQUE7VUFDQSxHQUFBLGFBQUEsdUJBQUEsQ0FBQSxxQkFBQTs7Ozs7Ozs7OztBQ3pVQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHdCQUFBOztJQUVBLHFCQUFBLFVBQUEs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QSxPQUFBO2NBQ0EsT0FBQSxNQUFBLEtBQUEsQ0FBQSxDQUFBLFlBQUEsS0FBQSxDQUFBLE1BQUE7Y0FDQSxPQUFBLEtBQUE7O1lBRUEsaUJBQUEsUUFBQSxRQUFBLFFBQUEsS0FBQTs7Ozs7TUFLQSxHQUFBLFFBQUEsVUFBQSxLQUFBLE1BQUE7UUFDQSxTQUFBLEtBQUE7VUFDQSxVQUFBO1VBQ0EsWUFBQTtVQUNBLE1BQUEsQ0FBQSxLQUFBLEtBQUEsTUFBQTs7OztNQUlBLEdBQUEsU0FBQSxVQUFBLEtBQUE7UUFDQSxXQUFBLEtBQUE7VUFDQSxPQUFBLFNBQUEsSUFBQSxLQUFBO1VBQ0EsTUFBQTtVQUNBLE1BQUE7VUFDQSxrQkFBQTtVQUNBLG9CQUFBO1VBQ0EsbUJBQUE7VUFDQSxrQkFBQTtVQUNBLGdCQUFBO1lBQ0EsU0FBQSxVQUFBO1VBQ0EsR0FBQSxXQUFBO1lBQ0EsSUFBQSxTQUFBO1lBQ0EsSUFBQSxNQUFBLFlBQUE7Y0FDQSxXQUFBLEtBQUEsT0FBQSxPQUFBLElBQUEsS0FBQSxLQUFBLFNBQUE7ZUFDQSxVQUFBLEtBQUE7Y0FDQSxXQUFBLEtBQUEsT0FBQSx3QkFBQTs7Ozs7O01BTUEsR0FBQSxVQUFBLFVBQUEsS0FBQTtRQUNBLElBQUEsWUFBQSxJQUFBLFlBQUE7UUFDQSxVQUFBLGNBQUEsSUFBQTtRQUNBLElBQUEsb0NBQUE7VUFDQSxHQUFBLElBQUEsSUFBQSxJQUFBLFVBQUE7V0FDQTtVQUNBLGFBQUEsVUFBQTs7Ozs7O0lBTUEsa0JBQUEsVUFBQSxDQUFBLFVBQUE7SUFDQSxTQUFBLGtCQUFBLFFBQUEsTUFBQTtNQUNBOztNQUVBLE9BQUEsaUJBQUEsVUFBQTs7TUFFQSxTQUFBLFdBQUE7UUFDQSxPQUFBLFNBQUE7VUFDQSxNQUFBO1VBQ0EsTUFBQTtVQUNBLE1BQUEsQ0FBQSxDQUFBLFNBQUEsT0FBQSxPQUFBLFFBQUEsT0FBQSxRQUFBLFNBQUE7Ozs7TUFJQSxPQUFBLE9BQUEsWUFBQTtRQUNBLEtBQUEsT0FBQSxPQUFBLFFBQUE7U0FDQSxLQUFBLFVBQUEsTUFBQTtVQUNBLE9BQUEsT0FBQSxHQUFBOzs7O01BSUEsT0FBQSxjQUFBLFlBQUE7UUFDQSxLQUFBLE9BQUEsT0FBQTs7OztJQUlBLHNCQUFBLFVBQUEsQ0FBQSxVQUFBLFlBQUEsU0FBQSxXQUFBO0lBQ0EsU0FBQSxzQkFBQSxRQUFBLFVBQUEsT0FBQSxTQUFBLFNBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxPQUFBLFdBQUE7OztRQUdBLE9BQUEsVUFBQSxZQUFBO1VBQ0EsSUFBQSxNQUFBLE9BQUEsYUFBQTtVQUNBLElBQUEsT0FBQSxPQUFBLGFBQUE7VUFDQSxJQUFBLE9BQUEsT0FBQSxhQUFBO1VBQ0EsTUFBQSxPQUFBLENBQUEsT0FBQSxJQUFBLElBQUEsS0FBQSxPQUFBLFVBQUEsTUFBQSxNQUFBLE1BQUE7VUFDQSxJQUFBLFlBQUEsR0FBQSxPQUFBLE9BQUE7VUFDQSxTQUFBO1VBQ0EsUUFBQSxJQUFBLFdBQUE7V0FDQSxLQUFBLFFBQUEsY0FBQSxNQUFBLElBQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxTQUFBOzs7O0lBSUEsaUJBQUEsVUFBQSxDQUFBLFVBQUEsU0FBQTtJQUNBLFNBQUEsaUJBQUEsUUFBQSxPQUFBLGVBQUE7TUFDQSxJQUFBLEtBQUE7O01BRUE7O01BRUEsU0FBQSxTQUFBO1FBQ0EsR0FBQSxTQUFBLENBQUEsTUFBQTtRQUNBLEdBQUEsY0FBQSxJQUFBLGNBQUE7VUFDQSxPQUFBO1VBQ0EsUUFBQSxHQUFBLE9BQUE7V0FDQTtVQUNBLFNBQUEsU0FBQSxRQUFBLFFBQUE7WUFDQSxJQUFBLE1BQUEsQ0FBQSxNQUFBLElBQUEsUUFBQSxDQUFBO1lBQ0EsSUFBQSxRQUFBLE9BQUE7WUFDQSxJQUFBLE9BQUEsQ0FBQSxPQUFBLE9BQUEsR0FBQSxJQUFBO1lBQ0EsR0FBQSxHQUFBLE9BQUEsUUFBQSxJQUFBO2NBQ0EsSUFBQSxPQUFBOztZQUVBLE1BQUEsTUFBQSxDQUFBLE9BQUEsSUFBQSxRQUFBLFVBQUEsUUFBQTtjQUNBLEdBQUEsWUFBQSxNQUFBLE9BQUE7Y0FDQSxNQUFBLEtBQUEsQ0FBQSxPQUFBLE1BQUEsT0FBQTs7Ozs7Ozs7Ozs7Ozs7O0FDeElBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLE9BQUEsYUFBQTtTQUNBLE9BQUEsY0FBQTtTQUNBLE9BQUEsZ0JBQUE7OztJQUdBLFNBQUEsaUJBQUE7UUFDQSxJQUFBLE9BQUE7VUFDQSxRQUFBO1VBQ0EsU0FBQTs7UUFFQSxPQUFBLFNBQUEsS0FBQTtVQUNBLE9BQUEsS0FBQTs7OztJQUlBLFNBQUEsb0JBQUE7TUFDQSxPQUFBLFVBQUEsS0FBQTtRQUNBLE9BQUEsS0FBQSxJQUFBOzs7O0lBSUEsU0FBQSxrQkFBQTtNQUNBLElBQUEsT0FBQTtRQUNBLE9BQUE7UUFDQSxNQUFBO1FBQ0EsUUFBQTtRQUNBLFdBQUE7UUFDQSxVQUFBOztNQUVBLE9BQUEsVUFBQSxLQUFBO1FBQ0EsTUFBQSxPQUFBO1FBQ0EsT0FBQSxLQUFBOzs7OztBQzNDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxPQUFBOztJQUVBLGVBQUEsVUFBQSxDQUFBLHVCQUFBO0lBQ0EsU0FBQSxlQUFBLHFCQUFBLGFBQUE7OztNQUdBLG9CQUFBLE9BQUE7UUFDQSxPQUFBO1FBQ0EsUUFBQTtRQUNBLFNBQUEsYUFBQTs7Ozs7QUNkQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxTQUFBLGdCQUFBOztVQUVBLFNBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTtZQUNBLHNCQUFBLENBQUE7bUNBQ0E7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTtZQUNBLHNCQUFBLENBQUE7bUNBQ0E7bUNBQ0E7bUNBQ0E7bUNBQ0E7bUNBQ0E7O1lBRUEsc0JBQUEsQ0FBQTttQ0FDQTs7WUFFQSxzQkFBQSxDQUFBO21DQUNBO21DQUNBO21DQUNBO21DQUNBO21DQUNBO21DQUNBO1lBQ0Esc0JBQUEsQ0FBQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTs7WUFFQSx3QkFBQSxDQUFBO3FDQUNBO3FDQUNBO3FDQUNBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO21DQUNBO21DQUNBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTtZQUNBLHNCQUFBLENBQUE7WUFDQSxzQkFBQSxDQUFBO1lBQ0Esc0JBQUEsQ0FBQTttQ0FDQTttQ0FDQTtZQUNBLHdCQUFBLENBQUE7WUFDQSx3QkFBQSxDQUFBOzs7VUFHQSxTQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt1REFDQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7dURBQ0E7dURBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3VEQUNBO3VEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTt3REFDQTsyREFDQSxPQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTt3REFDQTt3REFDQSx3Q0FBQSxPQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTt3REFDQSx3REFBQSxPQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7d0RBQ0EseURBQUEsT0FBQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7d0RBQ0E7d0RBQ0E7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO3dEQUNBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBO3dEQUNBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTt3REFDQSxpRUFBQSxPQUFBO1lBQ0EsQ0FBQSxNQUFBLDZCQUFBLE9BQUEsQ0FBQTt3REFDQTtZQUNBLENBQUEsTUFBQSw2QkFBQSxPQUFBLENBQUE7WUFDQSxDQUFBLE1BQUEsNkJBQUEsT0FBQSxDQUFBO3dEQUNBOzs7Ozs7O0FDdEpBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLE9BQUE7O0lBRUEsaUJBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxpQkFBQSxzQkFBQTtNQUNBLHNCQUFBLGFBQUE7TUFDQSxzQkFBQSxpQkFBQTtNQUNBLHNCQUFBLG1CQUFBO01BQ0Esc0JBQUEsaUJBQUE7OztBQ1pBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLElBQUE7O0lBRUEsY0FBQSxVQUFBLENBQUEsY0FBQSxZQUFBO0lBQ0EsU0FBQSxjQUFBLFlBQUEsVUFBQSxjQUFBOzs7O01BSUEsSUFBQTtNQUNBLFdBQUEsSUFBQSxxQkFBQSxXQUFBO1VBQ0EsR0FBQSxFQUFBLHNCQUFBO1lBQ0EsUUFBQSxTQUFBLFdBQUE7Y0FDQSxjQUFBO2VBQ0E7O01BRUEsV0FBQSxJQUFBLHVCQUFBLFNBQUEsT0FBQTtVQUNBLE1BQUEsWUFBQSxPQUFBLHNCQUFBLFlBQUE7WUFDQSxTQUFBLE9BQUE7WUFDQSxjQUFBOzs7Ozs7O0FDdEJBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLE9BQUE7O0lBRUEsYUFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLGFBQUEseUJBQUE7O01BRUEseUJBQUEsY0FBQTtNQUNBLHlCQUFBLHNCQUFBOzs7Ozs7Ozs7QUNQQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLDBCQUFBOztJQUVBLHVCQUFBLFVBQUEsQ0FBQSxjQUFBLG9CQUFBO0lBQ0EsU0FBQSx1QkFBQSxZQUFBLGtCQUFBLFNBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxXQUFBLG1CQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7WUFDQSxNQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7WUFDQSxNQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7O1VBRUEsV0FBQSxRQUFBLENBQUEsZ0JBQUE7O1VBRUEsV0FBQSxVQUFBOztVQUVBLFdBQUEsZUFBQSxpQkFBQTs7Ozs7Ozs7Ozs7QUM1QkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxxQkFBQTs7SUFFQSxTQUFBLG9CQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsR0FBQSxVQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsUUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsUUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsUUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsUUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsUUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBOzs7VUFHQSxHQUFBLFNBQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxPQUFBO1lBQ0EsQ0FBQSxNQUFBLFdBQUEsT0FBQTtZQUNBLENBQUEsTUFBQSxXQUFBLE9BQUE7WUFDQSxDQUFBLE1BQUEsV0FBQSxPQUFBOzs7VUFHQSxHQUFBLE9BQUE7WUFDQSxJQUFBO1lBQ0EsS0FBQTs7O1VBR0EsR0FBQSxVQUFBOzs7OztBQ3hDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHdCQUFBOztJQUVBLHFCQUFBLFVBQUEsQ0FBQSxTQUFBO0lBQ0EsU0FBQSxxQkFBQSxPQUFBLGNBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7O1VBRUEsR0FBQSxTQUFBOztVQUVBLEdBQUEsT0FBQSxTQUFBLGFBQUEsV0FBQSxVQUFBLEtBQUEsYUFBQTs7VUFFQSxNQUFBLE1BQUEsS0FBQSxTQUFBLE1BQUE7WUFDQSxHQUFBLFFBQUE7Ozs7Ozs7O0FDcEJBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFFBQUEsU0FBQTs7SUFFQSxNQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsTUFBQSxPQUFBO1FBQ0EsSUFBQSxVQUFBO1lBQ0EsS0FBQTtZQUNBLEtBQUE7O1FBRUEsT0FBQTs7OztRQUlBLFNBQUEsWUFBQTtVQUNBLElBQUEsT0FBQTtVQUNBLE9BQUEsTUFBQSxJQUFBLE1BQUEsS0FBQSxVQUFBLE1BQUE7WUFDQSxPQUFBLEtBQUEsS0FBQTs7OztRQUlBLFNBQUEsTUFBQTtVQUNBLE9BQUE7OztRQUdBLFNBQUEsSUFBQSxJQUFBO1VBQ0EsT0FBQSxZQUFBLEtBQUEsU0FBQSxNQUFBO1lBQ0EsS0FBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsUUFBQSxLQUFBO2NBQ0EsSUFBQSxDQUFBLE1BQUEsR0FBQSxPQUFBLENBQUEsSUFBQSxPQUFBLE1BQUE7O1lBRUEsT0FBQTs7Ozs7OztBQ2xDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLHNCQUFBOztJQUVBLG1CQUFBLFVBQUEsQ0FBQSxTQUFBO0lBQ0EsU0FBQSxtQkFBQSxPQUFBLGNBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxNQUFBLElBQUEsYUFBQSxLQUFBLEtBQUEsU0FBQSxLQUFBO1lBQ0EsR0FBQSxPQUFBOzs7Ozs7Ozs7OztBQ2JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsdUJBQUE7O0lBRUEsb0JBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxvQkFBQSxRQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOztVQUVBLEdBQUEsT0FBQSxVQUFBLE1BQUE7OztZQUdBLE9BQUEsS0FBQTtjQUNBLGFBQUE7Y0FDQSxZQUFBO2NBQ0EsTUFBQTs7Ozs7OztVQU9BLGtCQUFBLFVBQUEsQ0FBQSxVQUFBLGtCQUFBO1VBQ0EsU0FBQSxrQkFBQSxRQUFBLGdCQUFBLFVBQUE7O1lBRUEsZUFBQSxPQUFBLEtBQUEsWUFBQTtjQUNBLElBQUEsV0FBQSxJQUFBLE9BQUEsS0FBQSxPQUFBLFdBQUEsQ0FBQTs7Y0FFQSxPQUFBLGtCQUFBO2dCQUNBLE1BQUE7Z0JBQ0EsUUFBQTtnQkFDQSxXQUFBLE9BQUEsS0FBQSxVQUFBOzs7O2NBSUEsU0FBQSxVQUFBOztnQkFFQSxJQUFBLE9BQUEsS0FBQSxPQUFBO2tCQUNBLEtBQUEsT0FBQTtrQkFDQSxVQUFBOzs7Z0JBR0EsT0FBQSxLQUFBLE1BQUEsUUFBQSxPQUFBLFlBQUE7O2dCQUVBLE9BQUEsV0FBQSxNQUFBOzs7OztZQUtBLE9BQUEsS0FBQSxZQUFBO2NBQ0EsZUFBQSxNQUFBOzs7WUFHQSxPQUFBLFNBQUEsWUFBQTtjQUNBLGVBQUEsUUFBQTs7Ozs7Ozs7Ozs7QUNsRUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxrQkFBQTs7SUFFQSxlQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsZUFBQSxVQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsSUFBQSxXQUFBO2NBQ0EsSUFBQSxPQUFBLEtBQUEsT0FBQSxXQUFBLENBQUE7Y0FDQSxJQUFBLE9BQUEsS0FBQSxPQUFBLFdBQUEsQ0FBQTtjQUNBLElBQUEsT0FBQSxLQUFBLE9BQUEsV0FBQSxDQUFBO2NBQ0EsSUFBQSxPQUFBLEtBQUEsT0FBQSxXQUFBLENBQUE7Y0FDQSxJQUFBLE9BQUEsS0FBQSxPQUFBLFdBQUEsQ0FBQTs7O1VBR0EsR0FBQSxZQUFBOztVQUVBLFNBQUEsVUFBQTtZQUNBLFVBQUEsR0FBQSxRQUFBLFNBQUE7WUFDQSxVQUFBLEdBQUEsUUFBQSxTQUFBO1lBQ0EsVUFBQSxHQUFBLFFBQUEsU0FBQTtZQUNBLFVBQUEsR0FBQSxRQUFBLFNBQUE7OztVQUdBLEdBQUEsY0FBQTtZQUNBLE1BQUE7WUFDQSxRQUFBLFNBQUE7WUFDQSxXQUFBLE9BQUEsS0FBQSxVQUFBO1lBQ0EsYUFBQTs7O1VBR0EsR0FBQSxjQUFBO1lBQ0EsTUFBQTtZQUNBLFFBQUEsU0FBQTtZQUNBLFdBQUEsT0FBQSxLQUFBLFVBQUE7OztVQUdBLEdBQUEsY0FBQTtZQUNBLE1BQUE7WUFDQSxRQUFBLFNBQUE7WUFDQSxXQUFBLE9BQUEsS0FBQSxVQUFBOzs7VUFHQSxHQUFBLGNBQUE7WUFDQSxNQUFBO1lBQ0EsUUFBQSxTQUFBO1lBQ0EsV0FBQSxPQUFBLEtBQUEsVUFBQTs7OztVQUlBLFNBQUEsVUFBQTtZQUNBLFVBQUEsR0FBQSxRQUFBLFNBQUE7WUFDQSxVQUFBLEdBQUEsUUFBQSxTQUFBOzs7O1VBSUEsSUFBQSxZQUFBLENBQUEsQ0FBQSxjQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsYUFBQSxNQUFBLENBQUEsUUFBQSxhQUFBLENBQUEsY0FBQSxNQUFBLGNBQUEsbUJBQUEsVUFBQSxDQUFBLENBQUEsUUFBQSxhQUFBLENBQUEsWUFBQSxZQUFBLFFBQUEsQ0FBQSxDQUFBLE1BQUEsYUFBQSxDQUFBLFlBQUEsZUFBQSxZQUFBLFdBQUEsUUFBQSxDQUFBLENBQUEsTUFBQSxhQUFBLENBQUEsWUFBQSxnQkFBQSxZQUFBLFdBQUEsUUFBQSxDQUFBLENBQUEsTUFBQSxVQUFBLENBQUEsWUFBQSxhQUFBLFlBQUEsV0FBQSxRQUFBLENBQUEsQ0FBQSxNQUFBLFVBQUEsQ0FBQSxZQUFBLFVBQUEsWUFBQSxXQUFBLFFBQUEsQ0FBQSxDQUFBLE1BQUEsYUFBQSxDQUFBLFlBQUEsTUFBQSxZQUFBLFdBQUEsUUFBQSxDQUFBLENBQUEsTUFBQSxhQUFBLENBQUEsWUFBQSxpQkFBQSxRQUFBLENBQUEsQ0FBQSxXQUFBLE1BQUEsQ0FBQSxVQUFBLE1BQUEsQ0FBQSxZQUFBLFdBQUEsWUFBQSxTQUFBLFFBQUEsQ0FBQSxDQUFBLFdBQUEsTUFBQSxDQUFBLFVBQUEsTUFBQSxDQUFBLFlBQUEsT0FBQSxRQUFBLENBQUEsQ0FBQSxNQUFBLFVBQUEsVUFBQTtVQUNBLEdBQUEsY0FBQTtZQUNBLE1BQUE7WUFDQSxRQUFBLFNBQUE7WUFDQSxRQUFBO1lBQ0EsV0FBQSxPQUFBLEtBQUEsVUFBQTtZQUNBLGFBQUE7Ozs7O1VBS0EsU0FBQSxVQUFBLEtBQUEsVUFBQTtZQUNBLE9BQUEsSUFBQSxPQUFBLEtBQUEsT0FBQTtjQUNBLEtBQUE7Y0FDQSxVQUFBOzs7Ozs7Ozs7Ozs7O0FDM0VBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsYUFBQTs7SUFFQSxVQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsV0FBQSxXQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsTUFBQTtZQUNBLFVBQUE7WUFDQSxPQUFBO2NBQ0EsWUFBQTtjQUNBLGFBQUE7OztRQUdBLE9BQUE7O1FBRUEsU0FBQSxLQUFBLE9BQUEsU0FBQSxPQUFBOztVQUVBLElBQUEsZ0JBQUE7Y0FDQSxjQUFBO2NBQ0EsY0FBQTtjQUNBLGNBQUEsQ0FBQTtjQUNBLGNBQUE7OztVQUdBLElBQUEsY0FBQSxNQUFBLFVBQUE7Y0FDQSxjQUFBO2dCQUNBLGNBQUEsTUFBQSxnQkFBQSxjQUFBO2dCQUNBLGNBQUEsTUFBQSxnQkFBQSxjQUFBO2dCQUNBLGNBQUEsTUFBQSxnQkFBQTtnQkFDQSxjQUFBLE1BQUEsZ0JBQUEsY0FBQTtnQkFDQSxjQUFBLE1BQUEsZ0JBQUEsY0FBQTtnQkFDQSxjQUFBLE1BQUEsZ0JBQUE7OztVQUdBLFFBQUEsSUFBQSxVQUFBOztVQUVBLFVBQUEsTUFBQSxVQUFBLFNBQUEsTUFBQSxZQUFBLE1BQUE7Ozs7Ozs7Ozs7O0FDeENBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFFBQUEsYUFBQTs7SUFFQSxTQUFBLFlBQUE7UUFDQSxLQUFBLE9BQUE7Ozs7UUFJQSxTQUFBLEtBQUEsVUFBQSxNQUFBLFFBQUEsU0FBQTtVQUNBLFNBQUEsVUFBQTtZQUNBLGlCQUFBLEtBQUE7WUFDQSxpQkFBQSxLQUFBO1lBQ0EsaUJBQUE7WUFDQSxpQkFBQTtZQUNBLGlCQUFBO1lBQ0EsYUFBQTtjQUNBLFNBQUE7Z0JBQ0Esa0JBQUEsS0FBQTtnQkFDQSxrQkFBQTtnQkFDQSxrQkFBQTtnQkFDQSxrQkFBQTtnQkFDQSxrQkFBQTs7Y0FFQSxPQUFBO2dCQUNBLGdCQUFBOztjQUVBLFVBQUE7Z0JBQ0EsTUFBQTs7Y0FFQSxlQUFBOzs7WUFHQSxRQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLEtBQUE7WUFDQSxhQUFBO2NBQ0EsU0FBQTtnQkFDQSxNQUFBLEtBQUE7Z0JBQ0EsUUFBQSxLQUFBOzs7WUFHQSxtQkFBQSxTQUFBLEdBQUEsSUFBQSxNQUFBO2NBQ0EsS0FBQSxVQUFBLE9BQUE7Z0JBQ0EsR0FBQSxLQUFBLEdBQUEsU0FBQSxPQUFBLE9BQUEsUUFBQTs7WUFFQSxTQUFBO1lBQ0EsUUFBQTtnQkFDQSxTQUFBLENBQUE7b0JBQ0EsUUFBQTtvQkFDQSxPQUFBLEtBQUE7b0JBQ0EsbUJBQUE7Ozs7Ozs7Ozs7Ozs7QUNwREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSx1QkFBQTs7SUFFQSxTQUFBLHNCQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsR0FBQSxhQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7WUFDQSxNQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7WUFDQSxNQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7WUFDQSxNQUFBO1lBQ0EsTUFBQTtZQUNBLE1BQUE7OztVQUdBLEdBQUEsY0FBQTtZQUNBLEVBQUEsT0FBQSxDQUFBLE9BQUEsU0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsT0FBQSxTQUFBLEtBQUE7WUFDQSxFQUFBLE9BQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsQ0FBQSxNQUFBLFNBQUEsS0FBQTtZQUNBLEVBQUEsT0FBQSxDQUFBLEtBQUEsV0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsS0FBQTtZQUNBLEVBQUEsT0FBQSxDQUFBLElBQUEsWUFBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsTUFBQSxVQUFBLEtBQUE7WUFDQSxFQUFBLE9BQUEsQ0FBQSxLQUFBLENBQUEsVUFBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsTUFBQSxDQUFBLFNBQUEsS0FBQTtZQUNBLEVBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxTQUFBLEtBQUE7WUFDQSxFQUFBLE9BQUEsQ0FBQSxNQUFBLENBQUEsU0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsQ0FBQSxLQUFBLFVBQUEsS0FBQTtZQUNBLEVBQUEsT0FBQSxDQUFBLEtBQUEsV0FBQSxLQUFBO1lBQ0EsRUFBQSxPQUFBLENBQUEsS0FBQSxXQUFBLEtBQUE7Ozs7OztBQ2pEQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtPQUNBLE9BQUE7T0FDQSxXQUFBLHFCQUFBO09BQ0EsV0FBQSxvQkFBQTtPQUNBLFdBQUEsNEJBQUE7T0FDQSxXQUFBLHlCQUFBOzs7SUFHQSxrQkFBQSxVQUFBLENBQUEsVUFBQSxVQUFBLGlCQUFBLG9CQUFBLGNBQUEsaUJBQUE7SUFDQSxTQUFBLGtCQUFBLFFBQUEsUUFBQSxlQUFBLGtCQUFBLFlBQUEsZUFBQSxhQUFBO01BQ0EsSUFBQSxLQUFBOztNQUVBOztNQUVBLFNBQUEsV0FBQTtRQUNBLE9BQUEsZ0JBQUE7UUFDQSxHQUFBLFVBQUE7UUFDQSxHQUFBLGNBQUEsSUFBQSxjQUFBLENBQUEsT0FBQSxLQUFBO1VBQ0EsU0FBQSxTQUFBLFFBQUEsUUFBQTtZQUNBLElBQUEsU0FBQSxDQUFBLE1BQUEsQ0FBQSxPQUFBLENBQUEsR0FBQSxhQUFBLFFBQUEsQ0FBQTtZQUNBLEdBQUEsR0FBQSxXQUFBLElBQUE7Y0FDQSxJQUFBLEtBQUEsQ0FBQSxPQUFBO2NBQ0EsT0FBQSxNQUFBLEtBQUEsQ0FBQSxDQUFBLHlCQUFBO2NBQ0EsT0FBQSxLQUFBOztZQUVBLGlCQUFBLFFBQUEsUUFBQSxRQUFBLFFBQUE7Ozs7O01BS0EsR0FBQSxPQUFBLFVBQUEsUUFBQTtRQUNBLFlBQUEsU0FBQTtRQUNBLE9BQUEsT0FBQSxHQUFBOzs7O0lBSUEsaUJBQUEsVUFBQSxDQUFBLFVBQUEsVUFBQSxpQkFBQSxvQkFBQSxjQUFBLGVBQUE7SUFDQSxTQUFBLGlCQUFBLFFBQUEsUUFBQSxlQUFBLGtCQUFBLFlBQUEsYUFBQSxVQUFBO01BQ0EsSUFBQSxLQUFBO01BQ0EsSUFBQSxXQUFBLE9BQUEsT0FBQSxPQUFBOztNQUVBLEdBQUEsa0JBQUEsSUFBQSxjQUFBO1FBQ0EsT0FBQTtTQUNBO1FBQ0EsU0FBQSxTQUFBLFFBQUEsUUFBQTtVQUNBLElBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxPQUFBLENBQUEsR0FBQTtVQUNBLElBQUEsUUFBQSxPQUFBO1VBQ0EsSUFBQSxPQUFBLENBQUEsT0FBQSxPQUFBLEdBQUEsSUFBQTtVQUNBLE9BQUEsTUFBQSxNQUFBLENBQUEsSUFBQSxVQUFBLE9BQUEsSUFBQSxRQUFBLFVBQUEsUUFBQTtZQUNBLEdBQUEsZ0JBQUEsTUFBQSxPQUFBOztVQUVBLE9BQUEsTUFBQSxDQUFBLElBQUEsVUFBQSxPQUFBLE1BQUEsT0FBQTs7OztNQUlBLEdBQUEscUJBQUEsSUFBQSxjQUFBO1FBQ0EsT0FBQTtTQUNBO1FBQ0EsU0FBQSxTQUFBLFFBQUEsUUFBQTtVQUNBLElBQUEsTUFBQTtZQUNBLE1BQUEsQ0FBQSxPQUFBLENBQUEsR0FBQSxZQUFBLEdBQUEsQ0FBQSxDQUFBLE1BQUEsWUFBQSxDQUFBLFVBQUE7WUFDQSxTQUFBLENBQUE7O1VBRUEsSUFBQSxRQUFBLE9BQUE7VUFDQSxJQUFBLE9BQUEsQ0FBQSxPQUFBLE9BQUEsR0FBQSxJQUFBO1VBQ0EsT0FBQSxTQUFBLE1BQUEsQ0FBQSxJQUFBLFVBQUEsT0FBQSxJQUFBLFFBQUEsVUFBQSxRQUFBO1lBQ0EsR0FBQSxtQkFBQSxNQUFBLE9BQUE7O1VBRUEsT0FBQSxTQUFBLENBQUEsSUFBQSxVQUFBLE9BQUEsTUFBQSxPQUFBOzs7O01BSUEsR0FBQSxtQkFBQSxJQUFBLGNBQUE7UUFDQSxPQUFBO1NBQ0E7UUFDQSxTQUFBLFNBQUEsUUFBQSxRQUFBO1VBQ0EsSUFBQSxNQUFBO1lBQ0EsTUFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBO1lBQ0EsU0FBQTs7VUFFQSxJQUFBLFFBQUEsT0FBQTtVQUNBLElBQUEsT0FBQSxDQUFBLE9BQUEsT0FBQSxHQUFBLElBQUE7VUFDQSxPQUFBLFFBQUEsTUFBQSxDQUFBLElBQUEsVUFBQSxPQUFBLElBQUEsUUFBQSxVQUFBLFFBQUE7WUFDQSxHQUFBLGlCQUFBLE1BQUEsT0FBQTs7VUFFQSxPQUFBLFFBQUEsQ0FBQSxJQUFBLFVBQUEsT0FBQSxNQUFBLE9BQUE7Ozs7TUFJQTs7TUFFQSxTQUFBLFdBQUE7O1FBRUEsV0FBQSxPQUFBLE9BQUEsT0FBQTs7UUFFQSxHQUFBLFNBQUEsT0FBQSxRQUFBLENBQUEsUUFBQTtVQUNBLE9BQUEsQ0FBQSxJQUFBO1VBQ0EsUUFBQSxDQUFBOzs7UUFHQSxHQUFBLGdCQUFBO1FBQ0EsR0FBQSxtQkFBQTtRQUNBLEdBQUEsaUJBQUE7OztNQUdBLEdBQUEsT0FBQSxZQUFBO1FBQ0EsWUFBQSxTQUFBLEdBQUE7UUFDQSxPQUFBLE9BQUEsR0FBQTs7O01BR0EsR0FBQSxXQUFBLFlBQUE7UUFDQSxTQUFBLEtBQUE7VUFDQSxVQUFBO1VBQ0EsWUFBQTtXQUNBLGFBQUEsS0FBQSxVQUFBLE1BQUE7VUFDQTs7OztNQUlBLEdBQUEsV0FBQSxZQUFBO1FBQ0EsU0FBQSxLQUFBO1VBQ0EsVUFBQTtVQUNBLFlBQUE7V0FDQSxhQUFBLEtBQUEsVUFBQSxNQUFBO1VBQ0E7Ozs7O0lBS0EseUJBQUEsVUFBQSxDQUFBLFVBQUEsWUFBQSxVQUFBLFdBQUE7SUFDQSxTQUFBLHlCQUFBLFFBQUEsVUFBQSxRQUFBLFNBQUEsYUFBQTs7UUFFQTs7OztRQUlBLElBQUEsV0FBQSxPQUFBLE9BQUEsT0FBQTtRQUNBLFNBQUEsV0FBQTtVQUNBLFdBQUEsT0FBQSxPQUFBLE9BQUE7VUFDQSxPQUFBLFNBQUEsT0FBQSxTQUFBLENBQUEsR0FBQTtVQUNBLE9BQUEsT0FBQTtZQUNBLE1BQUE7WUFDQSxRQUFBO1lBQ0EsVUFBQTs7VUFFQSxPQUFBLFVBQUEsWUFBQTtVQUNBLE9BQUEsT0FBQTtZQUNBLE1BQUE7WUFDQSxRQUFBOzs7O1FBSUEsT0FBQSxrQkFBQSxZQUFBO1VBQ0EsR0FBQSxLQUFBLFNBQUEsUUFBQTtZQUNBLE9BQUEsS0FBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsS0FBQSxTQUFBO1lBQ0EsT0FBQSxLQUFBLFVBQUEsT0FBQSxLQUFBO1lBQ0EsT0FBQTtpQkFDQTtZQUNBLE9BQUEsS0FBQSxPQUFBOzs7O1FBSUEsT0FBQSxjQUFBLFlBQUE7VUFDQSxPQUFBLEtBQUEsUUFBQSxPQUFBLEtBQUE7VUFDQSxPQUFBLEtBQUEsU0FBQSxPQUFBLEtBQUEsU0FBQSxPQUFBLEtBQUE7OztRQUdBLE9BQUEsVUFBQSxZQUFBO1VBQ0EsR0FBQSxPQUFBLEtBQUEsV0FBQSxHQUFBO1lBQ0E7O1VBRUEsT0FBQSxTQUFBLE9BQUEsQ0FBQSxJQUFBLFdBQUEsT0FBQSxNQUFBLFNBQUEsS0FBQSxVQUFBLFFBQUE7WUFDQSxPQUFBLFlBQUE7WUFDQSxTQUFBO1lBQ0EsUUFBQSxJQUFBLFdBQUEsTUFBQTthQUNBLFVBQUEsS0FBQTtZQUNBLE9BQUEsWUFBQTtZQUNBLFFBQUEsSUFBQSxTQUFBLE1BQUE7O1VBRUEsT0FBQSxZQUFBOzs7OztJQUtBLHNCQUFBLFVBQUEsQ0FBQSxVQUFBLFlBQUEsVUFBQTtJQUNBLFNBQUEsc0JBQUEsUUFBQSxVQUFBLFFBQUEsU0FBQTs7UUFFQTs7OztRQUlBLElBQUEsV0FBQSxPQUFBLE9BQUEsT0FBQTtRQUNBLFNBQUEsV0FBQTtVQUNBLFdBQUEsT0FBQSxPQUFBLE9BQUE7VUFDQSxPQUFBLFNBQUEsT0FBQSxTQUFBLENBQUEsR0FBQTtVQUNBLE9BQUEsT0FBQTtZQUNBLFFBQUE7WUFDQSxNQUFBOzs7O1FBSUEsT0FBQSxVQUFBLFlBQUE7VUFDQSxHQUFBLE9BQUEsS0FBQSxXQUFBLEdBQUE7WUFDQTtpQkFDQSxHQUFBLE9BQUEsS0FBQSxTQUFBLEdBQUE7WUFDQSxPQUFBLEtBQUEsT0FBQTtpQkFDQSxHQUFBLE9BQUEsS0FBQSxTQUFBLEdBQUE7WUFDQSxPQUFBLEtBQUEsT0FBQTs7VUFFQSxPQUFBLFFBQUEsT0FBQSxDQUFBLElBQUEsV0FBQSxPQUFBLE1BQUEsU0FBQSxLQUFBLFVBQUEsUUFBQTtZQUNBLE9BQUEsWUFBQTtZQUNBLFNBQUE7WUFDQSxRQUFBLElBQUEsV0FBQSxNQUFBO2FBQ0EsVUFB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QSxHQUFBLElBQUE7VUFDQSxJQUFBLFFBQUE7VUFDQSxHQUFBLE9BQUEsT0FBQSxRQUFBLElBQUE7WUFDQSxRQUFBLElBQUEsT0FBQSxPQUFBOztZQUVBLElBQUEsS0FBQSxDQUFBLE9BQUEsT0FBQSxPQUFBO1lBQ0EsSUFBQSxNQUFBLEtBQUEsQ0FBQSxDQUFBLFNBQUEsS0FBQSxDQUFBLE9BQUE7WUFDQSxJQUFBLE9BQUE7O1VBRUEsSUFBQSxNQUFBLENBQUEsT0FBQSxJQUFBLFFBQUEsVUFBQSxRQUFBO1lBQ0EsT0FBQSxZQUFBLE1BQUEsT0FBQTtZQUNBLElBQUEsS0FBQSxDQUFBLE9BQUEsTUFBQSxPQUFBOzs7Ozs7SUFNQSxrQkFBQSxVQUFBLENBQUEsVUFBQTtJQUNBLFNBQUEsa0JBQUEsUUFBQSxNQUFBO01BQ0E7O01BRUEsT0FBQSxpQkFBQSxVQUFBOztNQUVBLFNBQUEsV0FBQTtRQUNBLE9BQUEsU0FBQTtVQUNBLE1BQUE7VUFDQSxNQUFBO1VBQ0EsTUFBQSxDQUFBLENBQUEsUUFBQSxPQUFBLE9BQUEsTUFBQSxPQUFBOzs7O01BSUEsT0FBQSxPQUFBLFlBQUE7Ozs7TUFJQSxPQUFBLGNBQUEsWUFBQTs7Ozs7Ozs7Ozs7QUNyR0EsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsT0FBQSxjQUFBOztJQUVBLFNBQUEsa0JBQUE7UUFDQSxJQUFBLE9BQUE7VUFDQSxRQUFBO1VBQ0EsU0FBQTs7UUFFQSxPQUFBLFNBQUEsS0FBQTtVQUNBLE9BQUEsS0FBQTs7Ozs7Ozs7OztBQ2ZBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsY0FBQTtTQUNBLFVBQUEsaUJBQUE7Ozs7OztJQU1BLFNBQUEsY0FBQTtRQUNBLElBQUEsWUFBQTtZQUNBLFlBQUE7WUFDQSxVQUFBOztRQUVBLE9BQUE7Ozs7SUFJQSxTQUFBLGlCQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsWUFBQTtZQUNBLFVBQUE7O1FBRUEsT0FBQTs7Ozs7Ozs7SUFRQSxxQkFBQSxVQUFBLENBQUEsVUFBQSxZQUFBO0lBQ0EsU0FBQSxzQkFBQSxRQUFBLFVBQUEsV0FBQTtNQUNBO1NBQ0EsR0FBQSxTQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUE7U0FDQSxHQUFBLFNBQUEsVUFBQTs7O0lBR0Esd0JBQUEsVUFBQSxDQUFBLFVBQUEsWUFBQTtJQUNBLFNBQUEseUJBQUEsUUFBQSxVQUFBLFdBQUE7O01BRUEsSUFBQSxnQkFBQTs7TUFFQSxFQUFBO1NBQ0EsR0FBQSxTQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUE7U0FDQSxHQUFBLFNBQUEsU0FBQSxHQUFBO1VBQ0EsSUFBQSxFQUFBLFlBQUE7WUFDQSxVQUFBOzs7O01BSUEsRUFBQSxVQUFBLEdBQUEsU0FBQSxVQUFBOztNQUVBO1NBQ0EsR0FBQSxTQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUE7U0FDQSxHQUFBLFNBQUEsVUFBQTs7Ozs7Ozs7Ozs7QUMxREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsUUFBQSxhQUFBOztJQUVBLFNBQUEsWUFBQTtRQUNBLEtBQUEsU0FBQTtRQUNBLEtBQUEsVUFBQTs7OztRQUlBLElBQUEscUJBQUE7O1FBRUEsU0FBQSxTQUFBO1VBQ0EsSUFBQSxhQUFBLEVBQUE7O1VBRUEsV0FBQSxZQUFBOztVQUVBLElBQUEsU0FBQSxXQUFBLFNBQUE7O1VBRUEsV0FBQSxLQUFBLFNBQUEsU0FBQSxVQUFBOzs7UUFHQSxTQUFBLFVBQUE7VUFDQSxFQUFBO2FBQ0EsWUFBQTthQUNBLEtBQUEsc0JBQUE7YUFDQSxJQUFBOzs7Ozs7Ozs7O0FDOUJBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsa0JBQUE7O0lBRUEsZUFBQSxVQUFBLENBQUEsVUFBQTtJQUNBLFNBQUEsZUFBQSxRQUFBLFVBQUE7UUFDQSxJQUFBLEtBQUE7O1FBRUE7Ozs7UUFJQSxTQUFBLFdBQUE7VUFDQSxHQUFBLFVBQUE7O1VBRUEsR0FBQSxZQUFBO1VBQ0EsR0FBQSxhQUFBO1lBQ0EsUUFBQTtZQUNBLEtBQUE7Ozs7VUFJQSxTQUFBLFVBQUE7O1lBRUEsT0FBQTtnQkFDQTtnQkFDQSxDQUFBLFFBQUE7OzthQUdBOzs7Ozs7Ozs7O0FDL0JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsVUFBQTs7SUFFQSxPQUFBLFVBQUEsQ0FBQSxXQUFBO0lBQ0EsU0FBQSxRQUFBLFNBQUEsUUFBQTs7UUFFQSxJQUFBLFlBQUE7WUFDQSxNQUFBO1lBQ0EsVUFBQTtZQUNBLE9BQUE7Y0FDQSxTQUFBO2NBQ0EsU0FBQTs7O1FBR0EsT0FBQTs7UUFFQSxTQUFBLEtBQUEsT0FBQSxTQUFBOztVQUVBLFFBQUEsR0FBQSxTQUFBLFVBQUEsR0FBQTtZQUNBLEVBQUE7WUFDQSxPQUFBLE1BQUEsTUFBQSxTQUFBLE1BQUE7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCQSxDQUFBLFdBQUE7SUFDQTtJQUNBO1NBQ0EsT0FBQTtTQUNBLFFBQUEsVUFBQTs7SUFFQSxPQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsT0FBQSxVQUFBOztRQUVBLEtBQUEsUUFBQTs7OztRQUlBLFNBQUEsWUFBQSxLQUFBLE1BQUE7WUFDQSxLQUFBLE1BQUE7Z0JBQ0EsU0FBQSxVQUFBO29CQUNBLEVBQUEsT0FBQSxLQUFBLFFBQUE7Ozs7Ozs7Ozs7Ozs7QUFhQSxDQUFBLFNBQUEsRUFBQTtJQUNBO0lBQ0EsSUFBQSxhQUFBO1FBQ0EsYUFBQTtRQUNBLGNBQUEsU0FBQSxRQUFBO1lBQ0EsSUFBQSxFQUFBLEtBQUEsYUFBQSxVQUFBO2dCQUNBLFVBQUEsRUFBQSxTQUFBOztZQUVBLElBQUEsVUFBQSxJQUFBO2dCQUNBLFVBQUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxLQUFBLFVBQUEsUUFBQSxXQUFBLENBQUEsT0FBQSxVQUFBLE1BQUEsVUFBQTs7WUFFQSxPQUFBLENBQUEsSUFBQSxRQUFBLFVBQUE7O1FBRUEsWUFBQSxTQUFBLE9BQUEsVUFBQTtZQUNBLElBQUE7WUFDQSxHQUFBLE9BQUE7Z0JBQ0EsSUFBQSxNQUFBLFVBQUEsRUFBQSxHQUFBLFFBQUEsU0FBQSxJQUFBLE9BQUEsU0FBQSxJQUFBLE1BQUE7bUJBQ0E7Z0JBQ0EsSUFBQSxNQUFBLFVBQUEsRUFBQSxTQUFBLElBQUEsTUFBQTs7O0lBR0EsSUFBQSxVQUFBLFNBQUEsUUFBQTs7UUFFQSxLQUFBLFVBQUEsRUFBQSxPQUFBLElBQUEsUUFBQSxVQUFBO1FBQ0EsS0FBQSxVQUFBLE1BQUEsSUFBQSxPQUFBLFdBQUEsUUFBQSxLQUFBLEtBQUEsS0FBQSxXQUFBO1FBQ0EsS0FBQSxVQUFBLEVBQUE7O1lBRUE7Z0JBQ0E7Z0JBQ0EsUUFBQSxLQUFBLFFBQUEsUUFBQTtZQUNBO1VBQ0EsS0FBQSxLQUFBLEtBQUEsaUJBQUE7O1FBRUEsSUFBQSxLQUFBLFFBQUEsUUFBQTtZQUNBLEtBQUEsUUFBQSxTQUFBLGVBQUEsS0FBQSxRQUFBO1lBQ0EsS0FBQSxnQkFBQSxLQUFBLFFBQUE7O1FBRUEsS0FBQSxRQUFBLEtBQUEsUUFBQTtRQUNBLFNBQUEsS0FBQSxRQUFBO1FBQ0EsR0FBQSxDQUFBLFdBQUEsS0FBQSxRQUFBLE1BQUE7WUFDQSxXQUFBLEtBQUEsUUFBQSxPQUFBLEVBQUEsbUNBQUEsS0FBQSxRQUFBLElBQUEsWUFBQSxTQUFBLFFBQUEsR0FBQSxTQUFBLHNCQUFBLFVBQUE7Z0JBQ0EsRUFBQSxNQUFBLEtBQUEsaUJBQUE7Ozs7SUFJQSxFQUFBLE9BQUEsUUFBQSxXQUFBO1FBQ0EsTUFBQTtRQUNBLFNBQUE7UUFDQSxRQUFBO1FBQ0EsZUFBQTtRQUNBLE9BQUE7UUFDQSxNQUFBLFdBQUE7WUFDQSxJQUFBLEtBQUEsUUFBQSxHQUFBLGFBQUE7WUFDQSxJQUFBLFFBQUE7WUFDQSxXQUFBLEtBQUEsUUFBQSxLQUFBLE9BQUEsUUFBQSxLQUFBO1lBQ0EsSUFBQSxlQUFBLFNBQUEsS0FBQSxRQUFBLElBQUEsa0JBQUE7WUFDQSxLQUFBLFFBQUEsSUFBQSxDQUFBLFVBQUEsR0FBQSxjQUFBLENBQUEsRUFBQSxLQUFBLFFBQUEsZUFBQSxnQkFBQSxJQUFBLFFBQUEsQ0FBQSxVQUFBLEdBQUEsY0FBQSxHQUFBLGdCQUFBLGVBQUEsVUFBQTtnQkFDQSxJQUFBLE1BQUEsUUFBQSxTQUFBO29CQUNBLElBQUEsVUFBQSxVQUFBLEVBQUEsTUFBQTtvQkFDQSxNQUFBLFVBQUEsV0FBQSxTQUFBLE1BQUEsUUFBQTtvQkFDQSxNQUFBLFFBQUE7d0JBQ0EsV0FBQSxFQUFBLGFBQUEsTUFBQTt3QkFDQSxXQUFBLEVBQUEsTUFBQSxVQUFBLFdBQUEsU0FBQSxNQUFBLFFBQUE7Ozs7WUFJQSxPQUFBOztRQUVBLE9BQUEsU0FBQSxXQUFBO1lBQ0EsSUFBQSxXQUFBO2dCQUNBLFdBQUEsVUFBQTtvQkFDQSxNQUFBLFFBQUE7b0JBQ0EsR0FBQSxDQUFBLFdBQUEsTUFBQSxRQUFBLEtBQUEsV0FBQSxRQUFBO3dCQUNBLFdBQUEsTUFBQSxRQUFBLEtBQUE7O29CQUVBLE9BQUEsU0FBQSxNQUFBOztZQUVBLEdBQUEsS0FBQSxTQUFBLGFBQUEsS0FBQTtZQUNBLEdBQUEsV0FBQTtnQkFDQTttQkFDQTtnQkFDQSxLQUFBLFFBQUEsUUFBQSxDQUFBLFVBQUEsR0FBQSxjQUFBLENBQUEsR0FBQSxLQUFBLFFBQUEsZUFBQSxnQkFBQSxJQUFBLFVBQUE7b0JBQ0E7Ozs7UUFJQSxTQUFBLFNBQUEsS0FBQTtZQUNBLElBQUEsWUFBQSxLQUFBLFFBQUEsS0FBQTtZQUNBLEdBQUEsQ0FBQSxNQUFBO2dCQUNBLE9BQUEsVUFBQTs7WUFFQSxVQUFBLEtBQUE7WUFDQSxPQUFBOztRQUVBLFFBQUEsU0FBQSxRQUFBO1lBQ0EsR0FBQSxDQUFBLFFBQUE7Z0JBQ0EsT0FBQSxLQUFBOztZQUVBLEtBQUEsUUFBQSxZQUFBLGVBQUEsS0FBQSxlQUFBLFNBQUEsZUFBQTtZQUNBLEtBQUEsZ0JBQUE7WUFDQSxPQUFBOzs7SUFHQSxRQUFBLFdBQUE7UUFDQSxTQUFBO1FBQ0EsUUFBQTtRQUNBLFNBQUE7UUFDQSxPQUFBO1FBQ0EsS0FBQTs7O0lBR0EsRUFBQSxrQkFBQTtJQUNBLEVBQUEsT0FBQSxXQUFBO0lBQ0EsRUFBQSxPQUFBLFdBQUE7O0lBRUEsT0FBQTtFQUNBOzs7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O0lBRUE7U0FDQSxPQUFBO1NBQ0EsVUFBQSxnQkFBQTs7SUFFQSxTQUFBLGdCQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsWUFBQTtZQUNBLFVBQUE7WUFDQSxPQUFBOztRQUVBLE9BQUE7Ozs7SUFJQSxXQUFBLFVBQUEsQ0FBQSxVQUFBO0lBQ0EsU0FBQSxZQUFBLFFBQUEsVUFBQTtNQUNBLElBQUEsaUJBQUE7VUFDQSxpQkFBQTtVQUNBLGlCQUFBOzs7TUFHQSxTQUFBLEdBQUEsU0FBQSxVQUFBLEdBQUE7UUFDQSxFQUFBOztRQUVBLElBQUEsVUFBQSxFQUFBO1lBQ0EsVUFBQSxNQUFBLFFBQUEsVUFBQSxHQUFBO1lBQ0EsVUFBQSxNQUFBLEtBQUEsY0FBQTs7OztRQUlBLE1BQUEsU0FBQSxhQUFBLE1BQUE7OztRQUdBLE9BQUEsTUFBQSxjQUFBLE1BQUEsS0FBQTs7Ozs7TUFLQSxPQUFBLElBQUEsaUJBQUE7OztNQUdBLFNBQUEsZUFBQSxJQUFBLElBQUE7UUFDQSxJQUFBLENBQUEsSUFBQTtRQUNBLElBQUEsUUFBQSxHQUFBLE9BQUEsT0FBQSxNQUFBLE1BQUEsSUFBQTtRQUNBO1dBQ0EsUUFBQTtXQUNBLFlBQUE7Ozs7Ozs7Ozs7Ozs7O0FDL0NBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsYUFBQTs7SUFFQSxVQUFBLFVBQUEsQ0FBQSxZQUFBO0lBQ0EsU0FBQSxXQUFBLFVBQUEsVUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBO1lBQ0EsT0FBQTs7UUFFQSxPQUFBOztRQUVBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQTs7VUFFQSxJQUFBLFlBQUE7O1lBRUEsU0FBQTs7OztZQUlBLFNBQUE7OztZQUdBLFNBQUE7Ozs7O1VBS0EsSUFBQSxRQUFBLE1BQUEsY0FBQTs7VUFFQSxTQUFBLFdBQUE7WUFDQSxRQUFBLEtBQUEsWUFBQSxTQUFBLFNBQUE7WUFDQSxTQUFBLFFBQUEsWUFBQTs7WUFFQSxRQUFBLFNBQUE7OztVQUdBLFNBQUEsYUFBQSxNQUFBLE9BQUE7WUFDQSxJQUFBLE9BQUE7WUFDQSxRQUFBLFNBQUE7WUFDQSxHQUFBLE1BQUE7Y0FDQSxRQUFBLFVBQUEsU0FBQSxRQUFBLGlCQUFBLEtBQUEsU0FBQSxTQUFBLEtBQUE7WUFDQSxHQUFBLE1BQUE7Y0FDQSxRQUFBLFVBQUE7WUFDQSxHQUFBLE1BQUE7Y0FDQSxRQUFBLFVBQUEsUUFBQSxRQUFBLGdCQUFBLE1BQUE7WUFDQSxPQUFBOzs7Ozs7Ozs7Ozs7QUNwREEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSxjQUFBOztJQUVBLFdBQUEsVUFBQSxDQUFBLFVBQUE7SUFDQSxTQUFBLFdBQUEsUUFBQSxVQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOzs7Ozs7VUFNQSxPQUFBLE9BQUEsYUFBQSxTQUFBLE9BQUE7O2NBRUEsUUFBQSxJQUFBLDJCQUFBOzs7Ozs7Ozs7VUFTQSxPQUFBLElBQUEsZ0JBQUEsU0FBQSxPQUFBLElBQUEsU0FBQTs7WUFFQSxRQUFBLElBQUEsWUFBQSxLQUFBOzs7OztZQUtBLFNBQUE7Ozs7O1VBS0EsT0FBQSxJQUFBLGlCQUFBLFNBQUEsT0FBQSxHQUFBOztZQUVBLFFBQUEsSUFBQSxZQUFBLEtBQUE7Ozs7Ozs7O1VBUUEsT0FBQSxJQUFBLGlCQUFBLFNBQUEsT0FBQSxJQUFBO1lBQ0EsSUFBQSxPQUFBOztZQUVBLFFBQUEsSUFBQSx1QkFBQSxNQUFBLE1BQUE7O1lBRUEsU0FBQSxVQUFBOzs7Y0FHQSxPQUFBLFdBQUEsaUJBQUE7O2NBRUEsUUFBQSxJQUFBLGdCQUFBOztlQUVBOzs7Ozs7O1VBT0EsT0FBQSxTQUFBO1lBQ0E7Y0FDQSxJQUFBO2NBQ0EsT0FBQTtjQUNBLE1BQUE7O1lBRUE7Y0FDQSxJQUFBO2NBQ0EsT0FBQTtjQUNBLE1BQUE7O1lBRUE7Y0FDQSxJQUFBO2NBQ0EsT0FBQTtjQUNBLE1BQUE7Ozs7Ozs7Ozs7Ozs7O0FDdkZBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsV0FBQTs7SUFFQSxRQUFBLFVBQUEsQ0FBQSxZQUFBO0lBQ0EsU0FBQSxTQUFBLFVBQUEsZUFBQTtNQUNBLElBQUEsaUJBQUE7O01BRUEsT0FBQTtRQUNBLFVBQUE7UUFDQSxNQUFBOzs7OztNQUtBLFNBQUEsS0FBQSxPQUFBLFNBQUE7OztRQUdBLEdBQUEsQ0FBQSxFQUFBLEdBQUEsVUFBQTs7UUFFQSxRQUFBLFNBQUE7VUFDQSxzQkFBQTtVQUNBLHNCQUFBO1VBQ0Esc0JBQUE7VUFDQSxzQkFBQTtVQUNBLHNCQUFBO1VBQ0Esc0JBQUE7VUFDQSxzQkFBQTtVQUNBLHNCQUFBO1VBQ0Esc0JBQUE7VUFDQSxzQkFBQTtVQUNBLHNCQUFBO1VBQ0Esc0JBQUE7VUFDQSxzQkFBQTtVQUNBLHNCQUFBOzs7Ozs7TUFNQSxTQUFBLGlCQUFBLGVBQUE7UUFDQSxJQUFBLE9BQUEsTUFBQTtRQUNBLElBQUEsT0FBQSxRQUFBLFNBQUEsY0FBQTs7UUFFQSxHQUFBLENBQUEsTUFBQSxFQUFBLE9BQUE7O1FBRUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxNQUFBLFNBQUE7O1FBRUEsR0FBQSxNQUFBO1VBQ0EsU0FBQSxXQUFBO1lBQ0EsY0FBQSxrQkFBQSxRQUFBLE9BQUE7Ozs7O01BS0EsU0FBQSxpQkFBQSxPQUFBO1FBQ0EsSUFBQSxPQUFBLE1BQUE7UUFDQSxJQUFBLE9BQUEsUUFBQSxTQUFBLGNBQUE7O1FBRUEsR0FBQSxNQUFBOztVQUVBLElBQUEsV0FBQSxLQUFBO2NBQ0EsV0FBQSxLQUFBOztVQUVBLEdBQUEsUUFBQTtZQUNBLElBQUEsVUFBQSxFQUFBLElBQUE7O1lBRUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxPQUFBLE9BQUE7ZUFDQSxFQUFBLElBQUEsT0FBQSxTQUFBOzs7Ozs7Ozs7OztBQzNFQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGFBQUE7O0lBRUEsVUFBQSxVQUFBLENBQUEsWUFBQSxZQUFBO0lBQ0EsU0FBQSxXQUFBLFVBQUEsVUFBQSxJQUFBOztRQUVBLElBQUEsWUFBQTtZQUNBLFVBQUE7WUFDQTtjQUNBO2tCQUNBO3VCQUNBO2NBQ0E7O1lBRUEsTUFBQTs7UUFFQSxPQUFBOzs7O1FBSUEsU0FBQSxLQUFBLE9BQUEsSUFBQTs7VUFFQSxNQUFBLGNBQUE7O1VBRUEsSUFBQSxXQUFBO2NBQ0E7OztVQUdBLFFBQUEsUUFBQSxRQUFBLElBQUEsWUFBQTs7VUFFQSxHQUFBLFNBQUE7O1VBRUEsV0FBQSxLQUFBOztVQUVBLFVBQUEsU0FBQTs7OztVQUlBLFNBQUEsZUFBQTs7WUFFQSxJQUFBLFlBQUEsTUFBQTtZQUNBLFVBQUEsV0FBQSxRQUFBLEtBQUEsSUFBQSxJQUFBLEtBQUEsS0FBQSxZQUFBOztZQUVBLE1BQUEsY0FBQSxTQUFBLFNBQUE7O1lBRUEsVUFBQSxTQUFBLGNBQUE7OztVQUdBLFNBQUEsYUFBQTs7WUFFQSxTQUFBLE9BQUE7O1lBRUEsTUFBQSxjQUFBOztZQUVBLFNBQUEsVUFBQTs7Y0FFQSxTQUFBLFNBQUEsSUFBQTs7Y0FFQSxRQUFBLFFBQUEsUUFBQSxJQUFBLFlBQUE7ZUFDQTs7O1VBR0EsU0FBQSxXQUFBO1lBQ0EsSUFBQSxXQUFBLEdBQUE7WUFDQSxJQUFBLGNBQUE7OztZQUdBLElBQUEsTUFBQSxNQUFBLElBQUEsc0JBQUEsWUFBQTtjQUNBOzs7Y0FHQSxLQUFBLGdCQUFBLEdBQUE7O2dCQUVBLFNBQUEsVUFBQTtrQkFDQSxTQUFBO21CQUNBOztnQkFFQTs7Ozs7WUFLQSxPQUFBLFNBQUE7Ozs7Ozs7Ozs7OztBQ2pGQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxTQUFBLGdCQUFBOzs7SUFHQSxxQkFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLHFCQUFBLGNBQUE7OztNQUdBLE9BQUE7O1FBRUEsVUFBQTtRQUNBLFlBQUE7O1FBRUEsTUFBQSxXQUFBO1VBQ0EsT0FBQTtZQUNBLFVBQUE7WUFDQSxZQUFBOzs7Ozs7O01BT0EsU0FBQSxTQUFBLEtBQUE7UUFDQSxPQUFBLGVBQUE7Ozs7O01BS0EsU0FBQSxhQUFBO1FBQ0EsSUFBQSxRQUFBO1FBQ0EsT0FBQTtVQUNBLE1BQUEsQ0FBQSxjQUFBLE1BQUEsVUFBQSxPQUFBLElBQUE7O1lBRUEsSUFBQSxVQUFBLEdBQUEsS0FBQTtZQUNBLElBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxNQUFBLFFBQUEsSUFBQSxLQUFBLEtBQUE7Y0FDQSxVQUFBLFFBQUEsTUFBQTs7WUFFQSxPQUFBOzs7WUFHQSxTQUFBLFFBQUEsTUFBQTs7Y0FFQSxHQUFBLE9BQUEsU0FBQTtrQkFDQSxPQUFBLFFBQUEsS0FBQTs7a0JBRUEsT0FBQSxRQUFBLEtBQUEsV0FBQTs7b0JBRUEsSUFBQSxhQUFBLFlBQUE7O29CQUVBLEdBQUEsQ0FBQSxZQUFBLE9BQUEsRUFBQSxNQUFBLHVDQUFBLE9BQUE7O29CQUVBLE9BQUEsTUFBQSxNQUFBOzs7Ozs7WUFNQSxTQUFBLFlBQUEsTUFBQTtjQUNBLElBQUEsYUFBQTtrQkFDQSxJQUFBLElBQUEsS0FBQSxhQUFBO3NCQUNBLEdBQUEsYUFBQSxRQUFBLEdBQUEsUUFBQSxhQUFBLFFBQUEsR0FBQSxTQUFBOzBCQUNBLE9BQUEsYUFBQSxRQUFBO2NBQ0EsT0FBQSxhQUFBLFdBQUEsYUFBQSxRQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsRUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsT0FBQTs7SUFFQSxhQUFBLFVBQUEsQ0FBQSxrQkFBQSxxQkFBQSxzQkFBQTtJQUNBLFNBQUEsYUFBQSxnQkFBQSxtQkFBQSxvQkFBQSxPQUFBOzs7O1FBSUEsa0JBQUEsVUFBQTs7O1FBR0EsbUJBQUEsVUFBQTs7Ozs7UUFLQTtXQUNBLE1BQUEsT0FBQTtjQUNBLEtBQUE7Y0FDQSxVQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxhQUFBLGFBQUEsU0FBQSxjQUFBLFNBQUEsY0FBQSxjQUFBLGdCQUFBLFdBQUEsU0FBQTs7V0FFQSxNQUFBLGlCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFlBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxhQUFBLHNCQUFBOztXQUVBLE1BQUEsWUFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxZQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQSxZQUFBLHlCQUFBLGVBQUE7O1dBRUEsTUFBQSxlQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFlBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxXQUFBLGlCQUFBLFlBQUEseUJBQUE7O1dBRUEsTUFBQSxjQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFlBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxXQUFBLFlBQUEseUJBQUE7O1dBRUEsTUFBQSxhQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLFdBQUEsWUFBQSx5QkFBQTs7V0FFQSxNQUFBLFlBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsWUFBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLFdBQUEsWUFBQSx5QkFBQTs7V0FFQSxNQUFBLFlBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQSxpQkFBQSxZQUFBLHlCQUFBOztXQUVBLE1BQUEsWUFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxXQUFBLGlCQUFBLFlBQUEseUJBQUE7O1dBRUEsTUFBQSxnQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLFlBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQSxpQkFBQSxZQUFBLHlCQUFBOztXQUVBLE1BQUEsZ0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQSxpQkFBQSxZQUFBLHlCQUFBOztXQUVBLE1BQUEsY0FBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLGVBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQSxpQkFBQSxZQUFBLHlCQUFBOztXQUVBLE1BQUEsZUFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxvQkFBQSxXQUFBLEVBQUEsT0FBQSxxQkFBQTs7V0FFQSxNQUFBLGVBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBOztXQUVBLE1BQUEsY0FBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7O1dBRUEsTUFBQSxvQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7O1dBRUEsTUFBQSx1QkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLGVBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxnQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLGdCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBOztXQUVBLE1BQUEscUJBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBOztXQUVBLE1BQUEsZ0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxnQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLFFBQUEsT0FBQSxPQUFBLFdBQUEsWUFBQTtnQkFDQSxLQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxPQUFBLFNBQUE7O2NBRUEsWUFBQTs7V0FFQSxNQUFBLGtCQUFBO1lBQ0EsS0FBQTtZQUNBLE9BQUE7WUFDQSxhQUFBLE9BQUEsU0FBQTtZQUNBLFNBQUEsT0FBQSxXQUFBOztXQUVBLE1BQUEsWUFBQTtZQUNBLEtBQUE7WUFDQSxPQUFBO1lBQ0EsYUFBQSxPQUFBLFNBQUE7WUFDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLG1CQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTs7V0FFQSxNQUFBLGdCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLGVBQUE7O1dBRUEsTUFBQSwyQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7O1dBRUEsTUFBQSxjQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTs7V0FFQSxNQUFBLGdCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLGFBQUE7O1dBRUEsTUFBQSxtQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxvQkFBQSxXQUFBLEVBQUEsT0FBQSxxQkFBQTs7V0FFQSxNQUFBLG1CQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFlBQUE7Y0FDQSxjQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsY0FBQTs7V0FFQSxNQUFBLFlBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBOztXQUVBLE1BQUEsb0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBOztXQUVBLE1BQUEseUJBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsV0FBQTs7V0FFQSxNQUFBLFlBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBOztXQUVBLE1BQUEsa0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxxQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxpQkFBQTs7V0FFQSxNQUFBLHFCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTs7V0FFQSxNQUFBLHFCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLHNCQUFBLGNBQUEsV0FBQSxZQUFBLHlCQUFBLHVCQUFBLFNBQUEsYUFBQTs7V0FFQSxNQUFBLHVCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLGFBQUEsV0FBQSxZQUFBOztXQUVBLE1BQUEsb0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxtQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLG1CQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLHFCQUFBOztXQUVBLE1BQUEsc0JBQUE7Y0FDQSxLQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLHNCQUFBO2NBQ0EsS0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUEsYUFBQTs7V0FFQSxNQUFBLHFCQUFBO2NBQ0EsS0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsWUFBQTtjQUNBLGNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLGtCQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBLGFBQUE7O1dBRUEsTUFBQSxvQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQSxnQkFBQSxXQUFBOztXQUVBLE1BQUEsZ0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxzQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7Y0FDQSxTQUFBLE9BQUEsV0FBQTs7V0FFQSxNQUFBLG9CQUFBO2NBQ0EsS0FBQTtjQUNBLE9BQUE7Y0FDQSxhQUFBLE9BQUEsU0FBQTtjQUNBLFNBQUEsT0FBQSxXQUFBOztXQUVBLE1BQUEsc0JBQUE7Y0FDQSxLQUFBO2NBQ0EsT0FBQTtjQUNBLGFBQUEsT0FBQSxTQUFBO2NBQ0EsU0FBQSxPQUFBLFdBQUE7O1dBRUEsTUFBQSxzQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7O1dBRUEsTUFBQSxzQkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFBO2NBQ0EsYUFBQSxPQUFBLFNBQUE7O1dBRUEsTUFBQSx1QkFBQTtjQUNBLEtBQUE7Y0FDQSxPQUFB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SUFBQTs7UUFFQSxLQUFBLGNBQUE7OztNQUdBLFNBQUEsV0FBQSxLQUFBO1FBQ0EsT0FBQSxJQUFBLEtBQUEsQ0FBQSxPQUFBLENBQUEsTUFBQSxDQUFBLFFBQUEsQ0FBQSxPQUFBLFFBQUEsT0FBQTtTQUNBLFNBQUEsS0FBQSxVQUFBLE1BQUE7VUFDQSxPQUFBOzs7O01BSUEsU0FBQSxZQUFBO1FBQ0EsR0FBQSxLQUFBLGVBQUEsS0FBQSx1QkFBQSxLQUFBO1VBQ0EsSUFBQSxTQUFBO1VBQ0EsUUFBQSxRQUFBLEtBQUEsS0FBQSxVQUFBLFVBQUEsR0FBQTtZQUNBLEdBQUEsRUFBQSxJQUFBLFlBQUEsS0FBQSxZQUFBLFFBQUE7Y0FDQSxFQUFBO2NBQ0EsU0FBQTs7O1VBR0EsR0FBQSxDQUFBLFFBQUE7WUFDQSxTQUFBO2NBQ0EsS0FBQSxLQUFBO2NBQ0EsS0FBQTs7WUFFQSxLQUFBLEtBQUEsU0FBQSxLQUFBOzs7UUFHQSxLQUFBLGNBQUE7OztNQUdBLFNBQUEsY0FBQSxRQUFBLE9BQUE7UUFDQSxPQUFBO1FBQ0EsR0FBQSxPQUFBLFFBQUEsR0FBQTtVQUNBLEtBQUEsS0FBQSxTQUFBLE9BQUEsT0FBQTs7OztNQUlBLFNBQUEsY0FBQTtRQUNBLEtBQUEsS0FBQSxjQUFBO1FBQ0EsS0FBQSxLQUFBLFdBQUE7UUFDQSxRQUFBLFFBQUEsS0FBQSxLQUFBLFVBQUEsVUFBQSxRQUFBO1VBQ0EsS0FBQSxLQUFBLFlBQUEsT0FBQTtVQUNBLEtBQUEsS0FBQSxlQUFBLE9BQUEsSUFBQSxPQUFBLElBQUE7O1FBRUEsT0FBQSxLQUFBLEtBQUE7OztNQUdBLFNBQUEsWUFBQTtRQUNBLEtBQUEsS0FBQSxVQUFBLENBQUEsTUFBQTtRQUNBLEdBQUEsS0FBQSxLQUFBLFFBQUE7VUFDQSxLQUFBLEtBQUEsV0FBQSxLQUFBLEtBQUEsT0FBQTtVQUNBLEtBQUEsS0FBQSxpQkFBQSxLQUFBLEtBQUEsYUFBQSxJQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUE7VUFDQSxHQUFBLFdBQUEsS0FBQSxTQUFBLGdCQUFBO1lBQ0EsS0FBQSxLQUFBLG1CQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsT0FBQSxNQUFBLFdBQUEsS0FBQSxTQUFBOztlQUVBO1VBQ0EsS0FBQSxLQUFBLGlCQUFBOztRQUVBLEtBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxZQUFBLEtBQUEsS0FBQTtRQUNBLEdBQUEsS0FBQSxLQUFBLFFBQUE7VUFDQSxHQUFBLFdBQUEsS0FBQSxTQUFBLGdCQUFBO1lBQ0EsR0FBQSxLQUFBLEtBQUEsbUJBQUEsS0FBQSxLQUFBLEtBQUE7Y0FDQSxLQUFBLEtBQUEsbUJBQUEsS0FBQSxLQUFBOztZQUVBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQTs7VUFFQSxHQUFBLEtBQUEsS0FBQSxPQUFBLFdBQUEsS0FBQSxLQUFBLEtBQUE7WUFDQSxLQUFBLEtBQUEsUUFBQSxPQUFBOzs7O1FBSUE7O1FBRUEsU0FBQSxLQUFBO1VBQ0EsVUFBQTtVQUNBLFlBQUE7Ozs7TUFJQSxTQUFBLGtCQUFBO1FBQ0EsS0FBQSxLQUFBLFFBQUEsU0FBQSxLQUFBLEtBQUE7UUFDQSxHQUFBLEtBQUEsS0FBQSxRQUFBLFNBQUEsUUFBQTtVQUNBLEtBQUEsS0FBQSxRQUFBLFNBQUEsS0FBQSxLQUFBLElBQUEsV0FBQSxLQUFBLFNBQUE7VUFDQSxLQUFBLEtBQUEsUUFBQSxVQUFBLEtBQUEsS0FBQSxRQUFBO1VBQ0E7ZUFDQSxHQUFBLEtBQUEsS0FBQSxRQUFBLFNBQUEsV0FBQTtVQUNBLEtBQUEsS0FBQSxRQUFBLFNBQUEsRUFBQSxLQUFBLEtBQUE7ZUFDQTtVQUNBLEtBQUEsS0FBQSxRQUFBLFNBQUEsS0FBQSxLQUFBOzs7O01BSUEsU0FBQSxjQUFBO1FBQ0EsR0FBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLFFBQUE7VUFDQSxLQUFBLE9BQUEsS0FBQSxRQUFBO1VBQ0EsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLFFBQUEsS0FBQSxLQUFBLFFBQUE7VUFDQSxLQUFBLEtBQUEsU0FBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEtBQUEsS0FBQTs7OztNQUlBLFNBQUEsTUFBQTtRQUNBLEtBQUEsS0FBQSxTQUFBO1FBQ0EsT0FBQSxLQUFBLEtBQUE7UUFDQSxPQUFBLEtBQUEsT0FBQSxLQUFBLE1BQUE7Ozs7SUFJQSxjQUFBLFVBQUEsQ0FBQSxRQUFBLE9BQUEsWUFBQTtJQUNBLFNBQUEsY0FBQSxNQUFBLEtBQUEsVUFBQSxZQUFBO01BQ0EsSUFBQSxPQUFBOztNQUVBLEtBQUEsYUFBQTtNQUNBLEtBQUEsV0FBQTtNQUNBLEtBQUEsV0FBQTtNQUNBLEtBQUEsUUFBQTs7TUFFQSxTQUFBLFdBQUEsTUFBQTtRQUNBLEtBQUEsT0FBQTtRQUNBLEtBQUEsV0FBQTtVQUNBLFVBQUE7VUFDQSxhQUFBO1VBQ0EsVUFBQTtVQUNBLFFBQUE7VUFDQSxTQUFBLElBQUE7Ozs7TUFJQSxTQUFBLFFBQUE7UUFDQSxLQUFBLFNBQUEsY0FBQTtRQUNBLEtBQUEsU0FBQSxXQUFBO1FBQ0EsS0FBQSxTQUFBLFNBQUEsUUFBQSxVQUFBLFFBQUE7VUFDQSxLQUFBLFNBQUEsZUFBQSxPQUFBLElBQUEsT0FBQSxJQUFBO1VBQ0EsS0FBQSxTQUFBLFlBQUEsT0FBQTs7O1FBR0EsS0FBQSxTQUFBLGlCQUFBO1FBQ0EsR0FBQSxLQUFBLEtBQUEsUUFBQTtVQUNBLEtBQUEsU0FBQSxpQkFBQSxLQUFBLFNBQUEsYUFBQSxJQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUE7UUFDQSxLQUFBLFNBQUEsTUFBQSxLQUFBLFNBQUEsY0FBQSxLQUFBLFNBQUE7UUFDQSxLQUFBLFNBQUEsUUFBQSxTQUFBLEtBQUEsU0FBQTtRQUNBLEdBQUEsS0FBQSxTQUFBLFFBQUEsU0FBQSxRQUFBO1VBQ0EsS0FBQSxTQUFBLFFBQUEsU0FBQSxLQUFBLFNBQUEsSUFBQSxXQUFBLEtBQUEsU0FBQTtVQUNBLEtBQUEsU0FBQSxRQUFBLFVBQUEsS0FBQSxTQUFBLFFBQUE7Ozs7TUFJQSxTQUFBLFNBQUEsUUFBQTtRQUNBLEtBQUEsU0FBQSxVQUFBLENBQUEsTUFBQSxLQUFBLEtBQUEsUUFBQTs7UUFFQSxJQUFBLFdBQUEsS0FBQSxLQUFBO1FBQ0EsR0FBQSxRQUFBLFdBQUEsQ0FBQTs7UUFFQSxLQUFBLFNBQUEsV0FBQTtRQUNBLFNBQUEsUUFBQSxVQUFBLFFBQUE7VUFDQSxJQUFBLEtBQUE7WUFDQSxLQUFBLE9BQUE7WUFDQSxLQUFBLE9BQUEsTUFBQSxPQUFBOztVQUVBLEdBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxTQUFBLFNBQUEsS0FBQTs7O1FBR0E7O1FBRUEsT0FBQSxTQUFBLEtBQUE7VUFDQSxVQUFBO1VBQ0EsWUFBQTtXQUNBOzs7TUFHQSxTQUFBLFdBQUE7UUFDQSxLQUFBLFNBQUEsU0FBQTtRQUNBLE9BQUEsS0FBQSxRQUFBLE9BQUEsQ0FBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsVUFBQTs7Ozs7QUNsTkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7T0FDQSxPQUFBO09BQ0EsV0FBQSxrQkFBQTtPQUNBLFdBQUEsNEJBQUE7T0FDQSxXQUFBLG1CQUFBO09BQ0EsV0FBQSxrQkFBQTtPQUNBLFdBQUEsa0NBQUE7OztJQUdBLGVBQUEsVUFBQSxDQUFBLFVBQUEsZUFBQTtJQUNBLFNBQUEsZUFBQSxRQUFBLGFBQUEsU0FBQTtNQUNBLElBQUEsS0FBQTs7TUFFQTs7TUFFQSxTQUFBLFdBQUE7UUFDQSxPQUFBLGNBQUE7UUFDQSxHQUFBLENBQUEsWUFBQSxNQUFBO1VBQ0EsWUFBQTs7Ozs7UUFLQSxHQUFBLFdBQUEsUUFBQSxLQUFBLENBQUEsT0FBQTtVQUNBLE9BQUEsQ0FBQSxZQUFBLE9BQUEsS0FBQTtVQUNBLFNBQUEsQ0FBQSxDQUFBLFFBQUE7VUFDQSxPQUFBO1VBQ0EsT0FBQTs7O1FBR0EsR0FBQSxjQUFBOzs7OztJQUtBLHlCQUFBLFVBQUEsQ0FBQSxVQUFBLFlBQUEsZUFBQTtJQUNBLFNBQUEseUJBQUEsUUFBQSxVQUFBLGFBQUEsU0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTtVQUNBLE9BQUEsY0FBQTs7O1FBR0EsT0FBQSxVQUFBLFlBQUE7VUFDQSxZQUFBLE1BQUEsS0FBQSxVQUFBLE1BQUE7WUFDQSxPQUFB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Q0EsU0FBQSxrQkFBQSxRQUFBLFlBQUEsVUFBQSxNQUFBLFFBQUEsU0FBQTtJQUNBLElBQUEsS0FBQTtJQUNBLEdBQUEsV0FBQTtNQUNBLFFBQUE7UUFDQSxZQUFBO1FBQ0EsV0FBQTtRQUNBLFdBQUE7UUFDQSxRQUFBO1FBQ0EsVUFBQTtRQUNBLFFBQUE7O01BRUEsT0FBQTtRQUNBLE1BQUE7UUFDQSxZQUFBO1FBQ0EsTUFBQTs7TUFFQSxNQUFBO1FBQ0EsTUFBQTs7TUFFQSxRQUFBO1FBQ0EsTUFBQTtRQUNBLE1BQUE7O01BRUEsU0FBQTtRQUNBLE1BQUE7UUFDQSxNQUFBO1FBQ0EsTUFBQTs7TUFFQSxNQUFBO1FBQ0EsTUFBQTtRQUNBLE1BQUE7O01BRUEsV0FBQTtRQUNBLFFBQUE7UUFDQSxNQUFBO1FBQ0EsT0FBQTtRQUNBLGNBQUE7O01BRUEsUUFBQTtRQUNBLFFBQUE7UUFDQSxRQUFBO1FBQ0EsU0FBQTs7TUFFQSxRQUFBO1FBQ0EsUUFBQTtRQUNBLFNBQUE7UUFDQSxRQUFBO1FBQ0EsUUFBQTs7TUFFQSxPQUFBO1FBQ0EsTUFBQTtRQUNBLE1BQUE7O01BRUEsT0FBQTtRQUNBLE9BQUE7O01BRUEsUUFBQTtRQUNBLE1BQUE7UUFDQSxNQUFBO1FBQ0EsUUFBQTtRQUNBLE1BQUE7UUFDQSxNQUFBOztNQUVBLFFBQUE7UUFDQSxNQUFBO1FBQ0EsTUFBQTtRQUNBLFFBQUE7O01BRUEsTUFBQTtRQUNBLE1BQUE7O01BRUEsTUFBQTtRQUNBLE1BQUE7Ozs7SUFJQTs7SUFFQSxTQUFBLFdBQUE7TUFDQSxHQUFBLE9BQUEsU0FBQSxzQkFBQSxDQUFBLElBQUEsT0FBQSxLQUFBLFlBQUEsU0FBQTs7O0lBR0EsR0FBQSxTQUFBLFVBQUEsUUFBQTtNQUNBLElBQUEsUUFBQTtNQUNBLElBQUEsT0FBQSxPQUFBLEtBQUE7TUFDQSxHQUFBLFFBQUE7UUFDQSxPQUFBLE9BQUEsS0FBQTtRQUNBLFFBQUE7O01BRUEsTUFBQSxPQUFBLENBQUEsT0FBQSxDQUFBLElBQUEsS0FBQSxNQUFBLE1BQUEsU0FBQSxRQUFBLFFBQUEsS0FBQTtRQUNBLFFBQUEsSUFBQSxXQUFBLE1BQUE7U0FDQSxTQUFBLE1BQUEsS0FBQTtRQUNBLFFBQUEsSUFBQSxTQUFBLE1BQUE7Ozs7SUFJQSxHQUFBLGlCQUFBLFlBQUE7TUFDQSxJQUFBLFNBQUEsT0FBQSxLQUFBLFNBQUEsZ0JBQUE7TUFDQSxJQUFBLE9BQUEsT0FBQSxTQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxDQUFBLE9BQUEsQ0FBQTtNQUNBLE9BQUEsS0FBQSxDQUFBLE9BQUEsS0FBQSxNQUFBLEdBQUEsT0FBQSxLQUFBLE1BQUEsTUFBQSxTQUFBLEtBQUEsTUFBQTtNQUNBLEdBQUEsQ0FBQSxPQUFBLEtBQUEsU0FBQSxjQUFBLE9BQUEsS0FBQSxTQUFBLGVBQUE7OztJQUdBLEdBQUEsc0JBQUEsWUFBQTtNQUNBLE9BQUEsS0FBQSxTQUFBLGFBQUEsUUFBQSxVQUFBLE9BQUE7UUFDQSxPQUFBLE9BQUE7VUFDQSxPQUFBLENBQUEsV0FBQSxPQUFBLEtBQUEsU0FBQSxJQUFBLFlBQUEsQ0FBQSxLQUFBLE1BQUEsT0FBQSxLQUFBLE1BQUE7V0FDQTtVQUNBLFVBQUEsTUFBQSxVQUFBLE9BQUEsTUFBQTtXQUNBLFNBQUEsT0FBQSxRQUFBLEtBQUE7VUFDQSxRQUFBLElBQUEsV0FBQSxNQUFBO1dBQ0EsU0FBQSxNQUFBLEtBQUE7VUFDQSxRQUFBLElBQUEsU0FBQSxNQUFBOzs7OztJQUtBLEdBQUEsYUFBQSxZQUFBO01BQ0EsR0FBQTtNQUNBLFNBQUEsV0FBQTtRQUNBLElBQUEsR0FBQSxLQUFBO1FBQ0EsT0FBQSxHQUFBLEtBQUE7UUFDQSxXQUFBLEdBQUEsS0FBQTtRQUNBLFVBQUEsT0FBQSxLQUFBLFNBQUE7U0FDQSxVQUFBLFFBQUE7UUFDQSxRQUFBLElBQUEsV0FBQSxNQUFBO1NBQ0EsVUFBQSxRQUFBO1FBQ0EsUUFBQSxJQUFBLFNBQUEsTUFBQTs7Ozs7QUN2SUEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsSUFBQTs7SUFFQSxZQUFBLFVBQUEs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LE9BQUEsUUFBQTtRQUNBLE9BQUEsUUFBQSxPQUFBO1FBQ0EsT0FBQSxPQUFBLENBQUEsT0FBQSxPQUFBLEdBQUEsT0FBQTs7UUFFQSxNQUFBLE1BQUEsQ0FBQSxPQUFBLE9BQUEsUUFBQSxVQUFBLFFBQUE7VUFDQSxPQUFBLE1BQUEsT0FBQTtVQUNBLE1BQUEsS0FBQSxDQUFBLE9BQUEsU0FBQSxPQUFBOzs7Ozs7Ozs7OztBQ2JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsZUFBQTs7SUFFQSxZQUFBLFVBQUEsQ0FBQSxXQUFBLGlCQUFBLGFBQUEsWUFBQTtJQUNBLFNBQUEsWUFBQSxTQUFBLGVBQUEsV0FBQSxVQUFBLG9CQUFBO1FBQ0EsSUFBQSxLQUFBO1FBQ0EsR0FBQSxRQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsSUFBQSxPQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUEsQ0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBLElBQUEsT0FBQSxDQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBLElBQUEsT0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBLENBQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBLElBQUEsT0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBLENBQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBLElBQUEsT0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUEsQ0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUEsQ0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQSxJQUFBLE9BQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBLElBQUEsT0FBQSxDQUFBOzs7Ozs7VUFNQSxHQUFBLE9BQUE7O1VBRUEsR0FBQSxlQUFBLElBQUEsY0FBQTtjQUNBLE1BQUE7Y0FDQSxPQUFBO2FBQ0E7Y0FDQSxPQUFBLEtBQUE7Y0FDQSxTQUFBLFVBQUEsUUFBQSxRQUFBOztrQkFFQSxJQUFBLGVBQUEsT0FBQTswQkFDQSxRQUFBLFVBQUEsTUFBQSxPQUFBOzBCQUNBO2tCQUNBLElBQUEsY0FBQSxPQUFBOzBCQUNBLFFBQUEsV0FBQSxjQUFBLE9BQUE7MEJBQ0E7O2tCQUVBLE9BQUEsTUFBQSxZQUFBO2tCQUNBLE9BQUEsUUFBQSxZQUFBLE1BQUEsQ0FBQSxPQUFBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQSxTQUFBLE9BQUE7Ozs7VUFJQSxHQUFBLGtCQUFBLFNBQUEsTUFBQTtZQUNBLFFBQUEsS0FBQTs7Ozs7O1VBTUEsSUFBQSxRQUFBLENBQUEsQ0FBQSxNQUFBLFVBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUE7Y0FDQSxDQUFBLE1BQUEsU0FBQSxLQUFBO2NBQ0EsQ0FBQSxNQUFBLFNBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxRQUFBLEtBQUE7Y0FDQSxDQUFBLE1BQUEsV0FBQSxLQUFBO2NBQ0EsQ0FBQSxNQUFBLFNBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxTQUFBLEtBQUE7Y0FDQSxDQUFBLE1BQUEsUUFBQSxLQUFBO2NBQ0EsQ0FBQSxNQUFBLFdBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxTQUFBLEtBQUE7Y0FDQSxDQUFBLE1BQUEsU0FBQSxLQUFBO2NBQ0EsQ0FBQSxNQUFBLFFBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxXQUFBLEtBQUE7Y0FDQSxDQUFBLE1BQUEsU0FBQSxLQUFBO2NBQ0EsQ0FBQSxNQUFBLFNBQUEsS0FBQTtjQUNBLENBQUEsTUFBQSxRQUFBLEtBQUE7O1VBRUEsR0FBQSxlQUFBLElBQUEsY0FBQTtjQUNBLE1BQUE7Y0FDQSxPQUFBO2FBQ0E7Y0FDQSxPQUFBLE1BQUE7Y0FDQSxTQUFBLFNBQUEsUUFBQSxRQUFBO2tCQUNBLE9BQUEsUUFBQSxNQUFBLE1BQUEsQ0FBQSxPQUFBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQSxTQUFBLE9BQUE7Ozs7Ozs7Ozs7VUFVQSxHQUFBLGNBQUEsSUFBQSxjQUFBO2NBQ0EsTUFBQTtjQUNBLE9BQUE7Y0FDQSxTQUFBO2tCQUNBLE1BQUE7O2FBRUE7Y0FDQSxPQUFBLEtBQUE7Y0FDQSxTQUFBLFNBQUEsUUFBQSxRQUFBOztrQkFFQSxJQUFBLGNBQUEsT0FBQTswQkFDQSxRQUFBLFdBQUEsTUFBQSxPQUFBOzBCQUNBOztrQkFFQSxPQUFBLFFBQUEsWUFBQSxNQUFBLENBQUEsT0FBQSxTQUFBLEtBQUEsT0FBQSxTQUFBLE9BQUEsU0FBQSxPQUFBOzs7Ozs7O1VBT0EsR0FBQSxlQUFBLElBQUEsY0FBQTtjQUNBLE1BQUE7Y0FDQSxPQUFBO2NBQ0EsUUFBQTtrQkFDQSxNQUFBO2tCQUNBLEtBQUE7OzthQUdBO2NBQ0EsT0FBQSxLQUFBO2NBQ0EsU0FBQSxTQUFBLFFBQUEsUUFBQTs7a0JBRUEsSUFBQSxjQUFBLE9BQUE7eUJBQ0EsUUFBQSxVQUFBLE1BQUEsT0FBQTt5QkFDQTs7a0JBRUEsR0FBQSxRQUFBLFlBQUEsTUFBQSxDQUFBLE9BQUEsU0FBQSxLQUFBLE9BQUEsU0FBQSxPQUFBLFNBQUEsT0FBQTs7a0JBRUEsT0FBQSxNQUFBLFlBQUE7a0JBQ0EsT0FBQSxRQUFBLEdBQUE7Ozs7OztVQU1BLElBQUEsTUFBQSxVQUFBOztVQUVBLEdBQUEsZUFBQSxJQUFBLGNBQUE7Y0FDQSxNQUFBO2NBQ0EsT0FBQTthQUNBO2NBQ0EsT0FBQTtjQUNBLFFBQUE7Y0FDQSxTQUFBLFNBQUEsUUFBQSxRQUFBOzs7a0JBR0EsbUJBQUEsU0FBQSxRQUFBLFFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvSkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsV0FBQSw0QkFBQTs7SUFFQSx5QkFBQSxVQUFBLENBQUEsV0FBQSxTQUFBLG1CQUFBLGlCQUFBO0lBQ0EsU0FBQSx5QkFBQSxTQUFBLE9BQUEsaUJBQUEsZ0JBQUEsSUFBQTtRQUNBLElBQUEsS0FBQTs7UUFFQTs7OztRQUlBLFNBQUEsV0FBQTs7OztVQUlBLEdBQUEsUUFBQTtZQUNBLENBQUEsSUFBQSxHQUFBLE1BQUEsaUJBQUEsUUFBQSxHQUFBLE9BQUEsR0FBQSxXQUFBO1lBQ0EsQ0FBQSxJQUFBLEdBQUEsTUFBQSxpQkFBQSxRQUFBLFdBQUEsT0FBQSxHQUFBLFdBQUE7WUFDQSxDQUFBLElBQUEsR0FBQSxNQUFBLGlCQUFBLFFBQUEsR0FBQSxPQUFBOzs7VUFHQSxHQUFBLFdBQUE7WUFDQSxDQUFBLE9BQUEsR0FBQSxNQUFBO1lBQ0EsQ0FBQSxPQUFBLEdBQUEsTUFBQTtZQUNBLENBQUEsT0FBQSxHQUFBLE1BQUE7WUFDQSxDQUFBLE9BQUEsR0FBQSxNQUFBOzs7VUFHQSxHQUFBLFNBQUE7VUFDQSxHQUFBLGFBQUEsV0FBQTtZQUNBLE9BQUEsR0FBQSxPQUFBLFNBQUEsT0FBQSxNQUFBLElBQUEsZ0NBQUEsUUFBQSxTQUFBLE1BQUE7Y0FDQSxHQUFBLFNBQUE7Ozs7VUFJQSxHQUFBLFlBQUEsU0FBQSxNQUFBO1lBQ0EsR0FBQSxLQUFBLFNBQUEsR0FBQSxPQUFBLFFBQUE7Y0FDQSxJQUFBLFdBQUEsUUFBQSxVQUFBLEdBQUEsUUFBQSxDQUFBLElBQUEsS0FBQTtjQUNBLE9BQUEsU0FBQSxTQUFBLFNBQUEsR0FBQSxPQUFBO21CQUNBO2NBQ0EsT0FBQSxLQUFBLGFBQUE7Ozs7VUFJQSxHQUFBLGFBQUEsU0FBQSxNQUFBO1lBQ0EsSUFBQSxXQUFBO1lBQ0EsR0FBQSxLQUFBLFFBQUE7Y0FDQSxXQUFBLFFBQUEsVUFBQSxHQUFBLFVBQUEsQ0FBQSxPQUFBLEtBQUE7O1lBRUEsT0FBQSxTQUFBLFNBQUEsU0FBQSxHQUFBLE9BQUE7OztVQUdBLEdBQUEsWUFBQSxTQUFBLE1BQUEsSUFBQTtZQUNBLElBQUEsT0FBQSxLQUFBLFNBQUEsV0FBQTtjQUNBLE9BQUE7Ozs7VUFJQSxHQUFBLFdBQUEsU0FBQSxNQUFBLElBQUE7O1lBRUEsUUFBQSxPQUFBLE1BQUEsQ0FBQSxJQUFBO1lBQ0EsUUFBQSxJQUFBLGtCQUFBOzs7OztVQUtBLEdBQUEsYUFBQSxTQUFBLE9BQUE7WUFDQSxHQUFBLE1BQUEsT0FBQSxPQUFBOzs7O1VBSUEsR0FBQSxVQUFBLFdBQUE7WUFDQSxHQUFBLFdBQUE7Y0FDQSxJQUFBLEdBQUEsTUFBQSxPQUFBO2NBQ0EsTUFBQTtjQUNBLFFBQUE7Y0FDQSxPQUFBO2NBQ0EsT0FBQTs7WUFFQSxHQUFBLE1BQUEsS0FBQSxHQUFBOzs7Ozs7O1VBT0EsR0FBQSxhQUFBLFNBQUEsUUFBQTtZQUNBLElBQUEsVUFBQTtZQUNBLFFBQUEsUUFBQSxHQUFBLE9BQUEsbUJBQUE7O2NBRUEsUUFBQSxJQUFBLG9CQUFBOztZQUVBLE9BQUEsR0FBQSxJQUFBOzs7Ozs7O1VBT0EsR0FBQSxhQUFBLFNBQUEsTUFBQTtZQUNBLE9BQUEsS0FBQSxjQUFBOzs7O1VBSUEsR0FBQSxhQUFBLFNBQUEsSUFBQTtZQUNBLElBQUEsV0FBQSxRQUFBLFVBQUEsR0FBQSxPQUFBLENBQUEsSUFBQTtZQUNBLElBQUEsU0FBQSxRQUFBO2NBQ0EsU0FBQSxHQUFBLFlBQUE7Ozs7O1VBS0EsR0FBQSxTQUFBLFdBQUE7WUFDQSxLQUFBLElBQUEsSUFBQSxHQUFBLE1BQUEsUUFBQSxNQUFBO2NBQ0EsSUFBQSxPQUFBLEdBQUEsTUFBQTs7Y0FFQSxJQUFBLEtBQUEsV0FBQTtnQkFDQSxPQUFBLEtBQUE7OztjQUdBLElBQUEsS0FBQSxPQUFBO2dCQUNBLEdBQUEsTUFBQSxPQUFBLEdBQUE7Ozs7OztVQU1BLEdBQUEsWUFBQSxXQUFBO1lBQ0EsSUFBQSxVQUFBO1lBQ0EsS0FBQSxJQUFBLElBQUEsR0FBQSxNQUFBLFFBQUEsTUFBQTtjQUNBLElBQUEsT0FBQSxHQUFBLE1BQUE7O2NBRUEsSUFBQSxLQUFBLFdBQUE7Z0JBQ0EsR0FBQSxNQUFBLE9BQUEsR0FBQTs7O2NBR0EsSUFBQSxLQUFBLE9BQUE7Z0JBQ0EsS0FBQSxRQUFBOzs7OztjQUtBLFFBQUEsSUFBQTs7O1lBR0EsT0FBQSxHQUFBLElBQUE7Ozs7Ozs7Ozs7O0FDdEpBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFdBQUEsb0JBQUE7O0lBRUEsaUJBQUEsVUFBQSxDQUFBLG1CQUFBO0lBQ0EsU0FBQSxpQkFBQSxpQkFBQSxPQUFBO1FBQ0EsSUFBQSxLQUFBOztRQUVBOzs7O1FBSUEsU0FBQSxXQUFBOzs7OztVQUtBLEdBQUEsY0FBQTtZQUNBLFdBQUE7WUFDQSxNQUFBO2NBQ0E7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7O2NBRUE7a0JBQ0EsUUFBQTtrQkFDQSxVQUFBO2tCQUNBLFdBQUE7Ozs7Ozs7O1VBUUEsSUFBQSxPQUFBOztVQUVBLEdBQUEscUJBQUE7Y0FDQSxnQkFBQTtjQUNBLGtCQUFBO2NBQ0EsaUJBQUE7Y0FDQSxZQUFBO2tCQUNBLEVBQUEsT0FBQSxRQUFBLE9BQUE7a0JBQ0EsRUFBQSxPQUFBLGlCQUFBLGlCQUFBLGdCQUFBLGlCQUFBLEtBQUEsT0FBQTtrQkFDQSxFQUFBLE9BQUEsT0FBQSxpQkFBQSxnQkFBQSxpQkFBQSxLQUFBLHNCQUFBLE1BQUEsT0FBQTtrQkFDQSxFQUFBLE1BQUEsVUFBQSxPQUFBLE9BQUEsaUJBQUEsZ0JBQUEsaUJBQUEsS0FBQSxPQUFBLE9BQUEsYUFBQTtrQkFDQSxFQUFBLE1BQUEsVUFBQSxPQUFBLE9BQUEsaUJBQUEsZ0JBQUEsaUJBQUEsS0FBQSxPQUFBLE9BQUEsYUFBQTtrQkFDQSxFQUFBLE1BQUE7b0JBQ0EsT0FBQTtvQkFDQSxPQUFBO29CQUNBLG9CQUFBOztrQkFFQSxFQUFBLE1BQUEsY0FBQSxPQUFBLGNBQUEsT0FBQSxPQUFBLFlBQUEsUUFBQSxrQkFBQSxRQUFBLGlCQUFBLGdCQUFBLGlCQUFBOztjQUVBLE1BQUE7Y0FDQSxlQUFBLFNBQUEsU0FBQTtnQkFDQSxHQUFBLFVBQUE7Ozs7VUFJQSxNQUFBLElBQUE7YUFDQSxRQUFBLFNBQUEsTUFBQTtjQUNBLEtBQUEsU0FBQSxTQUFBLEtBQUE7Z0JBQ0EsSUFBQSxhQUFBLEtBQUEsTUFBQSxJQUFBOztjQUVBLEdBQUEsbUJBQUEsT0FBQTs7OztXQUlBLEdBQUEsZUFBQTtjQUNBLHFCQUFBLENBQUEsSUFBQSxJQUFBO2NBQ0Esb0JBQUE7Y0FDQSxZQUFBO2dCQUNBLEVBQUEsTUFBQTtnQkFDQSxFQUFBLE1BQUE7Z0JBQ0EsRUFBQSxNQUFBOzs7O1lBSUEsTUFBQSxJQUFBO2FBQ0EsUUFBQSxVQUFBLE1BQUE7Y0FDQSxHQUFBLGFBQUEsT0FBQTs7Ozs7OztBQ25MQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxPQUFBOztJQUVBLGdCQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsZ0JBQUEsbUJBQUE7O01BRUEsbUJBQUEscUJBQUE7VUFDQSxTQUFBO1VBQ0EsU0FBQTs7O01BR0EsbUJBQUEsa0JBQUE7TUFDQSxtQkFBQTtNQUNBLG1CQUFBLGlCQUFBO01BQ0EsbUJBQUEseUJBQUE7Ozs7QUNsQkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsSUFBQTs7SUFFQSxhQUFBLFVBQUEsQ0FBQSxjQUFBOztJQUVBLFNBQUEsYUFBQSxZQUFBLFdBQUE7Ozs7O01BS0EsV0FBQSxXQUFBOztRQUVBLFlBQUE7O1FBRUEsV0FBQTtVQUNBLFlBQUE7VUFDQSxZQUFBO1VBQ0EsWUFBQTs7O1FBR0EsTUFBQSxZQUFBO1VBQ0EsSUFBQSxtQkFBQSxXQUFBLHNCQUFBLFdBQUE7VUFDQSxJQUFBLG9CQUFBLFdBQUE7VUFDQSxXQUFBLFNBQUEsV0FBQSxXQUFBLFNBQUEsWUFBQSxvQkFBQTs7UUFFQSxLQUFBLFVBQUEsVUFBQTs7VUFFQSxXQUFBLElBQUE7O1VBRUEsV0FBQSxTQUFBLFdBQUEsV0FBQSxTQUFBLFVBQUE7O1VBRUEsV0FBQSxTQUFBLGFBQUEsRUFBQSxXQUFBLFNBQUE7Ozs7TUFJQSxXQUFBLFNBQUE7Ozs7Ozs7OztBQ2xDQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLGtCQUFBOztJQUVBLGVBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxnQkFBQSxVQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsTUFBQTtZQUNBLFVBQUE7O1FBRUEsT0FBQTs7UUFFQSxTQUFBLEtBQUEsT0FBQSxTQUFBLE9BQUE7VUFDQSxNQUFBLE9BQUEsWUFBQTtZQUNBLE9BQUEsTUFBQSxNQUFBLE1BQUEsZ0JBQUE7YUFDQSxVQUFBLFVBQUE7WUFDQSxTQUFBLFFBQUEsQ0FBQSxDQUFBLFVBQUE7Ozs7Ozs7Ozs7OztBQ25CQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxRQUFBLFdBQUE7O0lBRUEsUUFBQSxVQUFBLENBQUE7SUFDQSxTQUFBLFFBQUEsU0FBQTtNQUNBLE9BQUEsUUFBQTs7Ozs7Ozs7OztBQ1RBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsWUFBQTs7SUFFQSxTQUFBLFVBQUEsQ0FBQSxVQUFBO0lBQ0EsU0FBQSxVQUFBLFFBQUEsZUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBO1lBQ0EsT0FBQTtjQUNBLFVBQUE7OztRQUdBLE9BQUE7O1FBRUEsU0FBQSxLQUFBLE9BQUEsU0FBQTtVQUNBLFFBQUEsR0FBQSxTQUFBLFVBQUEsR0FBQTtjQUNBLEVBQUE7O2NBRUEsR0FBQSxNQUFBLFVBQUE7Z0JBQ0EsT0FBQSxjQUFBLE1BQUE7Z0JBQ0EsT0FBQSxHQUFBLE9BQUEsU0FBQSxJQUFBLENBQUEsUUFBQTs7bUJBRUE7Z0JBQ0EsRUFBQSxNQUFBOzs7Ozs7Ozs7Ozs7O0FDM0JBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsWUFBQTtTQUNBLFVBQUEsU0FBQTs7SUFFQSxTQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsU0FBQSxTQUFBO01BQ0EsT0FBQTtRQUNBLFNBQUE7UUFDQSxVQUFBO1FBQ0EsTUFBQSxTQUFBLE9BQUEsU0FBQSxPQUFBLG1CQUFBO1VBQ0Esa0JBQUEsU0FBQSxLQUFBLFNBQUEsTUFBQTs7WUFFQSxPQUFBLEtBQUE7OztVQUdBLGtCQUFBLFlBQUEsS0FBQSxTQUFBLE1BQUE7O1lBRUEsT0FBQSxLQUFBOzs7Ozs7SUFNQSxNQUFBLFVBQUEsQ0FBQTtJQUNBLFNBQUEsTUFBQSxTQUFBO01BQ0EsT0FBQTtRQUNBLFNBQUE7UUFDQSxVQUFBO1FBQ0EsTUFBQSxTQUFBLE9BQUEsU0FBQSxPQUFBLG1CQUFBO1VBQ0Esa0JBQUEsU0FBQSxLQUFBLFNBQUEsTUFBQTs7WUFFQSxPQUFBLEtBQUE7OztVQUdBLGtCQUFBLFlBQUEsS0FBQSxTQUFBLE1BQUE7O1lBRUEsT0FBQSxLQUFBOzs7Ozs7Ozs7Ozs7O0FDeENBLENBQUEsV0FBQTtJQUNBOztJQUVBO1NBQ0EsT0FBQTtTQUNBLFVBQUEsb0JBQUE7O0lBRUEsaUJBQUEsVUFBQSxDQUFBO0lBQ0EsU0FBQSxrQkFBQSxTQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsTUFBQTtZQUNBLFVBQUE7O1FBRUEsT0FBQTs7UUFFQSxTQUFBLEtBQUEsT0FBQSxTQUFBOztVQUVBLElBQUEsUUFBQSxPQUFBO1lBQ0EsUUFBQSxTQUFBOztlQUVBO1lBQ0EsUUFBQSxHQUFBLFNBQUEsVUFBQSxHQUFBO2dCQUNBLEVBQUE7O2dCQUVBLElBQUEsV0FBQSxTQUFBOztrQkFFQSxXQUFBOzs7a0JBR0EsR0FBQSxXQUFBO29CQUNBLEVBQUEsTUFBQSxTQUFBLE1BQUEsWUFBQSxhQUFBLFNBQUE7O29CQUVBLEVBQUEsTUFBQSxTQUFBLE1BQUEsWUFBQSxlQUFBLFNBQUE7O3VCQUVBO2tCQUNBLEVBQUEsTUFBQTs7Ozs7Ozs7Ozs7Ozs7OztBQ25DQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLFdBQUE7O0lBRUEsU0FBQSxXQUFBO1FBQ0EsSUFBQSxZQUFBO1lBQ0EsTUFBQTtZQUNBLFVBQUE7O1FBRUEsT0FBQTs7UUFFQSxTQUFBLEtBQUEsT0FBQSxTQUFBLE9BQUE7VUFDQSxRQUFBLEdBQUEsU0FBQSxVQUFBLEdBQUE7Y0FDQSxHQUFBLFFBQUEsR0FBQSxNQUFBLEVBQUE7Y0FDQSxJQUFBLE1BQUEsTUFBQTtrQkFDQTs7Y0FFQSxHQUFBLEtBQUE7Z0JBQ0EsT0FBQSxXQUFBO2dCQUNBLEtBQUEsQ0FBQSxPQUFBO2tCQUNBLEVBQUEsTUFBQTs7O21CQUdBO2dCQUNBLEVBQUEsTUFBQTs7Ozs7O1FBTUEsU0FBQSxXQUFBLEtBQUE7VUFDQSxJQUFBLFNBQUE7Y0FDQSxVQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsTUFBQSxTQUFBOztVQUVBLEVBQUEsUUFBQSxPQUFBLEVBQUEsV0FBQSxLQUFBO1lBQ0EsUUFBQTtZQUNBLFFBQUE7WUFDQSxRQUFBOzs7VUFHQSxJQUFBLFFBQUEsU0FBQTtZQUNBLFFBQUE7OztVQUdBLE9BQUEsRUFBQSxJQUFBOzs7Ozs7Ozs7OztBQy9DQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxVQUFBLE9BQUE7O0lBRUEsSUFBQSxVQUFBLENBQUEsY0FBQTtJQUNBLFNBQUEsS0FBQSxZQUFBLFdBQUE7UUFDQSxJQUFBLFlBQUE7WUFDQSxNQUFBO1lBQ0EsVUFBQTs7UUFFQSxPQUFBOztRQUVBLFNBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQTtVQUNBLElBQUEsU0FBQSxNQUFBOztVQUVBLFNBQUEsYUFBQTtZQUNBLElBQUEsS0FBQSxXQUFBLElBQUEsUUFBQTtZQUNBLFFBQUEsS0FBQTs7O1VBR0E7VUFDQSxJQUFBLGtCQUFBLFVBQUEsWUFBQTs7VUFFQSxNQUFBLElBQUEsWUFBQSxVQUFBO1lBQ0EsVUFBQSxPQUFBOzs7Ozs7Ozs7Ozs7QUM1QkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUE7U0FDQSxPQUFBO1NBQ0EsVUFBQSxZQUFBOztJQUVBLFNBQUEsWUFBQTtRQUNBLElBQUEsWUFBQTtZQUNBLE1BQUE7WUFDQSxVQUFBOztRQUVBLE9BQUE7O1FBRUEsU0FBQSxLQUFBLE9BQUEsU0FBQTtVQUNBLFFBQUEsR0FBQSxVQUFBLFdBQUE7WUFDQSxJQUFBLFFBQUEsRUFBQTtnQkFDQSxPQUFBLE1BQUEsVUFBQTtnQkFDQSxXQUFBLE1BQUEsS0FBQTtnQkFDQSxRQUFBLE1BQUEsUUFBQTs7WUFFQSxNQUFBLEtBQUEsNkJBQUEsTUFBQTtlQUNBLEtBQUEsV0FBQSxTQUFBLEdBQUE7Ozs7Ozs7Ozs7OztBQ3RC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QUNBLE9BQUEsVUFBQTs7WUFFQTs7WUFFQTtZQUNBOzs7Ozs7Ozs7QUNKQSxDQUFBLFdBQUE7SUFDQTs7SUFFQTtTQUNBLE9BQUE7U0FDQSxXQUFBLGNBQUE7O0lBRUEsV0FBQSxVQUFBLENBQUE7SUFDQSxTQUFBLFdBQUEsTUFBQTs7OztRQUlBOzs7O1FBSUEsU0FBQSxXQUFBO1VBQ0EsS0FBQSxJQUFBOzs7O0FBSUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIFxyXG4gKiBBbmdsZSAtIEJvb3RzdHJhcCBBZG1pbiBBcHAgKyBBbmd1bGFySlNcclxuICogXHJcbiAqIFZlcnNpb246IDMuMS4wXHJcbiAqIEF1dGhvcjogQHRoZW1pY29uX2NvXHJcbiAqIFdlYnNpdGU6IGh0dHA6Ly90aGVtaWNvbi5jb1xyXG4gKiBMaWNlbnNlOiBodHRwczovL3dyYXBib290c3RyYXAuY29tL2hlbHAvbGljZW5zZXNcclxuICogXHJcbiAqL1xyXG5cclxuLy8gQVBQIFNUQVJUXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhbmdsZScsIFtcclxuICAgICAgICAgICAgJ2FwcC5jb3JlJyxcclxuICAgICAgICAgICAgJ2FwcC5yb3V0ZXMnLFxyXG4gICAgICAgICAgICAnYXBwLnNpZGViYXInLFxyXG4gICAgICAgICAgICAnYXBwLm5hdnNlYXJjaCcsXHJcbiAgICAgICAgICAgICdhcHAucHJlbG9hZGVyJyxcclxuICAgICAgICAgICAgJ2FwcC5sb2FkaW5nYmFyJyxcclxuICAgICAgICAgICAgJ2FwcC50cmFuc2xhdGUnLFxyXG4gICAgICAgICAgICAnYXBwLnNldHRpbmdzJyxcclxuICAgICAgICAgICAgJ2FwcC5kYXNoYm9hcmQnLFxyXG4gICAgICAgICAgICAnYXBwLmljb25zJyxcclxuICAgICAgICAgICAgJ2FwcC5mbGF0ZG9jJyxcclxuICAgICAgICAgICAgJ2FwcC5ub3RpZnknLFxyXG4gICAgICAgICAgICAnYXBwLmJvb3RzdHJhcHVpJyxcclxuICAgICAgICAgICAgJ2FwcC5lbGVtZW50cycsXHJcbiAgICAgICAgICAgICdhcHAucGFuZWxzJyxcclxuICAgICAgICAgICAgJ2FwcC5jaGFydHMnLFxyXG4gICAgICAgICAgICAnYXBwLmZvcm1zJyxcclxuICAgICAgICAgICAgJ2FwcC5sb2NhbGUnLFxyXG4gICAgICAgICAgICAnYXBwLm1hcHMnLFxyXG4gICAgICAgICAgICAnYXBwLnBhZ2VzJyxcclxuICAgICAgICAgICAgJ2FwcC50YWJsZXMnLFxyXG4gICAgICAgICAgICAnYXBwLmV4dHJhcycsXHJcbiAgICAgICAgICAgICdhcHAubWFpbGJveCcsXHJcbiAgICAgICAgICAgICdhcHAudXRpbHMnLFxyXG4gICAgICAgICAgICAnYXBwLml0ZW1zJyxcclxuICAgICAgICAgICAgJ2FwcC5teXNob3AnLFxyXG4gICAgICAgICAgICAnYXBwLnNhbGVzJyxcclxuICAgICAgICAgICAgJ2FwcC5tZW1iZXJzJyxcclxuICAgICAgICAgICAgJ2FwcC5jb3N0cydcclxuICAgICAgICBdKTtcclxufSkoKTtcclxuXHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmJvb3RzdHJhcHVpJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jb2xvcnMnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuY29yZScsIFtcclxuICAgICAgICAgICAgJ25nUm91dGUnLFxyXG4gICAgICAgICAgICAnbmdBbmltYXRlJyxcclxuICAgICAgICAgICAgJ25nU3RvcmFnZScsXHJcbiAgICAgICAgICAgICduZ0Nvb2tpZXMnLFxyXG4gICAgICAgICAgICAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsXHJcbiAgICAgICAgICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgICAgICAgICAndWkucm91dGVyJyxcclxuICAgICAgICAgICAgJ29jLmxhenlMb2FkJyxcclxuICAgICAgICAgICAgJ2NmcC5sb2FkaW5nQmFyJyxcclxuICAgICAgICAgICAgJ25nU2FuaXRpemUnLFxyXG4gICAgICAgICAgICAnbmdSZXNvdXJjZScsXHJcbiAgICAgICAgICAgICd0bWguZHluYW1pY0xvY2FsZScsXHJcbiAgICAgICAgICAgICd1aS51dGlscycsXHJcbiAgICAgICAgICAgICdsYlNlcnZpY2VzJ1xyXG4gICAgICAgIF0pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jb3N0cycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZGFzaGJvYXJkJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmV4dHJhcycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5mbGF0ZG9jJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZvcm1zJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmljb25zJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5pdGVtcycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubGF6eWxvYWQnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubG9hZGluZ2JhcicsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5sb2NhbGUnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubWFpbGJveCcsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYXBzJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tZW1iZXJzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubXlzaG9wJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5uYXZzZWFyY2gnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubm90aWZ5JywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnBhZ2VzJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnBhbmVscycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5wcmVsb2FkZXInLCBbXSk7XHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5yb3V0ZXMnLCBbXHJcbiAgICAgICAgICAgICdhcHAubGF6eWxvYWQnXHJcbiAgICAgICAgXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnNhbGVzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zZXR0aW5ncycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zaWRlYmFyJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnRhYmxlcycsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50cmFuc2xhdGUnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAudXRpbHMnLCBbXHJcbiAgICAgICAgICAnYXBwLmNvbG9ycydcclxuICAgICAgICBdKTtcclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tYWxlcnRzLmpzXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciBwYWdpbmF0aW9uXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5ib290c3RyYXB1aScpXG4gICAgICAgIC5jb250cm9sbGVyKCdBbGVydERlbW9DdHJsJywgQWxlcnREZW1vQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBBbGVydERlbW9DdHJsKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIHZtLmFsZXJ0cyA9IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ2RhbmdlcicsIG1zZzogJ09oIHNuYXAhIENoYW5nZSBhIGZldyB0aGluZ3MgdXAgYW5kIHRyeSBzdWJtaXR0aW5nIGFnYWluLicgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ3dhcm5pbmcnLCBtc2c6ICdXZWxsIGRvbmUhIFlvdSBzdWNjZXNzZnVsbHkgcmVhZCB0aGlzIGltcG9ydGFudCBhbGVydCBtZXNzYWdlLicgfVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICB2bS5hZGRBbGVydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0uYWxlcnRzLnB1c2goe21zZzogJ0Fub3RoZXIgYWxlcnQhJ30pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS5jbG9zZUFsZXJ0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZtLmFsZXJ0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxyXG4gICAgICAgIC5jb25maWcoYm9vdHN0cmFwdWlDb25maWcpO1xyXG5cclxuICAgIGJvb3RzdHJhcHVpQ29uZmlnLiRpbmplY3QgPSBbJyR0b29sdGlwUHJvdmlkZXInXTtcclxuICAgIGZ1bmN0aW9uIGJvb3RzdHJhcHVpQ29uZmlnKCR0b29sdGlwUHJvdmlkZXIpe1xyXG4gICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoe2FwcGVuZFRvQm9keTogdHJ1ZX0pO1xyXG4gICAgfVxyXG59KSgpOyIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBkZW1vLWJ1dHRvbnMuanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGRlbW8gZm9yIGJ1dHRvbnMgYWN0aW9uc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5ib290c3RyYXB1aScpXG4gICAgICAgIC5jb250cm9sbGVyKCdCdXR0b25zQ3RybCcsIEJ1dHRvbnNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIEJ1dHRvbnNDdHJsKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIHZtLnNpbmdsZU1vZGVsID0gMTtcblxuICAgICAgICAgIHZtLnJhZGlvTW9kZWwgPSAnTWlkZGxlJztcblxuICAgICAgICAgIHZtLmNoZWNrTW9kZWwgPSB7XG4gICAgICAgICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIG1pZGRsZTogdHJ1ZSxcbiAgICAgICAgICAgIHJpZ2h0OiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tY2Fyb3VzZWwuanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGRlbW8gZm9yIGJvb3RzdHJhcCB1aSBjYXJvdXNlbFxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxuICAgICAgICAuY29udHJvbGxlcignQ2Fyb3VzZWxEZW1vQ3RybCcsIENhcm91c2VsRGVtb0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS5teUludGVydmFsID0gNTAwMDtcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgc2xpZGVzID0gdm0uc2xpZGVzID0gW107XG4gICAgICAgICAgdm0uYWRkU2xpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdXaWR0aCA9IDgwMCArIHNsaWRlcy5sZW5ndGg7XG4gICAgICAgICAgICBzbGlkZXMucHVzaCh7XG4gICAgICAgICAgICAgIGltYWdlOiAnLy9wbGFjZWtpdHRlbi5jb20vJyArIG5ld1dpZHRoICsgJy8zMDAnLFxuICAgICAgICAgICAgICB0ZXh0OiBbJ01vcmUnLCdFeHRyYScsJ0xvdHMgb2YnLCdTdXJwbHVzJ11bc2xpZGVzLmxlbmd0aCAlIDJdICsgJyAnICtcbiAgICAgICAgICAgICAgICBbJ0NhdHMnLCAnS2l0dHlzJywgJ0ZlbGluZXMnLCAnQ3V0ZXMnXVtzbGlkZXMubGVuZ3RoICUgMl1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPDI7IGkrKykge1xuICAgICAgICAgICAgdm0uYWRkU2xpZGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogZGVtby1kYXRlcGlja2VyLmpzXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciBib290c3RyYXAgZGF0ZXBpY2tlclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5ib290c3RyYXB1aScpXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlcGlja2VyRGVtb0N0cmwnLCBEYXRlcGlja2VyRGVtb0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gRGF0ZXBpY2tlckRlbW9DdHJsKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIHZtLnRvZGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5kdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2bS50b2RheSgpO1xuXG4gICAgICAgICAgdm0uY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2bS5kdCA9IG51bGw7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIERpc2FibGUgd2Vla2VuZCBzZWxlY3Rpb25cbiAgICAgICAgICB2bS5kaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUsIG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoIG1vZGUgPT09ICdkYXknICYmICggZGF0ZS5nZXREYXkoKSA9PT0gMCB8fCBkYXRlLmdldERheSgpID09PSA2ICkgKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0udG9nZ2xlTWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5taW5EYXRlID0gdm0ubWluRGF0ZSA/IG51bGwgOiBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdm0udG9nZ2xlTWluKCk7XG5cbiAgICAgICAgICB2bS5vcGVuID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdm0ub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0uZGF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBmb3JtYXRZZWFyOiAneXknLFxuICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDFcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0uaW5pdERhdGUgPSBuZXcgRGF0ZSgnMjAxOS0xMC0yMCcpO1xuICAgICAgICAgIHZtLmZvcm1hdHMgPSBbJ2RkLU1NTU0teXl5eScsICd5eXl5L01NL2RkJywgJ2RkLk1NLnl5eXknLCAnc2hvcnREYXRlJ107XG4gICAgICAgICAgdm0uZm9ybWF0ID0gdm0uZm9ybWF0c1swXTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBtb2RhbHMuanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIHdheSB0byBpbXBsZW1lbnQgYm9vdHN0cmFwIG1vZGFscyBmcm9tIHRlbXBsYXRlc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxuICAgICAgICAuY29udHJvbGxlcignTW9kYWxDb250cm9sbGVyJywgTW9kYWxDb250cm9sbGVyKTtcblxuICAgIE1vZGFsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbW9kYWwnXTtcbiAgICBmdW5jdGlvbiBNb2RhbENvbnRyb2xsZXIoJG1vZGFsKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICAgICAgICB2bS5vcGVuID0gZnVuY3Rpb24gKHNpemUpIHtcblxuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL215TW9kYWxDb250ZW50Lmh0bWwnLFxuICAgICAgICAgICAgICBjb250cm9sbGVyOiBNb2RhbEluc3RhbmNlQ3RybCxcbiAgICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9ICQoJyNtb2RhbC1zdGF0ZScpO1xuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnRleHQoJ01vZGFsIGRpc21pc3NlZCB3aXRoIE9LIHN0YXR1cycpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzdGF0ZS50ZXh0KCdNb2RhbCBkaXNtaXNzZWQgd2l0aCBDYW5jZWwgc3RhdHVzJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gUGxlYXNlIG5vdGUgdGhhdCAkbW9kYWxJbnN0YW5jZSByZXByZXNlbnRzIGEgbW9kYWwgd2luZG93IChpbnN0YW5jZSkgZGVwZW5kZW5jeS5cbiAgICAgICAgICAvLyBJdCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlICRtb2RhbCBzZXJ2aWNlIHVzZWQgYWJvdmUuXG5cbiAgICAgICAgICBNb2RhbEluc3RhbmNlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1vZGFsSW5zdGFuY2UnXTtcbiAgICAgICAgICBmdW5jdGlvbiBNb2RhbEluc3RhbmNlQ3RybCgkc2NvcGUsICRtb2RhbEluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoJ2Nsb3NlZCcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBkZW1vLXBhZ2luYXRpb24uanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGRlbW8gZm9yIHBhZ2luYXRpb25cbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmJvb3RzdHJhcHVpJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1BhZ2luYXRpb25EZW1vQ3RybCcsIFBhZ2luYXRpb25EZW1vQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uRGVtb0N0cmwoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS50b3RhbEl0ZW1zID0gNjQ7XG4gICAgICAgICAgdm0uY3VycmVudFBhZ2UgPSA0O1xuXG4gICAgICAgICAgdm0uc2V0UGFnZSA9IGZ1bmN0aW9uIChwYWdlTm8pIHtcbiAgICAgICAgICAgIHZtLmN1cnJlbnRQYWdlID0gcGFnZU5vO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS5wYWdlQ2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BhZ2UgY2hhbmdlZCB0bzogJyArIHZtLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0ubWF4U2l6ZSA9IDU7XG4gICAgICAgICAgdm0uYmlnVG90YWxJdGVtcyA9IDE3NTtcbiAgICAgICAgICB2bS5iaWdDdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tcG9wb3Zlci5qc1xuICogUHJvdmlkZXMgYSBzaW1wbGUgZGVtbyBmb3IgcG9wb3ZlcnNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxuICAgICAgICAuY29udHJvbGxlcignUG9wb3ZlckRlbW9DdHJsJywgUG9wb3ZlckRlbW9DdHJsKTtcblxuICAgIGZ1bmN0aW9uIFBvcG92ZXJEZW1vQ3RybCgpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS5keW5hbWljUG9wb3ZlciA9ICdIZWxsbywgV29ybGQhJztcbiAgICAgICAgICB2bS5keW5hbWljUG9wb3ZlclRpdGxlID0gJ1RpdGxlJztcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogZGVtby1wcm9ncmVzcy5qc1xuICogUHJvdmlkZXMgYSBzaW1wbGUgZGVtbyB0byBhbmltYXRlIHByb2dyZXNzIGJhclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5ib290c3RyYXB1aScpXG4gICAgICAgIC5jb250cm9sbGVyKCdQcm9ncmVzc0RlbW9DdHJsJywgUHJvZ3Jlc3NEZW1vQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBQcm9ncmVzc0RlbW9DdHJsKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIHZtLm1heCA9IDIwMDtcblxuICAgICAgICAgIHZtLnJhbmRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxKTtcbiAgICAgICAgICAgIHZhciB0eXBlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAyNSkge1xuICAgICAgICAgICAgICB0eXBlID0gJ3N1Y2Nlc3MnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDUwKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSAnaW5mbyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIDwgNzUpIHtcbiAgICAgICAgICAgICAgdHlwZSA9ICd3YXJuaW5nJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHR5cGUgPSAnZGFuZ2VyJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdm0uc2hvd1dhcm5pbmcgPSAodHlwZSA9PT0gJ2RhbmdlcicgfHwgdHlwZSA9PT0gJ3dhcm5pbmcnKTtcblxuICAgICAgICAgICAgdm0uZHluYW1pYyA9IHZhbHVlO1xuICAgICAgICAgICAgdm0udHlwZSA9IHR5cGU7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2bS5yYW5kb20oKTtcblxuICAgICAgICAgIHZtLnJhbmRvbVN0YWNrZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLnN0YWNrZWQgPSBbXTtcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IFsnc3VjY2VzcycsICdpbmZvJywgJ3dhcm5pbmcnLCAnZGFuZ2VyJ107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDQpICsgMSk7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNCkpO1xuICAgICAgICAgICAgICAgIHZtLnN0YWNrZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDMwKSArIDEpLFxuICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZXNbaW5kZXhdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2bS5yYW5kb21TdGFja2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tcmF0aW5nLmpzXG4gKiBQcm92aWRlcyBhIGRlbW8gZm9yIHJhdGluZ3MgVUlcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmJvb3RzdHJhcHVpJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1JhdGluZ0RlbW9DdHJsJywgUmF0aW5nRGVtb0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gUmF0aW5nRGVtb0N0cmwoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgdm0ucmF0ZSA9IDc7XG4gICAgICAgICAgdm0ubWF4ID0gMTA7XG4gICAgICAgICAgdm0uaXNSZWFkb25seSA9IGZhbHNlO1xuXG4gICAgICAgICAgdm0uaG92ZXJpbmdPdmVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHZtLm92ZXJTdGFyID0gdmFsdWU7XG4gICAgICAgICAgICB2bS5wZXJjZW50ID0gMTAwICogKHZhbHVlIC8gdm0ubWF4KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0ucmF0aW5nU3RhdGVzID0gW1xuICAgICAgICAgICAge3N0YXRlT246ICdmYSBmYS1jaGVjaycsIHN0YXRlT2ZmOiAnZmEgZmEtY2hlY2stY2lyY2xlJ30sXG4gICAgICAgICAgICB7c3RhdGVPbjogJ2ZhIGZhLXN0YXInLCBzdGF0ZU9mZjogJ2ZhIGZhLXN0YXItbyd9LFxuICAgICAgICAgICAge3N0YXRlT246ICdmYSBmYS1oZWFydCcsIHN0YXRlT2ZmOiAnZmEgZmEtYmFuJ30sXG4gICAgICAgICAgICB7c3RhdGVPbjogJ2ZhIGZhLWhlYXJ0J30sXG4gICAgICAgICAgICB7c3RhdGVPZmY6ICdmYSBmYS1wb3dlci1vZmYnfVxuICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tdGltZXBpY2tlci5qc1xuICogUHJvdmlkZXMgYSBzaW1wbGUgZGVtbyBmb3IgYm9vdHN0cmFwIHVpIHRpbWVwaWNrZXJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxuICAgICAgICAuY29udHJvbGxlcignVGltZXBpY2tlckRlbW9DdHJsJywgVGltZXBpY2tlckRlbW9DdHJsKTtcblxuICAgIGZ1bmN0aW9uIFRpbWVwaWNrZXJEZW1vQ3RybCgpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS5teXRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgdm0uaHN0ZXAgPSAxO1xuICAgICAgICAgIHZtLm1zdGVwID0gMTU7XG5cbiAgICAgICAgICB2bS5vcHRpb25zID0ge1xuICAgICAgICAgICAgaHN0ZXA6IFsxLCAyLCAzXSxcbiAgICAgICAgICAgIG1zdGVwOiBbMSwgNSwgMTAsIDE1LCAyNSwgMzBdXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZtLmlzbWVyaWRpYW4gPSB0cnVlO1xuICAgICAgICAgIHZtLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLmlzbWVyaWRpYW4gPSAhIHZtLmlzbWVyaWRpYW47XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZtLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgZC5zZXRIb3VycyggMTQgKTtcbiAgICAgICAgICAgIGQuc2V0TWludXRlcyggMCApO1xuICAgICAgICAgICAgdm0ubXl0aW1lID0gZDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdm0uY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaW1lIGNoYW5nZWQgdG86ICcgKyB2bS5teXRpbWUpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0ubXl0aW1lID0gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBkZW1vLXRvb2x0aXAuanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGRlbW8gZm9yIHRvb2x0aXBcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuYm9vdHN0cmFwdWknKVxuICAgICAgICAuY29udHJvbGxlcignVG9vbHRpcERlbW9DdHJsJywgVG9vbHRpcERlbW9DdHJsKTtcblxuICAgIGZ1bmN0aW9uIFRvb2x0aXBEZW1vQ3RybCgpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS5keW5hbWljVG9vbHRpcCA9ICdIZWxsbywgV29ybGQhJztcbiAgICAgICAgICB2bS5keW5hbWljVG9vbHRpcFRleHQgPSAnZHluYW1pYyc7XG4gICAgICAgICAgdm0uaHRtbFRvb2x0aXAgPSAnSVxcJ3ZlIGJlZW4gbWFkZSA8Yj5ib2xkPC9iPiEnO1xuXG4gICAgICAgICAgdm0uYXV0b3BsYWNlID0gZnVuY3Rpb24gKGNvbnRleHQsIHNvdXJjZSkge1xuICAgICAgICAgICAgLy9yZXR1cm4gKHByZWRpY3RUb29sdGlwVG9wKHNvdXJjZSkgPCAwKSA/ICBcImJvdHRvbVwiOiBcInRvcFwiO1xuICAgICAgICAgICAgdmFyIHBvcyA9ICd0b3AnO1xuICAgICAgICAgICAgaWYocHJlZGljdFRvb2x0aXBUb3Aoc291cmNlKSA8IDApXG4gICAgICAgICAgICAgIHBvcyA9ICdib3R0b20nO1xuICAgICAgICAgICAgaWYocHJlZGljdFRvb2x0aXBMZWZ0KHNvdXJjZSkgPCAwKVxuICAgICAgICAgICAgICBwb3MgPSAncmlnaHQnO1xuICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBQcmVkaWN0cyB0b29sdGlwIHRvcCBwb3NpdGlvbiBcbiAgICAgICAgICAgIC8vIGJhc2VkIG9uIHRoZSB0cmlnZ2VyIGVsZW1lbnRcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZWRpY3RUb29sdGlwVG9wKGVsKSB7XG4gICAgICAgICAgICAgIHZhciB0b3AgPSBlbC5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgIHZhciBoZWlnaHQgPSA0MDsgLy8gYXN1bWVzIH40MHB4IHRvb2x0aXAgaGVpZ2h0XG5cbiAgICAgICAgICAgICAgd2hpbGUoZWwub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdG9wICs9IGVsLm9mZnNldFRvcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKHRvcCAtIGhlaWdodCkgLSAod2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJlZGljdHMgdG9vbHRpcCB0b3AgcG9zaXRpb24gXG4gICAgICAgICAgICAvLyBiYXNlZCBvbiB0aGUgdHJpZ2dlciBlbGVtZW50XG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVkaWN0VG9vbHRpcExlZnQoZWwpIHtcbiAgICAgICAgICAgICAgdmFyIGxlZnQgPSBlbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICB2YXIgd2lkdGggPSBlbC5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgICAgICB3aGlsZShlbC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcbiAgICAgICAgICAgICAgICBsZWZ0ICs9IGVsLm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIChsZWZ0IC0gd2lkdGgpIC0gKHdpbmRvdy5wYWdlWE9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tdHlwZWFoZWFkLmpzXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciB0eXBlYWhlYWRcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmJvb3RzdHJhcHVpJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1R5cGVhaGVhZEN0cmwnLCBUeXBlYWhlYWRDdHJsKTtcblxuICAgIFR5cGVhaGVhZEN0cmwuJGluamVjdCA9IFsnJGh0dHAnXTtcbiAgICBmdW5jdGlvbiBUeXBlYWhlYWRDdHJsKCRodHRwKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICAgICAgICB2bS5zZWxlY3RlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB2bS5zdGF0ZXMgPSBbJ0FsYWJhbWEnLCAnQWxhc2thJywgJ0FyaXpvbmEnLCAnQXJrYW5zYXMnLCAnQ2FsaWZvcm5pYScsICdDb2xvcmFkbycsICdDb25uZWN0aWN1dCcsICdEZWxhd2FyZScsICdGbG9yaWRhJywgJ0dlb3JnaWEnLCAnSGF3YWlpJywgJ0lkYWhvJywgJ0lsbGlub2lzJywgJ0luZGlhbmEnLCAnSW93YScsICdLYW5zYXMnLCAnS2VudHVja3knLCAnTG91aXNpYW5hJywgJ01haW5lJywgJ01hcnlsYW5kJywgJ01hc3NhY2h1c2V0dHMnLCAnTWljaGlnYW4nLCAnTWlubmVzb3RhJywgJ01pc3Npc3NpcHBpJywgJ01pc3NvdXJpJywgJ01vbnRhbmEnLCAnTmVicmFza2EnLCAnTmV2YWRhJywgJ05ldyBIYW1wc2hpcmUnLCAnTmV3IEplcnNleScsICdOZXcgTWV4aWNvJywgJ05ldyBZb3JrJywgJ05vcnRoIERha290YScsICdOb3J0aCBDYXJvbGluYScsICdPaGlvJywgJ09rbGFob21hJywgJ09yZWdvbicsICdQZW5uc3lsdmFuaWEnLCAnUmhvZGUgSXNsYW5kJywgJ1NvdXRoIENhcm9saW5hJywgJ1NvdXRoIERha290YScsICdUZW5uZXNzZWUnLCAnVGV4YXMnLCAnVXRhaCcsICdWZXJtb250JywgJ1ZpcmdpbmlhJywgJ1dhc2hpbmd0b24nLCAnV2VzdCBWaXJnaW5pYScsICdXaXNjb25zaW4nLCAnV3lvbWluZyddO1xuXG4gICAgICAgICAgLy8gQW55IGZ1bmN0aW9uIHJldHVybmluZyBhIHByb21pc2Ugb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGxvYWQgdmFsdWVzIGFzeW5jaHJvbm91c2x5XG4gICAgICAgICAgdm0uZ2V0TG9jYXRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nLCB7XG4gICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHZhbCxcbiAgICAgICAgICAgICAgICBzZW5zb3I6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgdmFyIGFkZHJlc3NlcyA9IFtdO1xuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzLmRhdGEucmVzdWx0cywgZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgLypqc2hpbnQgLVcxMDYqL1xuICAgICAgICAgICAgICAgIGFkZHJlc3Nlcy5wdXNoKGl0ZW0uZm9ybWF0dGVkX2FkZHJlc3MpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3NlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS5zdGF0ZXNXaXRoRmxhZ3MgPSBbeyduYW1lJzonQWxhYmFtYScsJ2ZsYWcnOic1LzVjL0ZsYWdfb2ZfQWxhYmFtYS5zdmcvNDVweC1GbGFnX29mX0FsYWJhbWEuc3ZnLnBuZyd9LHsnbmFtZSc6J0FsYXNrYScsJ2ZsYWcnOidlL2U2L0ZsYWdfb2ZfQWxhc2thLnN2Zy80M3B4LUZsYWdfb2ZfQWxhc2thLnN2Zy5wbmcnfSx7J25hbWUnOidBcml6b25hJywnZmxhZyc6JzkvOWQvRmxhZ19vZl9Bcml6b25hLnN2Zy80NXB4LUZsYWdfb2ZfQXJpem9uYS5zdmcucG5nJ30seyduYW1lJzonQXJrYW5zYXMnLCdmbGFnJzonOS85ZC9GbGFnX29mX0Fya2Fuc2FzLnN2Zy80NXB4LUZsYWdfb2ZfQXJrYW5zYXMuc3ZnLnBuZyd9LHsnbmFtZSc6J0NhbGlmb3JuaWEnLCdmbGFnJzonMC8wMS9GbGFnX29mX0NhbGlmb3JuaWEuc3ZnLzQ1cHgtRmxhZ19vZl9DYWxpZm9ybmlhLnN2Zy5wbmcnfSx7J25hbWUnOidDb2xvcmFkbycsJ2ZsYWcnOic0LzQ2L0ZsYWdfb2ZfQ29sb3JhZG8uc3ZnLzQ1cHgtRmxhZ19vZl9Db2xvcmFkby5zdmcucG5nJ30seyduYW1lJzonQ29ubmVjdGljdXQnLCdmbGFnJzonOS85Ni9GbGFnX29mX0Nvbm5lY3RpY3V0LnN2Zy8zOXB4LUZsYWdfb2ZfQ29ubmVjdGljdXQuc3ZnLnBuZyd9LHsnbmFtZSc6J0RlbGF3YXJlJywnZmxhZyc6J2MvYzYvRmxhZ19vZl9EZWxhd2FyZS5zdmcvNDVweC1GbGFnX29mX0RlbGF3YXJlLnN2Zy5wbmcnfSx7J25hbWUnOidGbG9yaWRhJywnZmxhZyc6J2YvZjcvRmxhZ19vZl9GbG9yaWRhLnN2Zy80NXB4LUZsYWdfb2ZfRmxvcmlkYS5zdmcucG5nJ30seyduYW1lJzonR2VvcmdpYScsJ2ZsYWcnOic1LzU0L0ZsYWdfb2ZfR2VvcmdpYV8lMjhVLlMuX3N0YXRlJTI5LnN2Zy80NnB4LUZsYWdfb2ZfR2VvcmdpYV8lMjhVLlMuX3N0YXRlJTI5LnN2Zy5wbmcnfSx7J25hbWUnOidIYXdhaWknLCdmbGFnJzonZS9lZi9GbGFnX29mX0hhd2FpaS5zdmcvNDZweC1GbGFnX29mX0hhd2FpaS5zdmcucG5nJ30seyduYW1lJzonSWRhaG8nLCdmbGFnJzonYS9hNC9GbGFnX29mX0lkYWhvLnN2Zy8zOHB4LUZsYWdfb2ZfSWRhaG8uc3ZnLnBuZyd9LHsnbmFtZSc6J0lsbGlub2lzJywnZmxhZyc6JzAvMDEvRmxhZ19vZl9JbGxpbm9pcy5zdmcvNDZweC1GbGFnX29mX0lsbGlub2lzLnN2Zy5wbmcnfSx7J25hbWUnOidJbmRpYW5hJywnZmxhZyc6J2EvYWMvRmxhZ19vZl9JbmRpYW5hLnN2Zy80NXB4LUZsYWdfb2ZfSW5kaWFuYS5zdmcucG5nJ30seyduYW1lJzonSW93YScsJ2ZsYWcnOidhL2FhL0ZsYWdfb2ZfSW93YS5zdmcvNDRweC1GbGFnX29mX0lvd2Euc3ZnLnBuZyd9LHsnbmFtZSc6J0thbnNhcycsJ2ZsYWcnOidkL2RhL0ZsYWdfb2ZfS2Fuc2FzLnN2Zy80NnB4LUZsYWdfb2ZfS2Fuc2FzLnN2Zy5wbmcnfSx7J25hbWUnOidLZW50dWNreScsJ2ZsYWcnOic4LzhkL0ZsYWdfb2ZfS2VudHVja3kuc3ZnLzQ2cHgtRmxhZ19vZl9LZW50dWNreS5zdmcucG5nJ30seyduYW1lJzonTG91aXNpYW5hJywnZmxhZyc6J2UvZTAvRmxhZ19vZl9Mb3Vpc2lhbmEuc3ZnLzQ2cHgtRmxhZ19vZl9Mb3Vpc2lhbmEuc3ZnLnBuZyd9LHsnbmFtZSc6J01haW5lJywnZmxhZyc6JzMvMzUvRmxhZ19vZl9NYWluZS5zdmcvNDVweC1GbGFnX29mX01haW5lLnN2Zy5wbmcnfSx7J25hbWUnOidNYXJ5bGFuZCcsJ2ZsYWcnOidhL2EwL0ZsYWdfb2ZfTWFyeWxhbmQuc3ZnLzQ1cHgtRmxhZ19vZl9NYXJ5bGFuZC5zdmcucG5nJ30seyduYW1lJzonTWFzc2FjaHVzZXR0cycsJ2ZsYWcnOidmL2YyL0ZsYWdfb2ZfTWFzc2FjaHVzZXR0cy5zdmcvNDZweC1GbGFnX29mX01hc3NhY2h1c2V0dHMuc3ZnLnBuZyd9LHsnbmFtZSc6J01pY2hpZ2FuJywnZmxhZyc6J2IvYjUvRmxhZ19vZl9NaWNoaWdhbi5zdmcvNDVweC1GbGFnX29mX01pY2hpZ2FuLnN2Zy5wbmcnfSx7J25hbWUnOidNaW5uZXNvdGEnLCdmbGFnJzonYi9iOS9GbGFnX29mX01pbm5lc290YS5zdmcvNDZweC1GbGFnX29mX01pbm5lc290YS5zdmcucG5nJ30seyduYW1lJzonTWlzc2lzc2lwcGknLCdmbGFnJzonNC80Mi9GbGFnX29mX01pc3Npc3NpcHBpLnN2Zy80NXB4LUZsYWdfb2ZfTWlzc2lzc2lwcGkuc3ZnLnBuZyd9LHsnbmFtZSc6J01pc3NvdXJpJywnZmxhZyc6JzUvNWEvRmxhZ19vZl9NaXNzb3VyaS5zdmcvNDZweC1GbGFnX29mX01pc3NvdXJpLnN2Zy5wbmcnfSx7J25hbWUnOidNb250YW5hJywnZmxhZyc6J2MvY2IvRmxhZ19vZl9Nb250YW5hLnN2Zy80NXB4LUZsYWdfb2ZfTW9udGFuYS5zdmcucG5nJ30seyduYW1lJzonTmVicmFza2EnLCdmbGFnJzonNC80ZC9GbGFnX29mX05lYnJhc2thLnN2Zy80NnB4LUZsYWdfb2ZfTmVicmFza2Euc3ZnLnBuZyd9LHsnbmFtZSc6J05ldmFkYScsJ2ZsYWcnOidmL2YxL0ZsYWdfb2ZfTmV2YWRhLnN2Zy80NXB4LUZsYWdfb2ZfTmV2YWRhLnN2Zy5wbmcnfSx7J25hbWUnOidOZXcgSGFtcHNoaXJlJywnZmxhZyc6JzIvMjgvRmxhZ19vZl9OZXdfSGFtcHNoaXJlLnN2Zy80NXB4LUZsYWdfb2ZfTmV3X0hhbXBzaGlyZS5zdmcucG5nJ30seyduYW1lJzonTmV3IEplcnNleScsJ2ZsYWcnOic5LzkyL0ZsYWdfb2ZfTmV3X0plcnNleS5zdmcvNDVweC1GbGFnX29mX05ld19KZXJzZXkuc3ZnLnBuZyd9LHsnbmFtZSc6J05ldyBNZXhpY28nLCdmbGFnJzonYy9jMy9GbGFnX29mX05ld19NZXhpY28uc3ZnLzQ1cHgtRmxhZ19vZl9OZXdfTWV4aWNvLnN2Zy5wbmcnfSx7J25hbWUnOidOZXcgWW9yaycsJ2ZsYWcnOicxLzFhL0ZsYWdfb2ZfTmV3X1lvcmsuc3ZnLzQ2cHgtRmxhZ19vZl9OZXdfWW9yay5zdmcucG5nJ30seyduYW1lJzonTm9ydGggQ2Fyb2xpbmEnLCdmbGFnJzonYi9iYi9GbGFnX29mX05vcnRoX0Nhcm9saW5hLnN2Zy80NXB4LUZsYWdfb2ZfTm9ydGhfQ2Fyb2xpbmEuc3ZnLnBuZyd9LHsnbmFtZSc6J05vcnRoIERha290YScsJ2ZsYWcnOidlL2VlL0ZsYWdfb2ZfTm9ydGhfRGFrb3RhLnN2Zy8zOHB4LUZsYWdfb2ZfTm9ydGhfRGFrb3RhLnN2Zy5wbmcnfSx7J25hbWUnOidPaGlvJywnZmxhZyc6JzQvNGMvRmxhZ19vZl9PaGlvLnN2Zy80NnB4LUZsYWdfb2ZfT2hpby5zdmcucG5nJ30seyduYW1lJzonT2tsYWhvbWEnLCdmbGFnJzonNi82ZS9GbGFnX29mX09rbGFob21hLnN2Zy80NXB4LUZsYWdfb2ZfT2tsYWhvbWEuc3ZnLnBuZyd9LHsnbmFtZSc6J09yZWdvbicsJ2ZsYWcnOidiL2I5L0ZsYWdfb2ZfT3JlZ29uLnN2Zy80NnB4LUZsYWdfb2ZfT3JlZ29uLnN2Zy5wbmcnfSx7J25hbWUnOidQZW5uc3lsdmFuaWEnLCdmbGFnJzonZi9mNy9GbGFnX29mX1Blbm5zeWx2YW5pYS5zdmcvNDVweC1GbGFnX29mX1Blbm5zeWx2YW5pYS5zdmcucG5nJ30seyduYW1lJzonUmhvZGUgSXNsYW5kJywnZmxhZyc6J2YvZjMvRmxhZ19vZl9SaG9kZV9Jc2xhbmQuc3ZnLzMycHgtRmxhZ19vZl9SaG9kZV9Jc2xhbmQuc3ZnLnBuZyd9LHsnbmFtZSc6J1NvdXRoIENhcm9saW5hJywnZmxhZyc6JzYvNjkvRmxhZ19vZl9Tb3V0aF9DYXJvbGluYS5zdmcvNDVweC1GbGFnX29mX1NvdXRoX0Nhcm9saW5hLnN2Zy5wbmcnfSx7J25hbWUnOidTb3V0aCBEYWtvdGEnLCdmbGFnJzonMS8xYS9GbGFnX29mX1NvdXRoX0Rha290YS5zdmcvNDZweC1GbGFnX29mX1NvdXRoX0Rha290YS5zdmcucG5nJ30seyduYW1lJzonVGVubmVzc2VlJywnZmxhZyc6JzkvOWUvRmxhZ19vZl9UZW5uZXNzZWUuc3ZnLzQ2cHgtRmxhZ19vZl9UZW5uZXNzZWUuc3ZnLnBuZyd9LHsnbmFtZSc6J1RleGFzJywnZmxhZyc6J2YvZjcvRmxhZ19vZl9UZXhhcy5zdmcvNDVweC1GbGFnX29mX1RleGFzLnN2Zy5wbmcnfSx7J25hbWUnOidVdGFoJywnZmxhZyc6J2YvZjYvRmxhZ19vZl9VdGFoLnN2Zy80NXB4LUZsYWdfb2ZfVXRhaC5zdmcucG5nJ30seyduYW1lJzonVmVybW9udCcsJ2ZsYWcnOic0LzQ5L0ZsYWdfb2ZfVmVybW9udC5zdmcvNDZweC1GbGFnX29mX1Zlcm1vbnQuc3ZnLnBuZyd9LHsnbmFtZSc6J1ZpcmdpbmlhJywnZmxhZyc6JzQvNDcvRmxhZ19vZl9WaXJnaW5pYS5zdmcvNDRweC1GbGFnX29mX1ZpcmdpbmlhLnN2Zy5wbmcnfSx7J25hbWUnOidXYXNoaW5ndG9uJywnZmxhZyc6JzUvNTQvRmxhZ19vZl9XYXNoaW5ndG9uLnN2Zy80NnB4LUZsYWdfb2ZfV2FzaGluZ3Rvbi5zdmcucG5nJ30seyduYW1lJzonV2VzdCBWaXJnaW5pYScsJ2ZsYWcnOicyLzIyL0ZsYWdfb2ZfV2VzdF9WaXJnaW5pYS5zdmcvNDZweC1GbGFnX29mX1dlc3RfVmlyZ2luaWEuc3ZnLnBuZyd9LHsnbmFtZSc6J1dpc2NvbnNpbicsJ2ZsYWcnOicyLzIyL0ZsYWdfb2ZfV2lzY29uc2luLnN2Zy80NXB4LUZsYWdfb2ZfV2lzY29uc2luLnN2Zy5wbmcnfSx7J25hbWUnOidXeW9taW5nJywnZmxhZyc6J2IvYmMvRmxhZ19vZl9XeW9taW5nLnN2Zy80M3B4LUZsYWdfb2ZfV3lvbWluZy5zdmcucG5nJ31dO1xuXG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogY2hhcnRpc3QuanNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jaGFydHMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDaGFydGlzdENvbnRyb2xsZXInLCBDaGFydGlzdENvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIENoYXJ0aXN0Q29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIC8vIExpbmUgY2hhcnRcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG5cclxuICAgICAgICAgIHZtLmxpbmVEYXRhID0ge1xyXG4gICAgICAgICAgICBsYWJlbHM6IFsnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheSddLFxyXG4gICAgICAgICAgICBzZXJpZXM6IFtcclxuICAgICAgICAgICAgICBbMTIsIDksIDcsIDgsIDVdLFxyXG4gICAgICAgICAgICAgIFsyLCAxLCAzLjUsIDcsIDNdLFxyXG4gICAgICAgICAgICAgIFsxLCAzLCA0LCA1LCA2XVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmxpbmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXHJcbiAgICAgICAgICAgIGhlaWdodDogMjIwLFxyXG4gICAgICAgICAgICBjaGFydFBhZGRpbmc6IHtcclxuICAgICAgICAgICAgICByaWdodDogNDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBCYXIgYmlwb2xhclxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0uYmFyQmlwb2xhck9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGhpZ2g6IDEwLFxyXG4gICAgICAgICAgICBsb3c6IC0xMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMjAsXHJcbiAgICAgICAgICAgIGF4aXNYOiB7XHJcbiAgICAgICAgICAgICAgbGFiZWxJbnRlcnBvbGF0aW9uRm5jOiBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCAlIDIgPT09IDAgPyB2YWx1ZSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmJhckJpcG9sYXJEYXRhID0ge1xyXG4gICAgICAgICAgICBsYWJlbHM6IFsnVzEnLCAnVzInLCAnVzMnLCAnVzQnLCAnVzUnLCAnVzYnLCAnVzcnLCAnVzgnLCAnVzknLCAnVzEwJ10sXHJcbiAgICAgICAgICAgIHNlcmllczogW1xyXG4gICAgICAgICAgICAgIFsxLCAyLCA0LCA4LCA2LCAtMiwgLTEsIC00LCAtNiwgLTJdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgIC8vIEJhciBob3Jpem9udGFsXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICB2bS5iYXJIb3Jpem9udGFsRGF0YSA9IHtcclxuICAgICAgICAgICAgbGFiZWxzOiBbJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknLCAnU3VuZGF5J10sXHJcbiAgICAgICAgICAgIHNlcmllczogW1xyXG4gICAgICAgICAgICAgIFs1LCA0LCAzLCA3LCA1LCAxMCwgM10sXHJcbiAgICAgICAgICAgICAgWzMsIDIsIDksIDUsIDQsIDYsIDRdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uYmFySG9yaXpvbnRhbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHNlcmllc0JhckRpc3RhbmNlOiAxMCxcclxuICAgICAgICAgICAgcmV2ZXJzZURhdGE6IHRydWUsXHJcbiAgICAgICAgICAgIGhvcml6b250YWxCYXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDIyMCxcclxuICAgICAgICAgICAgYXhpc1k6IHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDcwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gU21pbCBBbmltYXRpb25zXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICAvLyBMZXQncyBwdXQgYSBzZXF1ZW5jZSBudW1iZXIgYXNpZGUgc28gd2UgY2FuIHVzZSBpdCBpbiB0aGUgZXZlbnQgY2FsbGJhY2tzXHJcbiAgICAgICAgICB2YXIgc2VxID0gMCxcclxuICAgICAgICAgICAgZGVsYXlzID0gODAsXHJcbiAgICAgICAgICAgIGR1cmF0aW9ucyA9IDUwMDtcclxuXHJcbiAgICAgICAgICB2bS5zbWlsRGF0YSA9IHtcclxuICAgICAgICAgICAgbGFiZWxzOiBbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzEwJywgJzExJywgJzEyJ10sXHJcbiAgICAgICAgICAgIHNlcmllczogW1xyXG4gICAgICAgICAgICAgIFsxMiwgOSwgNywgOCwgNSwgNCwgNiwgMiwgMywgMywgNCwgNl0sXHJcbiAgICAgICAgICAgICAgWzQsICA1LCAzLCA3LCAzLCA1LCA1LCAzLCA0LCA0LCA1LCA1XSxcclxuICAgICAgICAgICAgICBbNSwgIDMsIDQsIDUsIDYsIDMsIDMsIDQsIDUsIDYsIDMsIDRdLFxyXG4gICAgICAgICAgICAgIFszLCAgNCwgNSwgNiwgNywgNiwgNCwgNSwgNiwgNywgNiwgM11cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5zbWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbG93OiAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDI2MFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5zbWlsRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBjcmVhdGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzZXEgPSAwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkcmF3OiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgc2VxKys7XHJcblxyXG4gICAgICAgICAgICAgIGlmKGRhdGEudHlwZSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZHJhd24gZWxlbWVudCBpcyBhIGxpbmUgd2UgZG8gYSBzaW1wbGUgb3BhY2l0eSBmYWRlIGluLiBUaGlzIGNvdWxkIGFsc28gYmUgYWNoaWV2ZWQgdXNpbmcgQ1NTMyBhbmltYXRpb25zLlxyXG4gICAgICAgICAgICAgICAgZGF0YS5lbGVtZW50LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRlbGF5IHdoZW4gd2UgbGlrZSB0byBzdGFydCB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46IHNlcSAqIGRlbGF5cyArIDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGR1cjogZHVyYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB2YWx1ZSB3aGVyZSB0aGUgYW5pbWF0aW9uIHNob3VsZCBzdGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHZhbHVlIHdoZXJlIGl0IHNob3VsZCBlbmRcclxuICAgICAgICAgICAgICAgICAgICB0bzogMVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAnbGFiZWwnICYmIGRhdGEuYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmVsZW1lbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgIHk6IHtcclxuICAgICAgICAgICAgICAgICAgICBiZWdpbjogc2VxICogZGVsYXlzLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cjogZHVyYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGRhdGEueSArIDEwMCxcclxuICAgICAgICAgICAgICAgICAgICB0bzogZGF0YS55LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzcGVjaWZ5IGFuIGVhc2luZyBmdW5jdGlvbiBmcm9tIENoYXJ0aXN0LlN2Zy5FYXNpbmdcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnR5cGUgPT09ICdsYWJlbCcgJiYgZGF0YS5heGlzID09PSAneScpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuZWxlbWVudC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgeDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiBzZXEgKiBkZWxheXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyOiBkdXJhdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogZGF0YS54IC0gMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiBkYXRhLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAncG9pbnQnKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmVsZW1lbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgIHgxOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46IHNlcSAqIGRlbGF5cyxcclxuICAgICAgICAgICAgICAgICAgICBkdXI6IGR1cmF0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBkYXRhLnggLSAxMCxcclxuICAgICAgICAgICAgICAgICAgICB0bzogZGF0YS54LFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFydCdcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgeDI6IHtcclxuICAgICAgICAgICAgICAgICAgICBiZWdpbjogc2VxICogZGVsYXlzLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cjogZHVyYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGRhdGEueCAtIDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiBkYXRhLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46IHNlcSAqIGRlbGF5cyxcclxuICAgICAgICAgICAgICAgICAgICBkdXI6IGR1cmF0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFydCdcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgLy8gU1ZHIFBBVEggYW5pbWF0aW9uXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICB2bS5wYXRoRGF0YSA9IHtcclxuICAgICAgICAgICAgbGFiZWxzOiBbJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXHJcbiAgICAgICAgICAgIHNlcmllczogW1xyXG4gICAgICAgICAgICAgIFsxLCA1LCAyLCA1LCA0LCAzXSxcclxuICAgICAgICAgICAgICBbMiwgMywgNCwgOCwgMSwgMl0sXHJcbiAgICAgICAgICAgICAgWzUsIDQsIDMsIDIsIDEsIDAuNV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5wYXRoT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbG93OiAwLFxyXG4gICAgICAgICAgICBzaG93QXJlYTogdHJ1ZSxcclxuICAgICAgICAgICAgc2hvd1BvaW50OiBmYWxzZSxcclxuICAgICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDI2MFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5wYXRoRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBkcmF3OiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS50eXBlID09PSAnbGluZScgfHwgZGF0YS50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuZWxlbWVudC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiAyMDAwICogZGF0YS5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBkdXI6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogZGF0YS5wYXRoLmNsb25lKCkuc2NhbGUoMSwgMCkudHJhbnNsYXRlKDAsIGRhdGEuY2hhcnRSZWN0LmhlaWdodCgpKS5zdHJpbmdpZnkoKSxcclxuICAgICAgICAgICAgICAgICAgICB0bzogZGF0YS5wYXRoLmNsb25lKCkuc3RyaW5naWZ5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBDaGFydGlzdC5TdmcuRWFzaW5nLmVhc2VPdXRRdWludFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGNoYXJ0LmNvbnRyb2xsZXIuanNcclxuICogQ29udHJvbGxlciBmb3IgQ2hhcnRKc1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0NoYXJ0SlNDb250cm9sbGVyJywgQ2hhcnRKU0NvbnRyb2xsZXIpO1xyXG5cclxuICAgIENoYXJ0SlNDb250cm9sbGVyLiRpbmplY3QgPSBbJ0NvbG9ycyddO1xyXG4gICAgZnVuY3Rpb24gQ2hhcnRKU0NvbnRyb2xsZXIoQ29sb3JzKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHJcbiAgICAgICAgICAvLyByYW5kb20gdmFsdWVzIGZvciBkZW1vXHJcbiAgICAgICAgICB2YXIgckZhY3RvciA9IGZ1bmN0aW9uKCl7IHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTAwKTsgfTtcclxuXHJcbiAgICAgICAgICAvLyBMaW5lIGNoYXJ0XHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICB2bS5saW5lRGF0YSA9IHtcclxuICAgICAgICAgICAgICBsYWJlbHMgOiBbJ0phbnVhcnknLCdGZWJydWFyeScsJ01hcmNoJywnQXByaWwnLCdNYXknLCdKdW5lJywnSnVseSddLFxyXG4gICAgICAgICAgICAgIGRhdGFzZXRzIDogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ015IEZpcnN0IGRhdGFzZXQnLFxyXG4gICAgICAgICAgICAgICAgICBmaWxsQ29sb3IgOiAncmdiYSgxMTQsMTAyLDE4NiwwLjIpJyxcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3IgOiAncmdiYSgxMTQsMTAyLDE4NiwxKScsXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50Q29sb3IgOiAncmdiYSgxMTQsMTAyLDE4NiwxKScsXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50U3Ryb2tlQ29sb3IgOiAnI2ZmZicsXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbCA6ICcjZmZmJyxcclxuICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2UgOiAncmdiYSgxMTQsMTAyLDE4NiwxKScsXHJcbiAgICAgICAgICAgICAgICAgIGRhdGEgOiBbckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdNeSBTZWNvbmQgZGF0YXNldCcsXHJcbiAgICAgICAgICAgICAgICAgIGZpbGxDb2xvciA6ICdyZ2JhKDM1LDE4MywyMjksMC4yKScsXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yIDogJ3JnYmEoMzUsMTgzLDIyOSwxKScsXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50Q29sb3IgOiAncmdiYSgzNSwxODMsMjI5LDEpJyxcclxuICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvciA6ICcjZmZmJyxcclxuICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRGaWxsIDogJyNmZmYnLFxyXG4gICAgICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZSA6ICdyZ2JhKDM1LDE4MywyMjksMSknLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhIDogW3JGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgIHZtLmxpbmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzY2FsZVNob3dHcmlkTGluZXMgOiB0cnVlLFxyXG4gICAgICAgICAgICBzY2FsZUdyaWRMaW5lQ29sb3IgOiAncmdiYSgwLDAsMCwuMDUpJyxcclxuICAgICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoIDogMSxcclxuICAgICAgICAgICAgYmV6aWVyQ3VydmUgOiB0cnVlLFxyXG4gICAgICAgICAgICBiZXppZXJDdXJ2ZVRlbnNpb24gOiAwLjQsXHJcbiAgICAgICAgICAgIHBvaW50RG90IDogdHJ1ZSxcclxuICAgICAgICAgICAgcG9pbnREb3RSYWRpdXMgOiA0LFxyXG4gICAgICAgICAgICBwb2ludERvdFN0cm9rZVdpZHRoIDogMSxcclxuICAgICAgICAgICAgcG9pbnRIaXREZXRlY3Rpb25SYWRpdXMgOiAyMCxcclxuICAgICAgICAgICAgZGF0YXNldFN0cm9rZSA6IHRydWUsXHJcbiAgICAgICAgICAgIGRhdGFzZXRTdHJva2VXaWR0aCA6IDIsXHJcbiAgICAgICAgICAgIGRhdGFzZXRGaWxsIDogdHJ1ZSxcclxuICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgIC8vIEJhciBjaGFydFxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0uYmFyRGF0YSA9IHtcclxuICAgICAgICAgICAgICBsYWJlbHMgOiBbJ0phbnVhcnknLCdGZWJydWFyeScsJ01hcmNoJywnQXByaWwnLCdNYXknLCdKdW5lJywnSnVseSddLFxyXG4gICAgICAgICAgICAgIGRhdGFzZXRzIDogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBmaWxsQ29sb3IgOiBDb2xvcnMuYnlOYW1lKCdpbmZvJyksXHJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yIDogQ29sb3JzLmJ5TmFtZSgnaW5mbycpLFxyXG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHRGaWxsOiBDb2xvcnMuYnlOYW1lKCdpbmZvJyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodFN0cm9rZTogQ29sb3JzLmJ5TmFtZSgnaW5mbycpLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhIDogW3JGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIGZpbGxDb2xvciA6IENvbG9ycy5ieU5hbWUoJ3ByaW1hcnknKSxcclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3IgOiBDb2xvcnMuYnlOYW1lKCdwcmltYXJ5JyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodEZpbGwgOiBDb2xvcnMuYnlOYW1lKCdwcmltYXJ5JyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodFN0cm9rZSA6IENvbG9ycy5ieU5hbWUoJ3ByaW1hcnknKSxcclxuICAgICAgICAgICAgICAgICAgZGF0YSA6IFtyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCksckZhY3RvcigpLHJGYWN0b3IoKSxyRmFjdG9yKCldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdm0uYmFyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgc2NhbGVCZWdpbkF0WmVybyA6IHRydWUsXHJcbiAgICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lcyA6IHRydWUsXHJcbiAgICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvciA6ICdyZ2JhKDAsMCwwLC4wNSknLFxyXG4gICAgICAgICAgICBzY2FsZUdyaWRMaW5lV2lkdGggOiAxLFxyXG4gICAgICAgICAgICBiYXJTaG93U3Ryb2tlIDogdHJ1ZSxcclxuICAgICAgICAgICAgYmFyU3Ryb2tlV2lkdGggOiAyLFxyXG4gICAgICAgICAgICBiYXJWYWx1ZVNwYWNpbmcgOiA1LFxyXG4gICAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZyA6IDEsXHJcbiAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAvLyAgRG91Z2hudXQgY2hhcnRcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB2bS5kb3VnaG51dERhdGEgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAzMDAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdQdXJwbGUnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogNTAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdpbmZvJyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogQ29sb3JzLmJ5TmFtZSgnaW5mbycpLFxyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0luZm8nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogMTAwLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JzLmJ5TmFtZSgneWVsbG93JyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogQ29sb3JzLmJ5TmFtZSgneWVsbG93JyksXHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnWWVsbG93J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgdm0uZG91Z2hudXRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzZWdtZW50U2hvd1N0cm9rZSA6IHRydWUsXHJcbiAgICAgICAgICAgIHNlZ21lbnRTdHJva2VDb2xvciA6ICcjZmZmJyxcclxuICAgICAgICAgICAgc2VnbWVudFN0cm9rZVdpZHRoIDogMixcclxuICAgICAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0IDogODUsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXBzIDogMTAwLFxyXG4gICAgICAgICAgICBhbmltYXRpb25FYXNpbmcgOiAnZWFzZU91dEJvdW5jZScsXHJcbiAgICAgICAgICAgIGFuaW1hdGVSb3RhdGUgOiB0cnVlLFxyXG4gICAgICAgICAgICBhbmltYXRlU2NhbGUgOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBQaWUgY2hhcnRcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG5cclxuICAgICAgICAgIHZtLnBpZURhdGEgPVtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6IDMwMCxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ieU5hbWUoJ3B1cnBsZScpLFxyXG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IENvbG9ycy5ieU5hbWUoJ3B1cnBsZScpLFxyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ1B1cnBsZSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiA0MCxcclxuICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ieU5hbWUoJ3llbGxvdycpLFxyXG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IENvbG9ycy5ieU5hbWUoJ3llbGxvdycpLFxyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ1llbGxvdydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxMjAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdpbmZvJyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogQ29sb3JzLmJ5TmFtZSgnaW5mbycpLFxyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0luZm8nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICB2bS5waWVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzZWdtZW50U2hvd1N0cm9rZSA6IHRydWUsXHJcbiAgICAgICAgICAgIHNlZ21lbnRTdHJva2VDb2xvciA6ICcjZmZmJyxcclxuICAgICAgICAgICAgc2VnbWVudFN0cm9rZVdpZHRoIDogMixcclxuICAgICAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0IDogMCwgLy8gU2V0dGluZyB0aGlzIHRvIHplcm8gY29udmVydCBhIGRvdWdobnV0IGludG8gYSBQaWVcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHMgOiAxMDAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZyA6ICdlYXNlT3V0Qm91bmNlJyxcclxuICAgICAgICAgICAgYW5pbWF0ZVJvdGF0ZSA6IHRydWUsXHJcbiAgICAgICAgICAgIGFuaW1hdGVTY2FsZSA6IGZhbHNlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIFBvbGFyIGNoYXJ0XHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdm0ucG9sYXJEYXRhID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogMzAwLFxyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JzLmJ5TmFtZSgncGluaycpLFxyXG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHQ6IENvbG9ycy5ieU5hbWUoJ3BpbmsnKSxcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdSZWQnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogNTAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdHcmVlbidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdwaW5rJyksXHJcbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogQ29sb3JzLmJ5TmFtZSgncGluaycpLFxyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ1llbGxvdydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxNDAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiBDb2xvcnMuYnlOYW1lKCdwdXJwbGUnKSxcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdHcmV5J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLnBvbGFyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgc2NhbGVTaG93TGFiZWxCYWNrZHJvcCA6IHRydWUsXHJcbiAgICAgICAgICAgIHNjYWxlQmFja2Ryb3BDb2xvciA6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNzUpJyxcclxuICAgICAgICAgICAgc2NhbGVCZWdpbkF0WmVybyA6IHRydWUsXHJcbiAgICAgICAgICAgIHNjYWxlQmFja2Ryb3BQYWRkaW5nWSA6IDEsXHJcbiAgICAgICAgICAgIHNjYWxlQmFja2Ryb3BQYWRkaW5nWCA6IDEsXHJcbiAgICAgICAgICAgIHNjYWxlU2hvd0xpbmUgOiB0cnVlLFxyXG4gICAgICAgICAgICBzZWdtZW50U2hvd1N0cm9rZSA6IHRydWUsXHJcbiAgICAgICAgICAgIHNlZ21lbnRTdHJva2VDb2xvciA6ICcjZmZmJyxcclxuICAgICAgICAgICAgc2VnbWVudFN0cm9rZVdpZHRoIDogMixcclxuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHMgOiAxMDAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZyA6ICdlYXNlT3V0Qm91bmNlJyxcclxuICAgICAgICAgICAgYW5pbWF0ZVJvdGF0ZSA6IHRydWUsXHJcbiAgICAgICAgICAgIGFuaW1hdGVTY2FsZSA6IGZhbHNlXHJcbiAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAvLyBSYWRhciBjaGFydFxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0ucmFkYXJEYXRhID0ge1xyXG4gICAgICAgICAgICBsYWJlbHM6IFsnRWF0aW5nJywgJ0RyaW5raW5nJywgJ1NsZWVwaW5nJywgJ0Rlc2lnbmluZycsICdDb2RpbmcnLCAnQ3ljbGluZycsICdSdW5uaW5nJ10sXHJcbiAgICAgICAgICAgIGRhdGFzZXRzOiBbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdNeSBGaXJzdCBkYXRhc2V0JyxcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMTE0LDEwMiwxODYsMC4yKScsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JnYmEoMTE0LDEwMiwxODYsMSknLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRDb2xvcjogJ3JnYmEoMTE0LDEwMiwxODYsMSknLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRGaWxsOiAnI2ZmZicsXHJcbiAgICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZTogJ3JnYmEoMTE0LDEwMiwxODYsMSknLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogWzY1LDU5LDkwLDgxLDU2LDU1LDQwXVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdNeSBTZWNvbmQgZGF0YXNldCcsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDE1MSwxODcsMjA1LDAuMiknLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDE1MSwxODcsMjA1LDEpJyxcclxuICAgICAgICAgICAgICAgIHBvaW50Q29sb3I6ICdyZ2JhKDE1MSwxODcsMjA1LDEpJyxcclxuICAgICAgICAgICAgICAgIHBvaW50U3Ryb2tlQ29sb3I6ICcjZmZmJyxcclxuICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6ICdyZ2JhKDE1MSwxODcsMjA1LDEpJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IFsyOCw0OCw0MCwxOSw5NiwyNywxMDBdXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnJhZGFyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgc2NhbGVTaG93TGluZSA6IHRydWUsXHJcbiAgICAgICAgICAgIGFuZ2xlU2hvd0xpbmVPdXQgOiB0cnVlLFxyXG4gICAgICAgICAgICBzY2FsZVNob3dMYWJlbHMgOiBmYWxzZSxcclxuICAgICAgICAgICAgc2NhbGVCZWdpbkF0WmVybyA6IHRydWUsXHJcbiAgICAgICAgICAgIGFuZ2xlTGluZUNvbG9yIDogJ3JnYmEoMCwwLDAsLjEpJyxcclxuICAgICAgICAgICAgYW5nbGVMaW5lV2lkdGggOiAxLFxyXG4gICAgICAgICAgICAvKmpzaGludCAtVzEwOSovXHJcbiAgICAgICAgICAgIHBvaW50TGFiZWxGb250RmFtaWx5IDogXCInQXJpYWwnXCIsXHJcbiAgICAgICAgICAgIHBvaW50TGFiZWxGb250U3R5bGUgOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHBvaW50TGFiZWxGb250U2l6ZSA6IDEwLFxyXG4gICAgICAgICAgICBwb2ludExhYmVsRm9udENvbG9yIDogJyM1NjU2NTYnLFxyXG4gICAgICAgICAgICBwb2ludERvdCA6IHRydWUsXHJcbiAgICAgICAgICAgIHBvaW50RG90UmFkaXVzIDogMyxcclxuICAgICAgICAgICAgcG9pbnREb3RTdHJva2VXaWR0aCA6IDEsXHJcbiAgICAgICAgICAgIHBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzIDogMjAsXHJcbiAgICAgICAgICAgIGRhdGFzZXRTdHJva2UgOiB0cnVlLFxyXG4gICAgICAgICAgICBkYXRhc2V0U3Ryb2tlV2lkdGggOiAyLFxyXG4gICAgICAgICAgICBkYXRhc2V0RmlsbCA6IHRydWVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBjaGFydC5qc1xyXG4gKiBXcmFwcGVyIGRpcmVjdGl2ZSBmb3IgY2hhcnRKUy4gXHJcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0FuZHJlYXNIZWliZXJnLzk4Mzc4NjhcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jaGFydHMnKVxyXG4gICAgICAgIC8qIEFsaWFzZXMgZm9yIHZhcmlvdXMgY2hhcnQgdHlwZXMgKi9cclxuICAgICAgICAuZGlyZWN0aXZlKCdsaW5lY2hhcnQnLCAgICAgY2hhcnRKUygnTGluZScpICAgICAgKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2JhcmNoYXJ0JywgICAgICBjaGFydEpTKCdCYXInKSAgICAgICApXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgncmFkYXJjaGFydCcsICAgIGNoYXJ0SlMoJ1JhZGFyJykgICAgIClcclxuICAgICAgICAuZGlyZWN0aXZlKCdwb2xhcmNoYXJ0JywgICAgY2hhcnRKUygnUG9sYXJBcmVhJykgKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpZWNoYXJ0JywgICAgICBjaGFydEpTKCdQaWUnKSAgICAgICApXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnZG91Z2hudXRjaGFydCcsIGNoYXJ0SlMoJ0RvdWdobnV0JykgIClcclxuICAgICAgICAuZGlyZWN0aXZlKCdkb251dGNoYXJ0JywgICAgY2hhcnRKUygnRG91Z2hudXQnKSAgKVxyXG4gICAgICAgIDtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGFydEpTKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnPScsXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogJz0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICc9JyxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc9JyxcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6ICc9JyxcclxuICAgICAgICAgICAgICAgICAgICBjaGFydDogJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzOiAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogJz0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICc9JyxcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6ICc9J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9ICRlbGVtWzBdLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF1dG9zaXplID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLndpZHRoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtLndpZHRoKCRlbGVtLnBhcmVudCgpLndpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9ICRlbGVtLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguY2FudmFzLndpZHRoID0gJHNjb3BlLndpZHRoIHx8IGN0eC5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5oZWlnaHQgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbS5oZWlnaHQoJGVsZW0ucGFyZW50KCkuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBjdHguY2FudmFzLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gJHNjb3BlLmhlaWdodCB8fCBjdHguY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9zaXplID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2RhdGEnLCBmdW5jdGlvbiAobmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoYXJ0Q3JlYXRlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0Q3JlYXRlZC5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBkYXRhIG5vdCBkZWZpbmVkLCBleGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaGFydCkgeyB0eXBlID0gJHNjb3BlLmNoYXJ0OyB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihhdXRvc2l6ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQgPSBuZXcgQ2hhcnQoY3R4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLnJlc3BvbnNpdmUgfHwgJHNjb3BlLnJlc2l6ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLnJlc3BvbnNpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLnJlc3BvbnNpdmUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLnJlc3BvbnNpdmUgPSAkc2NvcGUucmVzcG9uc2l2ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0Q3JlYXRlZCA9IGNoYXJ0W3R5cGVdKCRzY29wZS5kYXRhLCAkc2NvcGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0Q3JlYXRlZC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmxlZ2VuZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkZWxlbVswXSkucGFyZW50KCkuYWZ0ZXIoIGNoYXJ0Q3JlYXRlZC5nZW5lcmF0ZUxlZ2VuZCgpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ3Rvb2x0aXAnLCBmdW5jdGlvbiAobmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydENyZWF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydENyZWF0ZWQuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihuZXdWYWw9PT11bmRlZmluZWQgfHwgIWNoYXJ0Q3JlYXRlZC5zZWdtZW50cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWlzRmluaXRlKG5ld1ZhbCkgfHwgbmV3VmFsID49IGNoYXJ0Q3JlYXRlZC5zZWdtZW50cy5sZW5ndGggfHwgbmV3VmFsIDwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVNlZ21lbnQgPSBjaGFydENyZWF0ZWQuc2VnbWVudHNbbmV3VmFsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2VnbWVudC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlZ21lbnQuZmlsbENvbG9yID0gYWN0aXZlU2VnbWVudC5oaWdobGlnaHRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRDcmVhdGVkLnNob3dUb29sdGlwKFthY3RpdmVTZWdtZW50XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlZ21lbnQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFydCA9IG5ldyBDaGFydChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFydENyZWF0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSkoKTtcclxuXHJcblxyXG5cclxuXHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGNsYXNzeS1sb2FkZXIuanNcclxuICogRW5hYmxlIHVzZSBvZiBjbGFzc3lsb2FkZXIgZGlyZWN0bHkgZnJvbSBkYXRhIGF0dHJpYnV0ZXNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jaGFydHMnKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NsYXNzeWxvYWRlcicsIGNsYXNzeWxvYWRlcik7XHJcblxyXG4gICAgY2xhc3N5bG9hZGVyLiRpbmplY3QgPSBbJyR0aW1lb3V0JywgJ1V0aWxzJywgJyR3aW5kb3cnXTtcclxuICAgIGZ1bmN0aW9uIGNsYXNzeWxvYWRlciAoJHRpbWVvdXQsIFV0aWxzLCAkd2luZG93KSB7XHJcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICAgICAgbGluazogbGluayxcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgdmFyICRzY3JvbGxlciAgICAgICA9ICQoJHdpbmRvdyksXHJcbiAgICAgICAgICAgICAgaW5WaWV3RmxhZ0NsYXNzID0gJ2pzLWlzLWluLXZpZXcnOyAvLyBhIGNsYXNzbmFtZSB0byBkZXRlY3Qgd2hlbiBhIGNoYXJ0IGhhcyBiZWVuIHRyaWdnZXJlZCBhZnRlciBzY3JvbGxcclxuXHJcbiAgICAgICAgICAvLyBydW4gYWZ0ZXIgaW50ZXJwb2xhdGlvbiAgXHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICBcclxuICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgID0gJGVsZW1lbnQuZGF0YSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQXQgbGVhc2Ugd2UgbmVlZCBhIGRhdGEtcGVyY2VudGFnZSBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgaWYob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgIGlmKCBvcHRpb25zLnRyaWdnZXJJblZpZXcgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjcm9sbGVyLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZXJJblZJZXcoJGVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBzdGFydHMgYWxyZWFkeSBpbiB2aWV3XHJcbiAgICAgICAgICAgICAgICBjaGVja0xvYWRlckluVklldygkZWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0YXJ0TG9hZGVyKCRlbGVtZW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrTG9hZGVySW5WSWV3KGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IC0yMDtcclxuICAgICAgICAgICAgaWYoICEgZWxlbWVudC5oYXNDbGFzcyhpblZpZXdGbGFnQ2xhc3MpICYmXHJcbiAgICAgICAgICAgICAgICBVdGlscy5pc0luVmlldyhlbGVtZW50LCB7dG9wb2Zmc2V0OiBvZmZzZXR9KSApIHtcclxuICAgICAgICAgICAgICBzdGFydExvYWRlcihlbGVtZW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZnVuY3Rpb24gc3RhcnRMb2FkZXIoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBlbGVtZW50LkNsYXNzeUxvYWRlcihvcHRpb25zKS5hZGRDbGFzcyhpblZpZXdGbGFnQ2xhc3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycpXHJcbiAgICAgICAgLnNlcnZpY2UoJ0NoYXJ0RGF0YScsIENoYXJ0RGF0YSk7XHJcblxyXG4gICAgQ2hhcnREYXRhLiRpbmplY3QgPSBbJyRyZXNvdXJjZSddO1xyXG4gICAgZnVuY3Rpb24gQ2hhcnREYXRhKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHRoaXMubG9hZCA9IGxvYWQ7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgXHJcbiAgICAgICAgdmFyIG9wdHMgPSB7XHJcbiAgICAgICAgICAgIGdldDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZChzb3VyY2UpIHtcclxuICAgICAgICAgIHJldHVybiAkcmVzb3VyY2Uoc291cmNlLCB7fSwgb3B0cykuZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBmbG90LWNoYXJ0LmpzXHJcbiAqIFNldHVwIG9wdGlvbnMgYW5kIGRhdGEgZm9yIGZsb3QgY2hhcnQgZGlyZWN0aXZlXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuY2hhcnRzJylcclxuICAgICAgICAuY29udHJvbGxlcignRmxvdENoYXJ0Q29udHJvbGxlcicsIEZsb3RDaGFydENvbnRyb2xsZXIpO1xyXG5cclxuICAgIEZsb3RDaGFydENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ0NoYXJ0RGF0YScsICckdGltZW91dCddO1xyXG4gICAgZnVuY3Rpb24gRmxvdENoYXJ0Q29udHJvbGxlcigkc2NvcGUsIENoYXJ0RGF0YSwgJHRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIC8vIEJBUlxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcbiAgICAgICAgICB2bS5iYXJEYXRhID0gQ2hhcnREYXRhLmxvYWQoJ3NlcnZlci9jaGFydC9iYXIuanNvbicpO1xyXG4gICAgICAgICAgdm0uYmFyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgYmFyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGJhcldpZHRoOiAwLjYsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAwLjlcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZ3JpZDoge1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyNlZWUnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgaG92ZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmNmY2ZjJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSxcclxuICAgICAgICAgICAgICB0b29sdGlwT3B0czoge1xyXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBmdW5jdGlvbiAobGFiZWwsIHgsIHkpIHsgcmV0dXJuIHggKyAnIDogJyArIHk7IH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHhheGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRpY2tDb2xvcjogJyNmY2ZjZmMnLFxyXG4gICAgICAgICAgICAgICAgICBtb2RlOiAnY2F0ZWdvcmllcydcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHlheGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoJHNjb3BlLmFwcC5sYXlvdXQuaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnKSxcclxuICAgICAgICAgICAgICAgICAgdGlja0NvbG9yOiAnI2VlZSdcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHNoYWRvd1NpemU6IDBcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gQkFSIFNUQUNLRURcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0uYmFyU3RhY2tlRGF0YSA9IENoYXJ0RGF0YS5sb2FkKCdzZXJ2ZXIvY2hhcnQvYmFyc3RhY2tlZC5qc29uJyk7XHJcbiAgICAgICAgICB2bS5iYXJTdGFja2VkT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgc3RhY2s6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgIGJhcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBiYXJXaWR0aDogMC42LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZmlsbDogMC45XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGdyaWQ6IHtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjZWVlJyxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgIGhvdmVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZjZmNmYydcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgdG9vbHRpcE9wdHM6IHtcclxuICAgICAgICAgICAgICAgICAgY29udGVudDogZnVuY3Rpb24gKGxhYmVsLCB4LCB5KSB7IHJldHVybiB4ICsgJyA6ICcgKyB5OyB9XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB4YXhpczoge1xyXG4gICAgICAgICAgICAgICAgICB0aWNrQ29sb3I6ICcjZmNmY2ZjJyxcclxuICAgICAgICAgICAgICAgICAgbW9kZTogJ2NhdGVnb3JpZXMnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB5YXhpczoge1xyXG4gICAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICAgIG1heDogMjAwLCAvLyBvcHRpb25hbDogdXNlIGl0IGZvciBhIGNsZWFyIHJlcHJlc2V0YXRpb25cclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICgkc2NvcGUuYXBwLmxheW91dC5pc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcpLFxyXG4gICAgICAgICAgICAgICAgICB0aWNrQ29sb3I6ICcjZWVlJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgc2hhZG93U2l6ZTogMFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBTUExJTkVcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0uc3BsaW5lRGF0YSA9IENoYXJ0RGF0YS5sb2FkKCdzZXJ2ZXIvY2hhcnQvc3BsaW5lLmpzb24nKTtcclxuICAgICAgICAgIHZtLnNwbGluZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGxpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDRcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgc3BsaW5lczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRlbnNpb246IDAuNCxcclxuICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IDAuNVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBncmlkOiB7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2VlZScsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICBob3ZlcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmY2ZjZmMnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uIChsYWJlbCwgeCwgeSkgeyByZXR1cm4geCArICcgOiAnICsgeTsgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeGF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgdGlja0NvbG9yOiAnI2ZjZmNmYycsXHJcbiAgICAgICAgICAgICAgICAgIG1vZGU6ICdjYXRlZ29yaWVzJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeWF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICAgICAgICBtYXg6IDE1MCwgLy8gb3B0aW9uYWw6IHVzZSBpdCBmb3IgYSBjbGVhciByZXByZXNldGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgIHRpY2tDb2xvcjogJyNlZWUnLFxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogKCRzY29wZS5hcHAubGF5b3V0LmlzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0JyksXHJcbiAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXR0ZXI6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi8qICsgJyB2aXNpdG9ycycqLztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgc2hhZG93U2l6ZTogMFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBBUkVBXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuICAgICAgICAgIHZtLmFyZWFEYXRhID0gQ2hhcnREYXRhLmxvYWQoJ3NlcnZlci9jaGFydC9hcmVhLmpzb24nKTtcclxuICAgICAgICAgIHZtLmFyZWFPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgICBsaW5lczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IDAuOFxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDRcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZ3JpZDoge1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyNlZWUnLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgaG92ZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmNmY2ZjJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSxcclxuICAgICAgICAgICAgICB0b29sdGlwT3B0czoge1xyXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiBmdW5jdGlvbiAobGFiZWwsIHgsIHkpIHsgcmV0dXJuIHggKyAnIDogJyArIHk7IH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHhheGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRpY2tDb2xvcjogJyNmY2ZjZmMnLFxyXG4gICAgICAgICAgICAgICAgICBtb2RlOiAnY2F0ZWdvcmllcydcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHlheGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgdGlja0NvbG9yOiAnI2VlZScsXHJcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoJHNjb3BlLmFwcC5sYXlvdXQuaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnKSxcclxuICAgICAgICAgICAgICAgICAgdGlja0Zvcm1hdHRlcjogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ICsgJyB2aXNpdG9ycyc7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHNoYWRvd1NpemU6IDBcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gTElORVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcbiAgICAgICAgICB2bS5saW5lRGF0YSA9IENoYXJ0RGF0YS5sb2FkKCdzZXJ2ZXIvY2hhcnQvbGluZS5qc29uJyk7XHJcbiAgICAgICAgICB2bS5saW5lT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgbGluZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAwLjAxXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogNFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBncmlkOiB7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2VlZScsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICBob3ZlcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmY2ZjZmMnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uIChsYWJlbCwgeCwgeSkgeyByZXR1cm4geCArICcgOiAnICsgeTsgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeGF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgdGlja0NvbG9yOiAnI2VlZScsXHJcbiAgICAgICAgICAgICAgICAgIG1vZGU6ICdjYXRlZ29yaWVzJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeWF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICgkc2NvcGUuYXBwLmxheW91dC5pc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcpLFxyXG4gICAgICAgICAgICAgICAgICB0aWNrQ29sb3I6ICcjZWVlJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgc2hhZG93U2l6ZTogMFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBQSUVcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0ucGllRGF0YSA9IENoYXJ0RGF0YS5sb2FkKCdzZXJ2ZXIvY2hhcnQvcGllLmpzb24nKTtcclxuICAgICAgICAgIHZtLnBpZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHBpZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGlubmVyUmFkaXVzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMC44LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKGxhYmVsLCBzZXJpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiZmxvdC1waWUtbGFiZWxcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sYWJlbCArICcgOiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChzZXJpZXMucGVyY2VudCkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJTwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMjIyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gRE9OVVRcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0uZG9udXREYXRhID0gQ2hhcnREYXRhLmxvYWQoJ3NlcnZlci9jaGFydC9kb251dC5qc29uJyk7XHJcbiAgICAgICAgICB2bS5kb251dE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgIHBpZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGlubmVyUmFkaXVzOiAwLjUgLy8gVGhpcyBtYWtlcyB0aGUgZG9udXQgc2hhcGVcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gUkVBTFRJTUVcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0ucmVhbFRpbWVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgbGluZXM6IHsgc2hvdzogdHJ1ZSwgZmlsbDogdHJ1ZSwgZmlsbENvbG9yOiAgeyBjb2xvcnM6IFsnI2EwZTBmMycsICcjMjNiN2U1J10gfSB9LFxyXG4gICAgICAgICAgICAgICAgc2hhZG93U2l6ZTogMCAvLyBEcmF3aW5nIGlzIGZhc3RlciB3aXRob3V0IHNoYWRvd3NcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGdyaWQ6IHtcclxuICAgICAgICAgICAgICAgICAgc2hvdzpmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICAgIG1pbkJvcmRlck1hcmdpbjogMjAsXHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsTWFyZ2luOiAxMFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeGF4aXM6IHtcclxuICAgICAgICAgICAgICAgIHRpY2tGb3JtYXR0ZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHlheGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgbWF4OiAxMTBcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjb2xvcnM6IFsnIzIzYjdlNSddXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIEdlbmVyYXRlIHJhbmRvbSBkYXRhIGZvciByZWFsdGltZSBkZW1vXHJcbiAgICAgICAgICB2YXIgZGF0YSA9IFtdLCB0b3RhbFBvaW50cyA9IDMwMDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB1cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBnZXRSYW5kb21EYXRhKCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAvLyBEbyBhIHJhbmRvbSB3YWxrXHJcbiAgICAgICAgICAgIHdoaWxlIChkYXRhLmxlbmd0aCA8IHRvdGFsUG9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHByZXYgPSBkYXRhLmxlbmd0aCA+IDAgPyBkYXRhW2RhdGEubGVuZ3RoIC0gMV0gOiA1MCxcclxuICAgICAgICAgICAgICAgIHkgPSBwcmV2ICsgTWF0aC5yYW5kb20oKSAqIDEwIC0gNTtcclxuICAgICAgICAgICAgICBpZiAoeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgeSA9IDEwMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZGF0YS5wdXNoKHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFppcCB0aGUgZ2VuZXJhdGVkIHkgdmFsdWVzIHdpdGggdGhlIHggdmFsdWVzXHJcbiAgICAgICAgICAgIHZhciByZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgcmVzLnB1c2goW2ksIGRhdGFbaV1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW3Jlc107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIHZtLnJlYWxUaW1lRGF0YSA9IGdldFJhbmRvbURhdGEoKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQodXBkYXRlLCAzMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBlbmQgcmFuZG9tIGRhdGEgZ2VuZXJhdGlvblxyXG5cclxuXHJcbiAgICAgICAgICAvLyBQQU5FTCBSRUZSRVNIIEVWRU5UU1xyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgJHNjb3BlLiRvbigncGFuZWwtcmVmcmVzaCcsIGZ1bmN0aW9uKGV2ZW50LCBpZCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NpbXVsYXRpbmcgY2hhcnQgcmVmcmVzaCBkdXJpbmcgM3Mgb24gIycraWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gSW5zdGVhZCBvZiB0aW1lb3V0IHlvdSBjYW4gcmVxdWVzdCBhIGNoYXJ0IGRhdGFcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmUgbGlzdGVuIGZvciB0byByZW1vdmUgdGhlIHNwaW5uZXIgXHJcbiAgICAgICAgICAgICAgLy8gYWZ0ZXIgd2UgZW5kIHVwIHRvIHBlcmZvcm0gb3duIG9wZXJhdGlvbnNcclxuICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgncmVtb3ZlU3Bpbm5lcicsIGlkKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGVkICMnICsgaWQpO1xyXG5cclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgIC8vIFBBTkVMIERJU01JU1MgRVZFTlRTXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICAvLyBCZWZvcmUgcmVtb3ZlIHBhbmVsXHJcbiAgICAgICAgICAkc2NvcGUuJG9uKCdwYW5lbC1yZW1vdmUnLCBmdW5jdGlvbihldmVudCwgaWQsIGRlZmVycmVkKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYW5lbCAjJyArIGlkICsgJyByZW1vdmluZycpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSGVyZSBpcyBvYmxpZ2F0b3J5IHRvIGNhbGwgdGhlIHJlc29sdmUoKSBpZiB3ZSBwcmV0ZW5kIHRvIHJlbW92ZSB0aGUgcGFuZWwgZmluYWxseVxyXG4gICAgICAgICAgICAvLyBOb3QgY2FsbGluZyByZXNvbHZlKCkgd2lsbCBOT1QgcmVtb3ZlIHRoZSBwYW5lbFxyXG4gICAgICAgICAgICAvLyBJdCdzIHVwIHRvIHlvdXIgYXBwIHRvIGRlY2lkZSBpZiBwYW5lbCBzaG91bGQgYmUgcmVtb3ZlZCBvciBub3RcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBQYW5lbCByZW1vdmVkICggb25seSBpZiBhYm92ZSB3YXMgcmVzb2x2ZWQoKSApXHJcbiAgICAgICAgICAkc2NvcGUuJG9uKCdwYW5lbC1yZW1vdmVkJywgZnVuY3Rpb24oZXZlbnQsIGlkKXtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYW5lbCAjJyArIGlkICsgJyByZW1vdmVkJyk7XHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogZmxvdC5qc1xyXG4gKiBJbml0aWFsaXplcyB0aGUgRmxvdCBjaGFydCBwbHVnaW4gYW5kIGhhbmRsZXMgZGF0YSByZWZyZXNoXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuY2hhcnRzJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdmbG90JywgZmxvdCk7XHJcblxyXG4gICAgZmxvdC4kaW5qZWN0ID0gWyckaHR0cCcsICckdGltZW91dCddO1xyXG4gICAgZnVuY3Rpb24gZmxvdCAoJGh0dHAsICR0aW1lb3V0KSB7XHJcblxyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdj48L2Rpdj4nLFxyXG4gICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgZGF0YXNldDogJz0/JyxcclxuICAgICAgICAgICAgb3B0aW9uczogJz0nLFxyXG4gICAgICAgICAgICBzZXJpZXM6ICc9JyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICc9JyxcclxuICAgICAgICAgICAgc3JjOiAnPSdcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgdmFyIGhlaWdodCwgcGxvdCwgcGxvdEFyZWEsIHdpZHRoO1xyXG4gICAgICAgICAgdmFyIGhlaWdodERlZmF1bHQgPSAyMjA7XHJcblxyXG4gICAgICAgICAgcGxvdCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgd2lkdGggPSBhdHRycy53aWR0aCB8fCAnMTAwJSc7XHJcbiAgICAgICAgICBoZWlnaHQgPSBhdHRycy5oZWlnaHQgfHwgaGVpZ2h0RGVmYXVsdDtcclxuXHJcbiAgICAgICAgICBwbG90QXJlYSA9ICQoZWxlbWVudC5jaGlsZHJlbigpWzBdKTtcclxuICAgICAgICAgIHBsb3RBcmVhLmNzcyh7XHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgICAgIHZhciBwbG90T2JqO1xyXG4gICAgICAgICAgICBpZighc2NvcGUuZGF0YXNldCB8fCAhc2NvcGUub3B0aW9ucykgcmV0dXJuO1xyXG4gICAgICAgICAgICBwbG90T2JqID0gJC5wbG90KHBsb3RBcmVhLCBzY29wZS5kYXRhc2V0LCBzY29wZS5vcHRpb25zKTtcclxuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ3Bsb3RSZWFkeScsIHBsb3RPYmopO1xyXG4gICAgICAgICAgICBpZiAoc2NvcGUuY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICBzY29wZS5jYWxsYmFjayhwbG90T2JqLCBzY29wZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwbG90T2JqO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIG9uRGF0YXNldENoYW5nZWQoZGF0YXNldCkge1xyXG4gICAgICAgICAgICBpZiAocGxvdCkge1xyXG4gICAgICAgICAgICAgIHBsb3Quc2V0RGF0YShkYXRhc2V0KTtcclxuICAgICAgICAgICAgICBwbG90LnNldHVwR3JpZCgpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBwbG90LmRyYXcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwbG90ID0gaW5pdCgpO1xyXG4gICAgICAgICAgICAgIG9uU2VyaWVUb2dnbGVkKHNjb3BlLnNlcmllcyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHBsb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2RhdGFzZXQnLCBvbkRhdGFzZXRDaGFuZ2VkLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBvblNlcmllVG9nZ2xlZCAoc2VyaWVzKSB7XHJcbiAgICAgICAgICAgIGlmKCAhcGxvdCB8fCAhc2VyaWVzICkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc29tZURhdGEgPSBwbG90LmdldERhdGEoKTtcclxuICAgICAgICAgICAgZm9yKHZhciBzTmFtZSBpbiBzZXJpZXMpIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VyaWVzW3NOYW1lXSwgdG9nZ2xlRm9yKHNOYW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBsb3Quc2V0RGF0YShzb21lRGF0YSk7XHJcbiAgICAgICAgICAgIHBsb3QuZHJhdygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlRm9yKHNOYW1lKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzLCBpKXtcclxuICAgICAgICAgICAgICAgIGlmKHNvbWVEYXRhW2ldICYmIHNvbWVEYXRhW2ldW3NOYW1lXSlcclxuICAgICAgICAgICAgICAgICAgc29tZURhdGFbaV1bc05hbWVdLnNob3cgPSBzO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnc2VyaWVzJywgb25TZXJpZVRvZ2dsZWQsIHRydWUpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBmdW5jdGlvbiBvblNyY0NoYW5nZWQoc3JjKSB7XHJcblxyXG4gICAgICAgICAgICBpZiggc3JjICkge1xyXG5cclxuICAgICAgICAgICAgICAkaHR0cC5nZXQoc3JjKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YXNldCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJC5lcnJvcignRmxvdCBjaGFydDogQmFkIHJlcXVlc3QuJyk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnc3JjJywgb25TcmNDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IG1vcnJpcy5qc1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0NoYXJ0TW9ycmlzQ29udHJvbGxlcicsIENoYXJ0TW9ycmlzQ29udHJvbGxlcik7XHJcblxyXG4gICAgQ2hhcnRNb3JyaXNDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0aW1lb3V0JywgJ0NvbG9ycyddO1xyXG4gICAgZnVuY3Rpb24gQ2hhcnRNb3JyaXNDb250cm9sbGVyKCR0aW1lb3V0LCBDb2xvcnMpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICB2bS5jaGFydGRhdGEgPSBbXHJcbiAgICAgICAgICAgICAgeyB5OiAnMjAwNicsIGE6IDEwMCwgYjogOTAgfSxcclxuICAgICAgICAgICAgICB7IHk6ICcyMDA3JywgYTogNzUsICBiOiA2NSB9LFxyXG4gICAgICAgICAgICAgIHsgeTogJzIwMDgnLCBhOiA1MCwgIGI6IDQwIH0sXHJcbiAgICAgICAgICAgICAgeyB5OiAnMjAwOScsIGE6IDc1LCAgYjogNjUgfSxcclxuICAgICAgICAgICAgICB7IHk6ICcyMDEwJywgYTogNTAsICBiOiA0MCB9LFxyXG4gICAgICAgICAgICAgIHsgeTogJzIwMTEnLCBhOiA3NSwgIGI6IDY1IH0sXHJcbiAgICAgICAgICAgICAgeyB5OiAnMjAxMicsIGE6IDEwMCwgYjogOTAgfVxyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAvKiB0ZXN0IGRhdGEgdXBkYXRlXHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2bS5jaGFydGRhdGFbMF0uYSA9IDUwO1xyXG4gICAgICAgICAgICB2bS5jaGFydGRhdGFbMF0uYiA9IDUwO1xyXG4gICAgICAgICAgfSwgMzAwMCk7ICovXHJcblxyXG4gICAgICAgICAgdm0uZG9udXRkYXRhID0gW1xyXG4gICAgICAgICAgICB7bGFiZWw6ICdEb3dubG9hZCBTYWxlcycsIHZhbHVlOiAxMn0sXHJcbiAgICAgICAgICAgIHtsYWJlbDogJ0luLVN0b3JlIFNhbGVzJyx2YWx1ZTogMzB9LFxyXG4gICAgICAgICAgICB7bGFiZWw6ICdNYWlsLU9yZGVyIFNhbGVzJywgdmFsdWU6IDIwfVxyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICB2bS5kb251dE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIENvbG9yczogWyBDb2xvcnMuYnlOYW1lKCdkYW5nZXInKSwgQ29sb3JzLmJ5TmFtZSgneWVsbG93JyksIENvbG9ycy5ieU5hbWUoJ3dhcm5pbmcnKSBdLFxyXG4gICAgICAgICAgICByZXNpemU6IHRydWVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uYmFyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgeGtleTogJ3knLFxyXG4gICAgICAgICAgICB5a2V5czogWydhJywgJ2InXSxcclxuICAgICAgICAgICAgbGFiZWxzOiBbJ1NlcmllcyBBJywgJ1NlcmllcyBCJ10sXHJcbiAgICAgICAgICAgIHhMYWJlbE1hcmdpbjogMixcclxuICAgICAgICAgICAgYmFyQ29sb3JzOiBbIENvbG9ycy5ieU5hbWUoJ2luZm8nKSwgQ29sb3JzLmJ5TmFtZSgnZGFuZ2VyJykgXSxcclxuICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmxpbmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICB4a2V5OiAneScsXHJcbiAgICAgICAgICAgIHlrZXlzOiBbJ2EnLCAnYiddLFxyXG4gICAgICAgICAgICBsYWJlbHM6IFsnU2VyaWUgQScsICdTZXJpZSBCJ10sXHJcbiAgICAgICAgICAgIGxpbmVDb2xvcnM6IFsnIzMxQzBCRScsICcjN2E5MmEzJ10sXHJcbiAgICAgICAgICAgIHJlc2l6ZTogdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5hcmVhT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgeGtleTogJ3knLFxyXG4gICAgICAgICAgICB5a2V5czogWydhJywgJ2InXSxcclxuICAgICAgICAgICAgbGFiZWxzOiBbJ1NlcmllIEEnLCAnU2VyaWUgQiddLFxyXG4gICAgICAgICAgICBsaW5lQ29sb3JzOiBbIENvbG9ycy5ieU5hbWUoJ3B1cnBsZScpLCBDb2xvcnMuYnlOYW1lKCdpbmZvJykgXSxcclxuICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IG1vcnJpcy5qc1xyXG4gKiBBbmd1bGFySlMgRGlyZWN0aXZlcyBmb3IgTW9ycmlzIENoYXJ0c1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbW9ycmlzQmFyJywgICBtb3JyaXNDaGFydCgnQmFyJykgICApXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbW9ycmlzRG9udXQnLCBtb3JyaXNDaGFydCgnRG9udXQnKSApXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbW9ycmlzTGluZScsICBtb3JyaXNDaGFydCgnTGluZScpICApXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnbW9ycmlzQXJlYScsICBtb3JyaXNDaGFydCgnQXJlYScpICApO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1vcnJpc0NoYXJ0KHR5cGUpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICBtb3JyaXNEYXRhOiAnPScsXHJcbiAgICAgICAgICAgIG1vcnJpc09wdGlvbnM6ICc9J1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyBzdGFydCByZWFkeSB0byB3YXRjaCBmb3IgY2hhbmdlcyBpbiBkYXRhXHJcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ21vcnJpc0RhdGEnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgICBpZiAobmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9ycmlzSW5zdGFuY2Uuc2V0RGF0YShuZXdWYWwpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vcnJpc0luc3RhbmNlLnJlZHJhdygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGNoYXJ0XHJcbiAgICAgICAgICAgICRzY29wZS5tb3JyaXNPcHRpb25zLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAvLyBJZiBkYXRhIGRlZmluZWQgY29weSB0byBvcHRpb25zXHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5tb3JyaXNEYXRhKVxyXG4gICAgICAgICAgICAgICRzY29wZS5tb3JyaXNPcHRpb25zLmRhdGEgPSAkc2NvcGUubW9ycmlzRGF0YTtcclxuICAgICAgICAgICAgLy8gSW5pdCBjaGFydFxyXG4gICAgICAgICAgICAkc2NvcGUubW9ycmlzSW5zdGFuY2UgPSBuZXcgTW9ycmlzW3R5cGVdKCRzY29wZS5tb3JyaXNPcHRpb25zKTtcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IFBpZUNoYXJ0c0NvbnRyb2xsZXIuanNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jaGFydHMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdQaWVDaGFydHNDb250cm9sbGVyJywgUGllQ2hhcnRzQ29udHJvbGxlcik7XHJcblxyXG4gICAgLypqc2hpbnQgLVcwNjkqL1xyXG4gICAgUGllQ2hhcnRzQ29udHJvbGxlci4kaW5qZWN0ID0gWydDb2xvcnMnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBQaWVDaGFydHNDb250cm9sbGVyKENvbG9ycykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG4gICAgICAgICAgLy8gS05PQiBDaGFydHNcclxuXHJcbiAgICAgICAgICB2bS5rbm9iTG9hZGVyRGF0YTEgPSA4MDtcclxuICAgICAgICAgIHZtLmtub2JMb2FkZXJPcHRpb25zMSA9IHtcclxuICAgICAgICAgICAgICB3aWR0aDogJzUwJScsIC8vIHJlc3BvbnNpdmVcclxuICAgICAgICAgICAgICBkaXNwbGF5SW5wdXQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgZmdDb2xvcjogQ29sb3JzLmJ5TmFtZSgnaW5mbycpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0ua25vYkxvYWRlckRhdGEyID0gNDU7XHJcbiAgICAgICAgICB2bS5rbm9iTG9hZGVyT3B0aW9uczIgPSB7XHJcbiAgICAgICAgICAgICAgd2lkdGg6ICc1MCUnLCAvLyByZXNwb25zaXZlXHJcbiAgICAgICAgICAgICAgZGlzcGxheUlucHV0OiB0cnVlLFxyXG4gICAgICAgICAgICAgIGZnQ29sb3I6IENvbG9ycy5ieU5hbWUoJ3B1cnBsZScpLFxyXG4gICAgICAgICAgICAgIHJlYWRPbmx5IDogdHJ1ZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmtub2JMb2FkZXJEYXRhMyA9IDMwO1xyXG4gICAgICAgICAgdm0ua25vYkxvYWRlck9wdGlvbnMzID0ge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAnNTAlJywgLy8gcmVzcG9uc2l2ZVxyXG4gICAgICAgICAgICAgIGRpc3BsYXlJbnB1dDogdHJ1ZSxcclxuICAgICAgICAgICAgICBmZ0NvbG9yOiBDb2xvcnMuYnlOYW1lKCdwaW5rJyksXHJcbiAgICAgICAgICAgICAgZGlzcGxheVByZXZpb3VzIDogdHJ1ZSxcclxuICAgICAgICAgICAgICB0aGlja25lc3MgOiAwLjEsXHJcbiAgICAgICAgICAgICAgbGluZUNhcCA6ICdyb3VuZCdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5rbm9iTG9hZGVyRGF0YTQgPSAyMDtcclxuICAgICAgICAgIHZtLmtub2JMb2FkZXJPcHRpb25zNCA9IHtcclxuICAgICAgICAgICAgICB3aWR0aDogJzUwJScsIC8vIHJlc3BvbnNpdmVcclxuICAgICAgICAgICAgICBkaXNwbGF5SW5wdXQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgZmdDb2xvcjogQ29sb3JzLmJ5TmFtZSgnaW5mbycpLFxyXG4gICAgICAgICAgICAgIGJnQ29sb3I6IENvbG9ycy5ieU5hbWUoJ2dyYXknKSxcclxuICAgICAgICAgICAgICBhbmdsZU9mZnNldDogLTEyNSxcclxuICAgICAgICAgICAgICBhbmdsZUFyYzogMjUwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gRWFzeSBQaWUgQ2hhcnRzXHJcblxyXG4gICAgICAgICAgdm0ucGllUGVyY2VudDEgPSA4NTtcclxuICAgICAgICAgIHZtLnBpZVBlcmNlbnQyID0gNDU7XHJcbiAgICAgICAgICB2bS5waWVQZXJjZW50MyA9IDI1O1xyXG4gICAgICAgICAgdm0ucGllUGVyY2VudDQgPSA2MDtcclxuXHJcbiAgICAgICAgICB2bS5waWVPcHRpb25zMSA9IHtcclxuICAgICAgICAgICAgICBhbmltYXRlOntcclxuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcclxuICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgYmFyQ29sb3I6IENvbG9ycy5ieU5hbWUoJ3N1Y2Nlc3MnKSxcclxuICAgICAgICAgICAgICB0cmFja0NvbG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICBzY2FsZUNvbG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICBsaW5lV2lkdGg6IDEwLFxyXG4gICAgICAgICAgICAgIGxpbmVDYXA6ICdjaXJjbGUnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnBpZU9wdGlvbnMyPSB7XHJcbiAgICAgICAgICAgICAgYW5pbWF0ZTp7XHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJhckNvbG9yOiBDb2xvcnMuYnlOYW1lKCd3YXJuaW5nJyksXHJcbiAgICAgICAgICAgICAgdHJhY2tDb2xvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgc2NhbGVDb2xvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbGluZVdpZHRoOiA0LFxyXG4gICAgICAgICAgICAgIGxpbmVDYXA6ICdjaXJjbGUnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnBpZU9wdGlvbnMzID0ge1xyXG4gICAgICAgICAgICAgIGFuaW1hdGU6e1xyXG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwLFxyXG4gICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBiYXJDb2xvcjogQ29sb3JzLmJ5TmFtZSgnZGFuZ2VyJyksXHJcbiAgICAgICAgICAgICAgdHJhY2tDb2xvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgc2NhbGVDb2xvcjogQ29sb3JzLmJ5TmFtZSgnZ3JheScpLFxyXG4gICAgICAgICAgICAgIGxpbmVXaWR0aDogMTUsXHJcbiAgICAgICAgICAgICAgbGluZUNhcDogJ2NpcmNsZSdcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0ucGllT3B0aW9uczQgPSB7XHJcbiAgICAgICAgICAgICAgYW5pbWF0ZTp7XHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJhckNvbG9yOiBDb2xvcnMuYnlOYW1lKCdkYW5nZXInKSxcclxuICAgICAgICAgICAgICB0cmFja0NvbG9yOiBDb2xvcnMuYnlOYW1lKCd5ZWxsb3cnKSxcclxuICAgICAgICAgICAgICBzY2FsZUNvbG9yOiBDb2xvcnMuYnlOYW1lKCdncmF5LWRhcmsnKSxcclxuICAgICAgICAgICAgICBsaW5lV2lkdGg6IDE1LFxyXG4gICAgICAgICAgICAgIGxpbmVDYXA6ICdjaXJjbGUnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKCB0eXBlID09PSAnZWFzeScpIHtcclxuICAgICAgICAgICAgICB2bS5waWVQZXJjZW50MSA9IHJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgIHZtLnBpZVBlcmNlbnQyID0gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgdm0ucGllUGVyY2VudDMgPSByYW5kb20oKTtcclxuICAgICAgICAgICAgICB2bS5waWVQZXJjZW50NCA9IHJhbmRvbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICggdHlwZSA9PT0gJ2tub2InKSB7XHJcbiAgICAgICAgICAgICAgdm0ua25vYkxvYWRlckRhdGExID0gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgdm0ua25vYkxvYWRlckRhdGEyID0gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgdm0ua25vYkxvYWRlckRhdGEzID0gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgdm0ua25vYkxvYWRlckRhdGE0ID0gcmFuZG9tKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiByYW5kb20oKSB7IHJldHVybiBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTAwKSArIDEpOyB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogcmlja3NoYXcuanNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jaGFydHMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDaGFydFJpY2tzaGF3Q29udHJvbGxlcicsIENoYXJ0Umlja3NoYXdDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBDaGFydFJpY2tzaGF3Q29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIHZtLnJlbmRlcmVycyA9IFt7XHJcbiAgICAgICAgICAgICAgICAgIGlkOiAnYXJlYScsXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdBcmVhJ1xyXG4gICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgaWQ6ICdsaW5lJyxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogJ0xpbmUnXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICBpZDogJ2JhcicsXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdCYXInXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICBpZDogJ3NjYXR0ZXJwbG90JyxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogJ1NjYXR0ZXJwbG90J1xyXG4gICAgICAgICAgICAgIH1dO1xyXG5cclxuICAgICAgICAgIHZtLnBhbGV0dGVzID0gW1xyXG4gICAgICAgICAgICAgICdzcGVjdHJ1bTE0JyxcclxuICAgICAgICAgICAgICAnc3BlY3RydW0yMDAwJyxcclxuICAgICAgICAgICAgICAnc3BlY3RydW0yMDAxJyxcclxuICAgICAgICAgICAgICAnY29sb3J3aGVlbCcsXHJcbiAgICAgICAgICAgICAgJ2Nvb2wnLFxyXG4gICAgICAgICAgICAgICdjbGFzc2ljOScsXHJcbiAgICAgICAgICAgICAgJ211bmluJ1xyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICB2bS5yZW5kZXJlckNoYW5nZWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICAgIHZtWydvcHRpb25zJyArIGlkXSA9IHtcclxuICAgICAgICAgICAgICAgICAgcmVuZGVyZXI6IHZtWydyZW5kZXJlcicgKyBpZF0uaWRcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5wYWxldHRlQ2hhbmdlZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgdm1bJ2ZlYXR1cmVzJyArIGlkXSA9IHtcclxuICAgICAgICAgICAgICAgICAgcGFsZXR0ZTogdm1bJ3BhbGV0dGUnICsgaWRdXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uY2hhbmdlU2VyaWVzRGF0YSA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHNlcmllc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc2VyaWVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NlcmllcyAnICsgKGkgKyAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTA7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VyaWVzLmRhdGEucHVzaCh7eDogaiwgeTogTWF0aC5yYW5kb20oKSAqIDIwfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgc2VyaWVzTGlzdC5wdXNoKHNlcmllcyk7XHJcbiAgICAgICAgICAgICAgICAgIHZtWydzZXJpZXMnICsgaWRdW2ldID0gc2VyaWVzO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvL3ZtWydzZXJpZXMnICsgaWRdID0gc2VyaWVzTGlzdDtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uc2VyaWVzMCA9IFtdO1xyXG5cclxuICAgICAgICAgIHZtLm9wdGlvbnMwID0ge1xyXG4gICAgICAgICAgICByZW5kZXJlcjogJ2FyZWEnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnJlbmRlcmVyMCA9IHZtLnJlbmRlcmVyc1swXTtcclxuICAgICAgICAgIHZtLnBhbGV0dGUwID0gdm0ucGFsZXR0ZXNbMF07XHJcblxyXG4gICAgICAgICAgdm0ucmVuZGVyZXJDaGFuZ2VkKDApO1xyXG4gICAgICAgICAgdm0ucGFsZXR0ZUNoYW5nZWQoMCk7XHJcbiAgICAgICAgICB2bS5jaGFuZ2VTZXJpZXNEYXRhKDApOyAgXHJcblxyXG4gICAgICAgICAgLy8gR3JhcGggMlxyXG5cclxuICAgICAgICAgIHZhciBzZXJpZXNEYXRhID0gWyBbXSwgW10sIFtdIF07XHJcbiAgICAgICAgICB2YXIgcmFuZG9tID0gbmV3IFJpY2tzaGF3LkZpeHR1cmVzLlJhbmRvbURhdGEoMTUwKTtcclxuXHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE1MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJhbmRvbS5hZGREYXRhKHNlcmllc0RhdGEpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZtLnNlcmllczIgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogJyNjMDUwMjAnLFxyXG4gICAgICAgICAgICAgIGRhdGE6IHNlcmllc0RhdGFbMF0sXHJcbiAgICAgICAgICAgICAgbmFtZTogJ05ldyBZb3JrJ1xyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICcjMzBjMDIwJyxcclxuICAgICAgICAgICAgICBkYXRhOiBzZXJpZXNEYXRhWzFdLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdMb25kb24nXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICBjb2xvcjogJyM2MDYwYzAnLFxyXG4gICAgICAgICAgICAgIGRhdGE6IHNlcmllc0RhdGFbMl0sXHJcbiAgICAgICAgICAgICAgbmFtZTogJ1Rva3lvJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLm9wdGlvbnMyID0ge1xyXG4gICAgICAgICAgICByZW5kZXJlcjogJ2FyZWEnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBzcGFya2xpbmUuanNcbiAqIFNwYXJrTGluZXMgTWluaSBDaGFydHNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuIFxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNoYXJ0cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NwYXJrbGluZScsIHNwYXJrbGluZSk7XG5cbiAgICBmdW5jdGlvbiBzcGFya2xpbmUgKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAnc3BhcmtsaW5lJzogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlclxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgfVxuICAgIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyR0aW1lb3V0JywgJyR3aW5kb3cnXTtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICR0aW1lb3V0LCAkd2luZG93KSB7XG4gICAgICB2YXIgcnVuU0wgPSBmdW5jdGlvbigpe1xuICAgICAgICBpbml0U3BhckxpbmUoKTtcbiAgICAgIH07XG5cbiAgICAgICR0aW1lb3V0KHJ1blNMKTtcbiAgXG4gICAgICBmdW5jdGlvbiBpbml0U3BhckxpbmUoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gJHNjb3BlLnNwYXJrbGluZSxcbiAgICAgICAgICAgIGRhdGEgPSAkZWxlbWVudC5kYXRhKCk7XG4gICAgICAgIFxuICAgICAgICBpZighb3B0aW9ucykgLy8gaWYgbm8gc2NvcGUgb3B0aW9ucywgdHJ5IHdpdGggZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgICAgb3B0aW9ucyA9IGRhdGE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpZihkYXRhKSAvLyBkYXRhIGF0dHJpYnV0ZXMgb3ZlcnJpZGVzIHNjb3BlIG9wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9ucywgZGF0YSk7XG5cbiAgICAgICAgb3B0aW9ucy50eXBlID0gb3B0aW9ucy50eXBlIHx8ICdiYXInOyAvLyBkZWZhdWx0IGNoYXJ0IGlzIGJhclxuICAgICAgICBvcHRpb25zLmRpc2FibGVIaWRkZW5DaGVjayA9IHRydWU7XG5cbiAgICAgICAgJGVsZW1lbnQuc3BhcmtsaW5lKCdodG1sJywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYob3B0aW9ucy5yZXNpemUpIHtcbiAgICAgICAgICAkKCR3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgJGVsZW1lbnQuc3BhcmtsaW5lKCdodG1sJywgb3B0aW9ucyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH1cbiAgICBcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvbG9ycycpXHJcbiAgICAgICAgLmNvbnN0YW50KCdBUFBfQ09MT1JTJywge1xyXG4gICAgICAgICAgJ3ByaW1hcnknOiAgICAgICAgICAgICAgICAnIzVkOWNlYycsXHJcbiAgICAgICAgICAnc3VjY2Vzcyc6ICAgICAgICAgICAgICAgICcjMjdjMjRjJyxcclxuICAgICAgICAgICdpbmZvJzogICAgICAgICAgICAgICAgICAgJyMyM2I3ZTUnLFxyXG4gICAgICAgICAgJ3dhcm5pbmcnOiAgICAgICAgICAgICAgICAnI2ZmOTAyYicsXHJcbiAgICAgICAgICAnZGFuZ2VyJzogICAgICAgICAgICAgICAgICcjZjA1MDUwJyxcclxuICAgICAgICAgICdpbnZlcnNlJzogICAgICAgICAgICAgICAgJyMxMzFlMjYnLFxyXG4gICAgICAgICAgJ2dyZWVuJzogICAgICAgICAgICAgICAgICAnIzM3YmM5YicsXHJcbiAgICAgICAgICAncGluayc6ICAgICAgICAgICAgICAgICAgICcjZjUzMmU1JyxcclxuICAgICAgICAgICdwdXJwbGUnOiAgICAgICAgICAgICAgICAgJyM3MjY2YmEnLFxyXG4gICAgICAgICAgJ2RhcmsnOiAgICAgICAgICAgICAgICAgICAnIzNhM2Y1MScsXHJcbiAgICAgICAgICAneWVsbG93JzogICAgICAgICAgICAgICAgICcjZmFkNzMyJyxcclxuICAgICAgICAgICdncmF5LWRhcmtlcic6ICAgICAgICAgICAgJyMyMzI3MzUnLFxyXG4gICAgICAgICAgJ2dyYXktZGFyayc6ICAgICAgICAgICAgICAnIzNhM2Y1MScsXHJcbiAgICAgICAgICAnZ3JheSc6ICAgICAgICAgICAgICAgICAgICcjZGRlNmU5JyxcclxuICAgICAgICAgICdncmF5LWxpZ2h0JzogICAgICAgICAgICAgJyNlNGVhZWMnLFxyXG4gICAgICAgICAgJ2dyYXktbGlnaHRlcic6ICAgICAgICAgICAnI2VkZjFmMidcclxuICAgICAgICB9KVxyXG4gICAgICAgIDtcclxufSkoKTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogY29sb3JzLmpzXG4gKiBTZXJ2aWNlcyB0byByZXRyaWV2ZSBnbG9iYWwgY29sb3JzXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvbG9ycycpXG4gICAgICAgIC5zZXJ2aWNlKCdDb2xvcnMnLCBDb2xvcnMpO1xuXG4gICAgQ29sb3JzLiRpbmplY3QgPSBbJ0FQUF9DT0xPUlMnXTtcbiAgICBmdW5jdGlvbiBDb2xvcnMoQVBQX0NPTE9SUykge1xuICAgICAgICB0aGlzLmJ5TmFtZSA9IGJ5TmFtZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYnlOYW1lKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gKEFQUF9DT0xPUlNbbmFtZV0gfHwgJyNmZmYnKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvcmUnKVxyXG4gICAgICAgIC5jb25maWcoY29yZUNvbmZpZylcclxuICAgICAgICAuY29uZmlnKGxvb3BiYWNrQ29uZmlnKVxyXG4gICAgO1xyXG5cclxuICAgIGNvcmVDb25maWcuJGluamVjdCA9IFsnJGNvbnRyb2xsZXJQcm92aWRlcicsICckY29tcGlsZVByb3ZpZGVyJywgJyRmaWx0ZXJQcm92aWRlcicsICckcHJvdmlkZScsICckaHR0cFByb3ZpZGVyJ107XHJcbiAgICBmdW5jdGlvbiBjb3JlQ29uZmlnKCRjb250cm9sbGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRmaWx0ZXJQcm92aWRlciwgJHByb3ZpZGUsICRodHRwUHJvdmlkZXIpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGNvcmUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvcmUnKTtcclxuICAgICAgLy8gcmVnaXN0ZXJpbmcgY29tcG9uZW50cyBhZnRlciBib290c3RyYXBcclxuICAgICAgY29yZS5jb250cm9sbGVyID0gJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcjtcclxuICAgICAgY29yZS5kaXJlY3RpdmUgID0gJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmU7XHJcbiAgICAgIGNvcmUuZmlsdGVyICAgICA9ICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcjtcclxuICAgICAgY29yZS5mYWN0b3J5ICAgID0gJHByb3ZpZGUuZmFjdG9yeTtcclxuICAgICAgY29yZS5zZXJ2aWNlICAgID0gJHByb3ZpZGUuc2VydmljZTtcclxuICAgICAgY29yZS5jb25zdGFudCAgID0gJHByb3ZpZGUuY29uc3RhbnQ7XHJcbiAgICAgIGNvcmUudmFsdWUgICAgICA9ICRwcm92aWRlLnZhbHVlO1xyXG5cclxuICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgJGxvY2F0aW9uLCBMb29wQmFja0F1dGgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09IDQwMSkge1xyXG4gICAgICAgICAgICAgIExvb3BCYWNrQXV0aC5jbGVhclVzZXIoKTtcclxuICAgICAgICAgICAgICBMb29wQmFja0F1dGguY2xlYXJTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9wYWdlL2xvZ2luJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7ICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgbG9vcGJhY2tDb25maWcuJGluamVjdCA9IFsnTG9vcEJhY2tSZXNvdXJjZVByb3ZpZGVyJywgJ3VybEJhc2UnXTtcclxuICAgIGZ1bmN0aW9uIGxvb3BiYWNrQ29uZmlnKExvb3BCYWNrUmVzb3VyY2VQcm92aWRlciwgdXJsQmFzZSkge1xyXG4gICAgICBMb29wQmFja1Jlc291cmNlUHJvdmlkZXIuc2V0VXJsQmFzZSh1cmxCYXNlKTtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogY29uc3RhbnRzLmpzXHJcbiAqIERlZmluZSBjb25zdGFudHMgdG8gaW5qZWN0IGFjcm9zcyB0aGUgYXBwbGljYXRpb25cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5jb3JlJylcclxuICAgICAgICAuY29uc3RhbnQoJ0FQUF9NRURJQVFVRVJZJywge1xyXG4gICAgICAgICAgJ2Rlc2t0b3BMRyc6ICAgICAgICAgICAgIDEyMDAsXHJcbiAgICAgICAgICAnZGVza3RvcCc6ICAgICAgICAgICAgICAgIDk5MixcclxuICAgICAgICAgICd0YWJsZXQnOiAgICAgICAgICAgICAgICAgNzY4LFxyXG4gICAgICAgICAgJ21vYmlsZSc6ICAgICAgICAgICAgICAgICA0ODBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jb25zdGFudCgndXJsQmFzZScsIFwiaHR0cDovLzAuMC4wLjA6MzAwMC9hcGlcIilcclxuICAgICAgICAvLyAuY29uc3RhbnQoJ3VybEJhc2UnLCBcImh0dHA6Ly9hcGkuZmFua2FodWkuY29tOjMwMDAvYXBpXCIpXHJcbiAgICAgIDtcclxuXHJcbn0pKCk7IiwiLyoqXG4gKiBBbmd1bGFySlMgZGVmYXVsdCBmaWx0ZXIgd2l0aCB0aGUgZm9sbG93aW5nIGV4cHJlc3Npb246XG4gKiBcInBlcnNvbiBpbiBwZW9wbGUgfCBmaWx0ZXI6IHtuYW1lOiAkc2VsZWN0LnNlYXJjaCwgYWdlOiAkc2VsZWN0LnNlYXJjaH1cIlxuICogcGVyZm9ybXMgYSBBTkQgYmV0d2VlbiAnbmFtZTogJHNlbGVjdC5zZWFyY2gnIGFuZCAnYWdlOiAkc2VsZWN0LnNlYXJjaCcuXG4gKiBXZSB3YW50IHRvIHBlcmZvcm0gYSBPUi5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuY29yZScpXG4gICAgICAgIC5maWx0ZXIoJ3JvbGUnLCByb2xlRmlsdGVyKVxuICAgIDtcblxuICAgIGZ1bmN0aW9uIHJvbGVGaWx0ZXIoKSB7XG4gICAgICAgIHZhciByb2xlID0ge1xuICAgICAgICAgIG93bmVyOiBcIuiAgeadv1wiLFxuICAgICAgICAgIHNob3BNYW5hZ2VyOiBcIuW6l+mVv1wiLFxuICAgICAgICAgIGNhc2hpZXI6IFwi5pS26ZO25ZGYXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiByb2xlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmNvcmUnKVxyXG4gICAgICAgIC5ydW4oYXBwUnVuKVxyXG4gICAgICAgIC5ydW4oY3VycmVudFVzZXJSdW4pXHJcbiAgICA7XHJcblxyXG4gICAgYXBwUnVuLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICAnJHdpbmRvdycsICckdGVtcGxhdGVDYWNoZScsICdDb2xvcnMnXTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYXBwUnVuKCRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkd2luZG93LCAkdGVtcGxhdGVDYWNoZSwgQ29sb3JzKSB7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgcmVmZXJlbmNlIHRvIGFjY2VzcyB0aGVtIGZyb20gYW55IHNjb3BlXHJcbiAgICAgICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlO1xyXG4gICAgICAkcm9vdFNjb3BlLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcclxuICAgICAgJHJvb3RTY29wZS4kc3RvcmFnZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlO1xyXG5cclxuICAgICAgLy8gVW5jb21tZW50IHRoaXMgdG8gZGlzYWJsZSB0ZW1wbGF0ZSBjYWNoZVxyXG4gICAgICAvKiRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mKHRvU3RhdGUpICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnJlbW92ZSh0b1N0YXRlLnRlbXBsYXRlVXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7Ki9cclxuXHJcbiAgICAgIC8vIEFsbG93cyB0byB1c2UgYnJhbmRpbmcgY29sb3Igd2l0aCBpbnRlcnBvbGF0aW9uXHJcbiAgICAgIC8vIHt7IGNvbG9yQnlOYW1lKCdwcmltYXJ5JykgfX1cclxuICAgICAgJHJvb3RTY29wZS5jb2xvckJ5TmFtZSA9IENvbG9ycy5ieU5hbWU7XHJcblxyXG4gICAgICAvLyBjYW5jZWwgY2xpY2sgZXZlbnQgZWFzaWx5XHJcbiAgICAgICRyb290U2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oJGV2ZW50KSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gSG9va3MgRXhhbXBsZVxyXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgIC8vIEhvb2sgbm90IGZvdW5kXHJcbiAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVOb3RGb3VuZCcsXHJcbiAgICAgICAgZnVuY3Rpb24oZXZlbnQsIHVuZm91bmRTdGF0ZS8qLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMqLykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1bmZvdW5kU3RhdGUudG8pOyAvLyBcImxhenkuc3RhdGVcIlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1bmZvdW5kU3RhdGUudG9QYXJhbXMpOyAvLyB7YToxLCBiOjJ9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVuZm91bmRTdGF0ZS5vcHRpb25zKTsgLy8ge2luaGVyaXQ6ZmFsc2V9ICsgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIC8vIEhvb2sgZXJyb3JcclxuICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJyxcclxuICAgICAgICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAvLyBIb29rIHN1Y2Nlc3NcclxuICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLFxyXG4gICAgICAgIGZ1bmN0aW9uKC8qZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMqLykge1xyXG4gICAgICAgICAgLy8gZGlzcGxheSBuZXcgdmlldyBmcm9tIHRvcFxyXG4gICAgICAgICAgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICAgIC8vIFNhdmUgdGhlIHJvdXRlIHRpdGxlXHJcbiAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJUaXRsZSA9ICRzdGF0ZS5jdXJyZW50LnRpdGxlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gTG9hZCBhIHRpdGxlIGR5bmFtaWNhbGx5XHJcbiAgICAgICRyb290U2NvcGUuY3VyclRpdGxlID0gJHN0YXRlLmN1cnJlbnQudGl0bGU7XHJcbiAgICAgICRyb290U2NvcGUucGFnZVRpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gJHJvb3RTY29wZS5hcHAubmFtZSArICcgLSAnICsgKCRyb290U2NvcGUuY3VyclRpdGxlIHx8ICRyb290U2NvcGUuYXBwLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHJldHVybiB0aXRsZTtcclxuICAgICAgfTsgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudFVzZXJSdW4uJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdVc2VyJywgJyRmaWx0ZXInXTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY3VycmVudFVzZXJSdW4oJHJvb3RTY29wZSwgVXNlciwgJGZpbHRlcikge1xyXG4gICAgICBcclxuICAgICAgdXNlckRpZExvZ2luZWQoKTtcclxuICAgICAgXHJcbiAgICAgIGZ1bmN0aW9uIHVzZXJEaWRMb2dpbmVkKCkge1xyXG4gICAgICAgIGlmKFVzZXIuaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuICAgICAgICAgIFVzZXIuZmluZEJ5SWQoe2lkOiBVc2VyLmdldEN1cnJlbnRJZCgpLCBmaWx0ZXI6e2luY2x1ZGU6WydzaG9wJywgJ21lcmNoYW50J119fSlcclxuICAgICAgICAgIC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgIHVzZXIuam9iID0gJGZpbHRlcigncm9sZScpKHVzZXIucm9sZSk7XHJcbiAgICAgICAgICAgIHVzZXIubmFtZSA9IHVzZXIubmFtZSB8fCB1c2VyLnVzZXJuYW1lO1xyXG4gICAgICAgICAgICB1c2VyLnBpY3R1cmUgPSAnYXBwL2ltZy9kdW1teS5wbmcnO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAkcm9vdFNjb3BlLiRvbignVXNlci5sb2dpbmVkJywgdXNlckRpZExvZ2luZWQpO1xyXG4gICAgICBcclxuICAgIH1cclxufSkoKTtcclxuXHJcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdhcHAuY29zdHMnKVxuICAgICAgLmNvbnRyb2xsZXIoJ0Nvc3RzQ29udHJvbGxlcicsIENvc3RzQ29udHJvbGxlcilcbiAgICAgIC5jb250cm9sbGVyKCdDb3N0Q2F0ZWdvcmllc0NvbnRyb2xsZXInLCBDb3N0Q2F0ZWdvcmllc0NvbnRyb2xsZXIpXG4gICAgICAuY29udHJvbGxlcignY29zdERpYWxvZ0NvbnRyb2xsZXInLCBjb3N0RGlhbG9nQ29udHJvbGxlcilcbiAgICA7XG4gICAgICBcbiAgICBDb3N0c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ0Nvc3QnLCAnbmdUYWJsZVBhcmFtcycsICduZ1RhYmxlTEJTZXJ2aWNlJywgJ1N3ZWV0QWxlcnQnLCAnbmdEaWFsb2cnXTtcbiAgICBmdW5jdGlvbiBDb3N0c0NvbnRyb2xsZXIoJHNjb3BlLCBDb3N0LCBuZ1RhYmxlUGFyYW1zLCBuZ1RhYmxlTEJTZXJ2aWNlLCBTd2VldEFsZXJ0LCBuZ0RpYWxvZykge1xuICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgdm0uZHQgPSB7XG4gICAgICAgIG9wdGlvbnM6IHsgXG4gICAgICAgICAgZm9ybWF0WWVhcjogJ3l5JyxcbiAgICAgICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKDIwMTYsMSwxKSxcbiAgICAgICAgICBzdGFydGluZ0RheTogMVxuICAgICAgICB9LFxuICAgICAgICBiZWdpbjoge1xuICAgICAgICAgIGR0OiBuZXcgRGF0ZShtb21lbnQoKS5zdGFydE9mKCdtb250aCcpKSxcbiAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBlbmQ6IHtcbiAgICAgICAgICBkdDogbmV3IERhdGUoKSxcbiAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICB2bS50YWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtjb3VudDogMTB9LCB7XG4gICAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSB7d2hlcmU6e1xuICAgICAgICAgICAgICBzdGF0dXM6e25lOidkZWxldGVkJ30sXG4gICAgICAgICAgICAgIG1vZGlmaWVkOiB7YmV0d2VlbjogW1xuICAgICAgICAgICAgICAgIG1vbWVudCh2bS5kdC5iZWdpbi5kdCkuc3RhcnRPZignZGF5JyksIFxuICAgICAgICAgICAgICAgIG1vbWVudCh2bS5kdC5lbmQuZHQpLmVuZE9mKCdkYXknKVxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG5nVGFibGVMQlNlcnZpY2UuZ2V0RGF0YSgkZGVmZXIsIHBhcmFtcywgQ29zdCwgZmlsdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG5cbiAgICAgIHZtLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbmdEaWFsb2cub3Blbih7IFxuICAgICAgICAgIHRlbXBsYXRlOiAnY29zdERpYWxvZ0lkJywgXG4gICAgICAgICAgY29udHJvbGxlcjogJ2Nvc3REaWFsb2dDb250cm9sbGVyJ1xuICAgICAgICB9KS5jbG9zZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZtLnRhYmxlUGFyYW1zLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uZWRpdCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEgPSBlbnRpdHk7XG4gICAgICAgIG5nRGlhbG9nLm9wZW4oeyBcbiAgICAgICAgICB0ZW1wbGF0ZTogJ2Nvc3REaWFsb2dJZCcsIFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb3N0RGlhbG9nQ29udHJvbGxlcicsXG4gICAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgICB9KS5jbG9zZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZtLnRhYmxlUGFyYW1zLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uZGVsZXRlID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICBTd2VldEFsZXJ0LnN3YWwoeyAgIFxuICAgICAgICAgIHRpdGxlOiAn56Gu6K6k5Yig6Zmk77yfJywgICBcbiAgICAgICAgICB0ZXh0OiAn5Yig6Zmk5Lul5ZCO5bCG5oGi5aSN77yBJywgICBcbiAgICAgICAgICB0eXBlOiAnd2FybmluZycsICAgXG4gICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwgICBcbiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjREQ2QjU1JywgICBcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+aYr+eahO+8jOWIoOmZpO+8gScsXG4gICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+S4je+8jOWFiOS4jeWIoCEnLFxuICAgICAgICAgIC8vIGNsb3NlT25Db25maXJtOiBmYWxzZVxuICAgICAgICB9LCBmdW5jdGlvbiAoaXNDb25maXJtKSB7XG4gICAgICAgICAgaWYoaXNDb25maXJtKSB7XG4gICAgICAgICAgICBDb3N0LmRlbGV0ZUJ5SWQoe2lkOiBlbnRpdHkuaWR9KTtcbiAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zLnJlbG9hZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIENvc3RDYXRlZ29yaWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnQ29zdGNhdGVnb3J5JywgJ1N3ZWV0QWxlcnQnXTtcbiAgICBmdW5jdGlvbiBDb3N0Q2F0ZWdvcmllc0NvbnRyb2xsZXIoJHNjb3BlLCBDb3N0Y2F0ZWdvcnksIFN3ZWV0QWxlcnQpIHtcbiAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgICAgIHZtLmNhdGVnb3JpZXMgPSBDb3N0Y2F0ZWdvcnkuZmluZCh7ZmlsdGVyOiB7XG4gICAgICAgICAgb3JkZXI6IFwibmFtZSBERVNDXCIsXG4gICAgICAgICAgd2hlcmU6IHtzdGF0dXM6e25lOidkZWxldGVkJ319XG4gICAgICAgIH19KTtcblxuICAgICAgfVxuICAgICAgXG4gICAgICB2bS5yZWxvYWQgPSBhY3RpdmF0ZSgpO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBkZWxldGVBbGVydChjYWxsYmFjaykge1xuICAgICAgICBTd2VldEFsZXJ0LnN3YWwoeyAgIFxuICAgICAgICAgIHRpdGxlOiAn56Gu6K6k5Yig6Zmk77yfJywgICBcbiAgICAgICAgICB0ZXh0OiAn5Yig6Zmk5Lul5ZCO5bCG5peg5rOV5L2/55So5YiG57G75LqG77yBJywgICBcbiAgICAgICAgICB0eXBlOiAnd2FybmluZycsICAgXG4gICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwgICBcbiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjREQ2QjU1JywgICBcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+aYr+eahO+8jOWIoOmZpO+8gScsXG4gICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+S4je+8jOWFiOS4jeWIoCEnLFxuICAgICAgICAgIC8vIGNsb3NlT25Db25maXJtOiBmYWxzZVxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLmFkZENhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIGlmKGNhdGVnb3J5ICYmIGNhdGVnb3J5ICE9ICcnKSB7XG4gICAgICAgICAgQ29zdGNhdGVnb3J5LmNyZWF0ZSh7bmFtZTogY2F0ZWdvcnl9KS4kcHJvbWlzZS50aGVuKGFjdGl2YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICB2bS51cGRhdGVDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICBDb3N0Y2F0ZWdvcnkucHJvdG90eXBlJHVwZGF0ZUF0dHJpYnV0ZXMoe2lkOiBjYXRlZ29yeS5pZH0sIHtcbiAgICAgICAgICBzdGF0dXM6IGNhdGVnb3J5LnN0YXR1cyxcbiAgICAgICAgICBuYW1lOiBjYXRlZ29yeS5uYW1lLFxuICAgICAgICAgIHN1YnM6IGNhdGVnb3J5LnN1YnNcbiAgICAgICAgfSkuJHByb21pc2UudGhlbihhY3RpdmF0ZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLmRlbGV0ZUNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIGRlbGV0ZUFsZXJ0KGZ1bmN0aW9uIChpc0NvbmZpcm0pIHtcbiAgICAgICAgICBpZihpc0NvbmZpcm0pIHtcbiAgICAgICAgICAgIGNhdGVnb3J5LnN0YXR1cyA9ICdkZWxldGVkJztcbiAgICAgICAgICAgIHZtLnVwZGF0ZUNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLmFkZFN1YkNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5LCBzdWJjYXRlZ29yeSkge1xuICAgICAgICBpZihzdWJjYXRlZ29yeSAmJiBzdWJjYXRlZ29yeSAhPSAnJyAmJiBjYXRlZ29yeS5zdWJzLmluZGV4T2Yoc3ViY2F0ZWdvcnkpID09PSAtMSkge1xuICAgICAgICAgIGNhdGVnb3J5LnN1YnMucHVzaChzdWJjYXRlZ29yeSk7XG4gICAgICAgICAgdm0udXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLmRlbGV0ZVN1YmNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5LCBpbmRleCkge1xuICAgICAgICAvLyB2YXIgaW5kZXggPSBjYXRlZ29yeS5zdWJzLmluZGV4T2Yoc3ViY2F0ZWdvcnkpO1xuICAgICAgICBkZWxldGVBbGVydChmdW5jdGlvbiAoaXNDb25maXJtKSB7XG4gICAgICAgICAgaWYoaXNDb25maXJtKSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5zdWJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB2bS51cGRhdGVDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb3N0RGlhbG9nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnbmdEaWFsb2cnLCAnQ29zdCcsICdTd2VldEFsZXJ0JywgJ0Nvc3RjYXRlZ29yeScsICd0b2FzdGVyJ107XG4gICAgZnVuY3Rpb24gY29zdERpYWxvZ0NvbnRyb2xsZXIoJHNjb3BlLCBuZ0RpYWxvZywgQ29zdCwgU3dlZXRBbGVydCwgQ29zdGNhdGVnb3J5LCB0b2FzdGVyKSB7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBDb3N0Y2F0ZWdvcnkuZmluZCh7ZmlsdGVyOiB7XG4gICAgICAgICAgICBvcmRlcjogXCJuYW1lIERFU0NcIixcbiAgICAgICAgICAgIHdoZXJlOiB7c3RhdHVzOntuZTonZGVsZXRlZCd9fVxuICAgICAgICAgIH19KTtcbiAgICAgICAgICAkc2NvcGUuZGF0YSA9ICRzY29wZS5kYXRhIHx8IHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiAn6K+36YCJ5oupJyxcbiAgICAgICAgICAgIHN1YmNhdGVnb3J5OiAn5YiG57G7JyxcbiAgICAgICAgICAgIGFtb3VudDogMFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2V0Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoYywgcykge1xuICAgICAgICAgICRzY29wZS5kYXRhLmNhdGVnb3J5ID0gYztcbiAgICAgICAgICAkc2NvcGUuZGF0YS5zdWJjYXRlZ29yeSA9IHM7XG4gICAgICAgICAgJHNjb3BlLmlzQ29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYoJHNjb3BlLmRhdGEuYW1vdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuZGF0YS5tZXJjaGFudElkO1xuICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuZGF0YS5zaG9wSWQ7XG4gICAgICAgICAgZGVsZXRlICRzY29wZS5kYXRhLmNyZWF0ZWQ7XG4gICAgICAgICAgZGVsZXRlICRzY29wZS5kYXRhLm9wZXJhdG9yO1xuICAgICAgICAgIENvc3QudXBzZXJ0KCRzY29wZS5kYXRhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG5nRGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICfmiJDlip8nLCBcIuWujOaIkOaUr+WHuueZu+iusFwiKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAn5aSx6LSlJywgXCLmlK/lh7rnmbvorrDmnKrlrozmiJDvvIzor7fph43or5XvvIFcIilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkc2NvcGUuc3VibWl0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5kYXNoYm9hcmQnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblxyXG4gICAgRGFzaGJvYXJkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnQ2hhcnREYXRhJywgJyR0aW1lb3V0JywgJ0NoZWNraW4nLCAnRGVhbCcsICdQYXltZW50J107XHJcbiAgICBmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCRzY29wZSwgQ2hhcnREYXRhLCAkdGltZW91dCwgQ2hlY2tpbiwgRGVhbCwgUGF5bWVudCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIFNldCBNb21lbnQgbG9jYWxlXHJcbiAgICAgICAgbW9tZW50LmxvY2FsZSgnemgtY24nKTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYoISRzY29wZS51c2VyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgLy8gU3RhdGlzdGljXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuICAgICAgICAgIHZtLnN0YXREYXRhID0ge2Ftb3VudDogMCwgcXR5OiAwLCBkZXBvc2l0OiAwfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgRGVhbC5zdGF0KHtmaWx0ZXI6e3doZXJlOntzdGF0dXM6ICdjbG9zZWQnLCBcInBheW1lbnQuYW1vdW50XCI6IHskZ3Q6IDB9fX19LCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGlmKHJlcy5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgICAgICAgICAgdm0uc3RhdERhdGEuYW1vdW50ID0gcmVzWzBdLmFtb3VudDtcclxuICAgICAgICAgICAgdm0uc3RhdERhdGEucXR5ID0gcmVzWzBdLnF0eTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBQYXltZW50LnN0YXQoe2ZpbHRlcjp7d2hlcmU6e3N0YXR1czogJ2Nsb3NlZCcsIGNhdGVnb3J5OiAnZGVwb3NpdCd9fX0sIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgaWYocmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2bS5zdGF0RGF0YS5kZXBvc2l0ID0gcmVzWzBdLmFtb3VudDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAvLyBDSEVDS0lOXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuICAgICAgICAgIHZtLmNoZWNraW5zID0gQ2hlY2tpbi5maW5kKHtmaWx0ZXI6e1xyXG4gICAgICAgICAgICB3aGVyZToge21lcmNoYW50SWQ6ICRzY29wZS51c2VyLnNob3BJZH0sXHJcbiAgICAgICAgICAgIGluY2x1ZGU6IFt7bWVtYmVyOiAnd3h1c2VyJ31dLFxyXG4gICAgICAgICAgICBsaW1pdDogMTAsIFxyXG4gICAgICAgICAgICBvcmRlcjogJ2NyZWF0ZWQgREVTQydcclxuICAgICAgICAgIH19KTtcclxuXHJcbiAgICAgICAgICAvLyBTUExJTkVcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0uc3BsaW5lRGF0YSA9IENoYXJ0RGF0YS5sb2FkKCdzZXJ2ZXIvY2hhcnQvc3BsaW5lLmpzb24nKTtcclxuICAgICAgICAgIHZtLnNwbGluZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGxpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDRcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgc3BsaW5lczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHRlbnNpb246IDAuNCxcclxuICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IDAuNVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBncmlkOiB7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2VlZScsXHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICBob3ZlcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmY2ZjZmMnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHRvb2x0aXBPcHRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uIChsYWJlbCwgeCwgeSkgeyByZXR1cm4geCArICcgOiAnICsgeTsgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeGF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgdGlja0NvbG9yOiAnI2ZjZmNmYycsXHJcbiAgICAgICAgICAgICAgICAgIG1vZGU6ICdjYXRlZ29yaWVzJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgeWF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICAgICAgICBtYXg6IDE1MCwgLy8gb3B0aW9uYWw6IHVzZSBpdCBmb3IgYSBjbGVhciByZXByZXNldGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgIHRpY2tDb2xvcjogJyNlZWUnLFxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogKCRzY29wZS5hcHAubGF5b3V0LmlzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0JyksXHJcbiAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXR0ZXI6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi8qICsgJyB2aXNpdG9ycycqLztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgc2hhZG93U2l6ZTogMFxyXG4gICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgLy8gUEFORUwgUkVGUkVTSCBFVkVOVFNcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG5cclxuICAgICAgICAgICRzY29wZS4kb24oJ3BhbmVsLXJlZnJlc2gnLCBmdW5jdGlvbihldmVudCwgaWQpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTaW11bGF0aW5nIGNoYXJ0IHJlZnJlc2ggZHVyaW5nIDNzIG9uICMnK2lkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEluc3RlYWQgb2YgdGltZW91dCB5b3UgY2FuIHJlcXVlc3QgYSBjaGFydCBkYXRhXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlIGxpc3RlbiBmb3IgdG8gcmVtb3ZlIHRoZSBzcGlubmVyIFxyXG4gICAgICAgICAgICAgIC8vIGFmdGVyIHdlIGVuZCB1cCB0byBwZXJmb3JtIG93biBvcGVyYXRpb25zXHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3JlbW92ZVNwaW5uZXInLCBpZCk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hlZCAjJyArIGlkKTtcclxuXHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG5cclxuICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAvLyBQQU5FTCBESVNNSVNTIEVWRU5UU1xyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgLy8gQmVmb3JlIHJlbW92ZSBwYW5lbFxyXG4gICAgICAgICAgJHNjb3BlLiRvbigncGFuZWwtcmVtb3ZlJywgZnVuY3Rpb24oZXZlbnQsIGlkLCBkZWZlcnJlZCl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGFuZWwgIycgKyBpZCArICcgcmVtb3ZpbmcnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEhlcmUgaXMgb2JsaWdhdG9yeSB0byBjYWxsIHRoZSByZXNvbHZlKCkgaWYgd2UgcHJldGVuZCB0byByZW1vdmUgdGhlIHBhbmVsIGZpbmFsbHlcclxuICAgICAgICAgICAgLy8gTm90IGNhbGxpbmcgcmVzb2x2ZSgpIHdpbGwgTk9UIHJlbW92ZSB0aGUgcGFuZWxcclxuICAgICAgICAgICAgLy8gSXQncyB1cCB0byB5b3VyIGFwcCB0byBkZWNpZGUgaWYgcGFuZWwgc2hvdWxkIGJlIHJlbW92ZWQgb3Igbm90XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gUGFuZWwgcmVtb3ZlZCAoIG9ubHkgaWYgYWJvdmUgd2FzIHJlc29sdmVkKCkgKVxyXG4gICAgICAgICAgJHNjb3BlLiRvbigncGFuZWwtcmVtb3ZlZCcsIGZ1bmN0aW9uKGV2ZW50LCBpZCl7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGFuZWwgIycgKyBpZCArICcgcmVtb3ZlZCcpO1xyXG5cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLiRvbignVXNlci5sb2dpbmVkJywgYWN0aXZhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxuICogQW5ndWxhckpTIGRlZmF1bHQgZmlsdGVyIHdpdGggdGhlIGZvbGxvd2luZyBleHByZXNzaW9uOlxuICogXCJwZXJzb24gaW4gcGVvcGxlIHwgZmlsdGVyOiB7bmFtZTogJHNlbGVjdC5zZWFyY2gsIGFnZTogJHNlbGVjdC5zZWFyY2h9XCJcbiAqIHBlcmZvcm1zIGEgQU5EIGJldHdlZW4gJ25hbWU6ICRzZWxlY3Quc2VhcmNoJyBhbmQgJ2FnZTogJHNlbGVjdC5zZWFyY2gnLlxuICogV2Ugd2FudCB0byBwZXJmb3JtIGEgT1IuXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmRhc2hib2FyZCcpXG4gICAgICAgIC5maWx0ZXIoJ21vbWVudF91bml4JywgbW9tZW50VW5peEZpbHRlcilcbiAgICAgICAgLmZpbHRlcignbW9tZW50X2Zyb21fbm93JywgbW9tZW50RnJvbU5vd0ZpbHRlcilcbiAgICAgICAgLmZpbHRlcignbW9tZW50X3VuaXhfZnJvbV9ub3cnLCBtb21lbnRVbml4RnJvbU5vd0ZpbHRlcilcbiAgICA7XG5cbiAgICBmdW5jdGlvbiBtb21lbnRVbml4RmlsdGVyKGlucHV0LCBmb3JtYXQpIHtcbiAgICAgIHJldHVybiBtb21lbnQudW5peChpbnB1dCkuZm9ybWF0KGZvcm1hdCB8fCAnWVlZWS1NTS1ERCBISDptbTpzcycpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBtb21lbnRGcm9tTm93RmlsdGVyKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gbW9tZW50KGlucHV0KS5mcm9tTm93KCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbWVudFVuaXhGcm9tTm93RmlsdGVyKGlucHV0KSB7XG4gICAgICByZXR1cm4gbW9tZW50LnVuaXgoaW5wdXQpLmZyb21Ob3coKTtcbiAgICB9XG5cbn0pKCk7IiwiXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJylcclxuICAgICAgICAuY29udHJvbGxlcignQW5ndWxhckNhcm91c2VsQ29udHJvbGxlcicsIEFuZ3VsYXJDYXJvdXNlbENvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIEFuZ3VsYXJDYXJvdXNlbENvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLmNvbG9ycyA9IFsnI2ZjMDAwMycsICcjZjcwMDA4JywgJyNmMjAwMGQnLCAnI2VkMDAxMicsICcjZTgwMDE3JywgJyNlMzAwMWMnLCAnI2RlMDAyMScsICcjZDkwMDI2JywgJyNkNDAwMmInLCAnI2NmMDAzMCcsICcjYzkwMDM2JywgJyNjNDAwM2InLCAnI2JmMDA0MCcsICcjYmEwMDQ1JywgJyNiNTAwNGEnLCAnI2IwMDA0ZicsICcjYWIwMDU0JywgJyNhNjAwNTknLCAnI2ExMDA1ZScsICcjOWMwMDYzJywgJyM5NjAwNjknLCAnIzkxMDA2ZScsICcjOGMwMDczJywgJyM4NzAwNzgnLCAnIzgyMDA3ZCcsICcjN2QwMDgyJywgJyM3ODAwODcnLCAnIzczMDA4YycsICcjNmUwMDkxJywgJyM2OTAwOTYnLCAnIzYzMDA5YycsICcjNWUwMGExJywgJyM1OTAwYTYnLCAnIzU0MDBhYicsICcjNGYwMGIwJywgJyM0YTAwYjUnLCAnIzQ1MDBiYScsICcjNDAwMGJmJywgJyMzYjAwYzQnLCAnIzM2MDBjOScsICcjMzAwMGNmJywgJyMyYjAwZDQnLCAnIzI2MDBkOScsICcjMjEwMGRlJywgJyMxYzAwZTMnLCAnIzE3MDBlOCcsICcjMTIwMGVkJywgJyMwZDAwZjInLCAnIzA4MDBmNycsICcjMDMwMGZjJ107XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0U2xpZGUodGFyZ2V0LCBzdHlsZSkge1xyXG4gICAgICAgICAgICAgIHZhciBpID0gdGFyZ2V0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICBpZDogKGkgKyAxKSxcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdzbGlkZSAjJyArIChpICsgMSksXHJcbiAgICAgICAgICAgICAgICAgIGltZzogJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS8xMjAwLzUwMC8nICsgc3R5bGUgKyAnLycgKyAoKGkgKyAxKSAlIDEwKSAsXHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB2bS5jb2xvcnNbIChpKjEwKSAlIHZtLmNvbG9ycy5sZW5ndGhdLFxyXG4gICAgICAgICAgICAgICAgICBvZGQ6IChpICUgMiA9PT0gMClcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlKHRhcmdldCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICB0YXJnZXQucHVzaChnZXRTbGlkZSh0YXJnZXQsIHN0eWxlKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdm0uY2Fyb3VzZWxJbmRleCA9IDM7XHJcbiAgICAgICAgICB2bS5jYXJvdXNlbEluZGV4MiA9IDA7XHJcbiAgICAgICAgICB2bS5jYXJvdXNlbEluZGV4MiA9IDE7XHJcbiAgICAgICAgICB2bS5jYXJvdXNlbEluZGV4MyA9IDU7XHJcbiAgICAgICAgICB2bS5jYXJvdXNlbEluZGV4NCA9IDU7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gYWRkU2xpZGVzKHRhcmdldCwgc3R5bGUsIHF0eSkge1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaSA8IHF0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFkZFNsaWRlKHRhcmdldCwgc3R5bGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyAxc3QgbmdSZXBlYXQgZGVtb1xyXG4gICAgICAgICAgdm0uc2xpZGVzID0gW107XHJcbiAgICAgICAgICBhZGRTbGlkZXModm0uc2xpZGVzLCAnc3BvcnRzJywgNTApO1xyXG5cclxuICAgICAgICAgIC8vIDJuZCBuZ1JlcGVhdCBkZW1vXHJcbiAgICAgICAgICB2bS5zbGlkZXMyID0gW107XHJcbiAgICAgICAgICBhZGRTbGlkZXModm0uc2xpZGVzMiwgJ3Nwb3J0cycsIDEwKTtcclxuXHJcbiAgICAgICAgICAvLyAzcmQgbmdSZXBlYXQgZGVtb1xyXG4gICAgICAgICAgdm0uc2xpZGVzMyA9IFtdO1xyXG4gICAgICAgICAgYWRkU2xpZGVzKHZtLnNsaWRlczMsICdwZW9wbGUnLCA1MCk7XHJcblxyXG4gICAgICAgICAgLy8gNHRoIG5nUmVwZWF0IGRlbW9cclxuICAgICAgICAgIHZtLnNsaWRlczQgPSBbXTtcclxuICAgICAgICAgIGFkZFNsaWRlcyh2bS5zbGlkZXM0LCAnY2l0eScsIDUwKTtcclxuXHJcblxyXG4gICAgICAgICAgLy8gNXRoIG5nUmVwZWF0IGRlbW9cclxuICAgICAgICAgIHZtLnNsaWRlczYgPSBbXTtcclxuICAgICAgICAgIHZtLmNhcm91c2VsSW5kZXg2ID0gMDtcclxuICAgICAgICAgIGFkZFNsaWRlcyh2bS5zbGlkZXM2LCAnc3BvcnRzJywgMTApO1xyXG4gICAgICAgICAgdm0uYWRkU2xpZGUgPSBmdW5jdGlvbihhdCkge1xyXG4gICAgICAgICAgICAgIGlmKGF0PT09J2hlYWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZtLnNsaWRlczYudW5zaGlmdChnZXRTbGlkZSh2bS5zbGlkZXM2LCAncGVvcGxlJykpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHZtLnNsaWRlczYucHVzaChnZXRTbGlkZSh2bS5zbGlkZXM2LCAncGVvcGxlJykpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogZGVtby1kaWFsb2cuanNcbiAqIERlbW8gZm9yIG11bHRpcGxlIG5nRGlhbG9nIFVzYWdlXG4gKiAtIG5nRGlhbG9nUHJvdmlkZXIgZm9yIGRlZmF1bHQgdmFsdWVzIG5vdCBzdXBwb3J0ZWQgXG4gKiAgIHVzaW5nIGxhenkgbG9hZGVyLiBJbmNsdWRlIHBsdWdpbiBpbiBiYXNlLmpzIGluc3RlYWQuXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RpYWxvZ0ludHJvQ3RybCcsIERpYWxvZ0ludHJvQ3RybClcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RpYWxvZ01haW5DdHJsJywgRGlhbG9nTWFpbkN0cmwpXG4gICAgICAgIC5jb250cm9sbGVyKCdJbnNpZGVDdHJsJywgSW5zaWRlQ3RybClcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1NlY29uZE1vZGFsQ3RybCcsIFNlY29uZE1vZGFsQ3RybCk7XG5cbiAgICBEaWFsb2dJbnRyb0N0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ25nRGlhbG9nJywgJ3RwbCddO1xuICAgIC8vIENhbGxlZCBmcm9tIHRoZSByb3V0ZSBzdGF0ZS4gJ3RwbCcgaXMgcmVzb2x2ZWQgYmVmb3JlXG4gICAgZnVuY3Rpb24gRGlhbG9nSW50cm9DdHJsKCRzY29wZSwgbmdEaWFsb2csIHRwbCkge1xuICAgICAgICBcbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgLy8gc2hhcmUgd2l0aCBvdGhlciBjb250cm9sbGVyc1xuICAgICAgICAgICRzY29wZS50cGwgPSB0cGw7XG4gICAgICAgICAgLy8gb3BlbiBkaWFsb2cgd2luZG93XG4gICAgICAgICAgbmdEaWFsb2cub3Blbih7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogdHBsLnBhdGgsXG4gICAgICAgICAgICAvLyBwbGFpbjogdHJ1ZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBEaWFsb2dNYWluQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICduZ0RpYWxvZyddO1xuICAgIC8vIExvYWRzIGZyb20gdmlld1xuICAgIGZ1bmN0aW9uIERpYWxvZ01haW5DdHJsKCRzY29wZSwgJHJvb3RTY29wZSwgbmdEaWFsb2cpIHtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLmpzb25EYXRhID0gJ3tcImZvb1wiOiBcImJhclwifSc7XG4gICAgICAgICAgJHJvb3RTY29wZS50aGVtZSA9ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JztcblxuICAgICAgICAgICRzY29wZS5kaXJlY3RpdmVQcmVDbG9zZUNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZihjb25maXJtKCdDbG9zZSBpdD8gTWFpbkN0cmwuRGlyZWN0aXZlLiAoVmFsdWUgPSAnICsgdmFsdWUgKyAnKScpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucHJlQ2xvc2VDYWxsYmFja09uU2NvcGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmKGNvbmZpcm0oJ0Nsb3NlIGl0PyBNYWluQ3RybC5PblNjb3BlIChWYWx1ZSA9ICcgKyB2YWx1ZSArICcpJykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7IHRlbXBsYXRlOiAnZmlyc3REaWFsb2dJZCcsIGNvbnRyb2xsZXI6ICdJbnNpZGVDdHJsJywgZGF0YToge2ZvbzogJ3NvbWUgZGF0YSd9IH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlbkRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICdmaXJzdERpYWxvZ0lkJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0luc2lkZUN0cmwnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5vcGVuRGVmYXVsdFdpdGhQcmVDbG9zZUNhbGxiYWNrSW5saW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ2ZpcnN0RGlhbG9nSWQnLFxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnSW5zaWRlQ3RybCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuICAgICAgICAgICAgICBwcmVDbG9zZUNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCdDbG9zZSBpdD8gIChWYWx1ZSA9ICcgKyB2YWx1ZSArICcpJykpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlbkNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZ0RpYWxvZy5vcGVuQ29uZmlybSh7XG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnbW9kYWxEaWFsb2dJZCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTW9kYWwgcHJvbWlzZSByZXNvbHZlZC4gVmFsdWU6ICcsIHZhbHVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01vZGFsIHByb21pc2UgcmVqZWN0ZWQuIFJlYXNvbjogJywgcmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlbkNvbmZpcm1XaXRoUHJlQ2xvc2VDYWxsYmFja09uU2NvcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZ0RpYWxvZy5vcGVuQ29uZmlybSh7XG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnbW9kYWxEaWFsb2dJZCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuICAgICAgICAgICAgICBwcmVDbG9zZUNhbGxiYWNrOiAncHJlQ2xvc2VDYWxsYmFja09uU2NvcGUnLFxuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTW9kYWwgcHJvbWlzZSByZXNvbHZlZC4gVmFsdWU6ICcsIHZhbHVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01vZGFsIHByb21pc2UgcmVqZWN0ZWQuIFJlYXNvbjogJywgcmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlbkNvbmZpcm1XaXRoUHJlQ2xvc2VDYWxsYmFja0lubGluZWRXaXRoTmVzdGVkQ29uZmlybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5nRGlhbG9nLm9wZW5Db25maXJtKHtcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICdkaWFsb2dXaXRoTmVzdGVkQ29uZmlybURpYWxvZ0lkJyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG4gICAgICAgICAgICAgIHByZUNsb3NlQ2FsbGJhY2s6IGZ1bmN0aW9uKC8qdmFsdWUqLykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5lc3RlZENvbmZpcm1EaWFsb2cgPSBuZ0RpYWxvZy5vcGVuQ29uZmlybSh7XG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAnPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsb3NlIHRoZSBwYXJlbnQgZGlhbG9nPzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGRpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwiY2xvc2VUaGlzRGlhbG9nKDApXCI+Tm8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY29uZmlybSgxKVwiPlllcycgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWUsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0J1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lc3RlZENvbmZpcm1EaWFsb2c7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNvbHZlZDonICsgdmFsdWUpO1xuICAgICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSBzYXZlIGhlcmVcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlamVjdGVkOicgKyB2YWx1ZSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlbklubGluZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLnRoZW1lID0gJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnO1xuXG4gICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICd3aXRoSW5saW5lQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY291bnQoKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZUV4dGVybmFsRGF0YSA9ICdDb3VudGVyICcgKyAoY291bnRlcisrKTtcbiAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAkdGltZW91dChjb3VudCwgNDUwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnQoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLm9wZW5UZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS52YWx1ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHNjb3BlLnRwbC5wYXRoLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5vcGVuVGVtcGxhdGVOb0NhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gdHJ1ZTtcblxuICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAkc2NvcGUudHBsLnBhdGgsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBjYWNoZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUub3BlblRpbWVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxwPkp1c3QgcGFzc2luZyB0aHJvdWdoITwvcD4nLFxuICAgICAgICAgICAgICBwbGFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgY2xvc2VCeURvY3VtZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgY2xvc2VCeUVzY2FwZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5vcGVuTm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTpcbiAgICAgICAgICAgICAgICAnPHA+WW91IGNhbiBkbyB3aGF0ZXZlciB5b3Ugd2FudCB3aGVuIEkgY2xvc2UsIGhvd2V2ZXIgdGhhdCBoYXBwZW5zLjwvcD4nICtcbiAgICAgICAgICAgICAgICAnPGRpdj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2xvc2VUaGlzRGlhbG9nKDEpXCI+Q2xvc2UgTWU8L2J1dHRvbj48L2Rpdj4nLFxuICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaWFsb2cuY2xvc2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25nRGlhbG9nIGNsb3NlZCcgKyAoZGF0YS52YWx1ZSA9PT0gMSA/ICcgdXNpbmcgdGhlIGJ1dHRvbicgOiAnJykgKyAnIGFuZCBub3RpZmllZCBieSBwcm9taXNlOiAnICsgZGF0YS5pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLm9wZW5XaXRob3V0T3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxoMj5Ob3RpY2UgdGhhdCB0aGVyZSBpcyBubyBvdmVybGF5ITwvaDI+JyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG4gICAgICAgICAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgICAgICAgICBvdmVybGF5OiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRyb290U2NvcGUuJG9uKCduZ0RpYWxvZy5vcGVuZWQnLCBmdW5jdGlvbiAoZSwgJGRpYWxvZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25nRGlhbG9nIG9wZW5lZDogJyArICRkaWFsb2cuYXR0cignaWQnKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkcm9vdFNjb3BlLiRvbignbmdEaWFsb2cuY2xvc2VkJywgZnVuY3Rpb24gKGUsICRkaWFsb2cpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZ0RpYWxvZyBjbG9zZWQ6ICcgKyAkZGlhbG9nLmF0dHIoJ2lkJykpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHJvb3RTY29wZS4kb24oJ25nRGlhbG9nLmNsb3NpbmcnLCBmdW5jdGlvbiAoZSwgJGRpYWxvZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25nRGlhbG9nIGNsb3Npbmc6ICcgKyAkZGlhbG9nLmF0dHIoJ2lkJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXG4gICAgfSAvLyBEaWFsb2dNYWluQ3RybFxuXG5cbiAgICBJbnNpZGVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICduZ0RpYWxvZyddO1xuICAgIGZ1bmN0aW9uIEluc2lkZUN0cmwoJHNjb3BlLCBuZ0RpYWxvZykge1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICRzY29wZS5kaWFsb2dNb2RlbCA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2UgOiAnbWVzc2FnZSBmcm9tIHBhc3NlZCBzY29wZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgICRzY29wZS5vcGVuU2Vjb25kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnPHAgY2xhc3M9XCJsZWFkIG0wXCI+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiY2xvc2VTZWNvbmQoKVwiPkNsb3NlIGFsbCBieSBjbGljayBoZXJlITwvYT48L2gzPicsXG4gICAgICAgICAgICAgIHBsYWluOiB0cnVlLFxuICAgICAgICAgICAgICBjbG9zZUJ5RXNjYXBlOiBmYWxzZSxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1NlY29uZE1vZGFsQ3RybCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBTZWNvbmRNb2RhbEN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ25nRGlhbG9nJ107XG4gICAgZnVuY3Rpb24gU2Vjb25kTW9kYWxDdHJsKCRzY29wZSwgbmdEaWFsb2cpIHtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAkc2NvcGUuY2xvc2VTZWNvbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZ0RpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH1cblxuXG59KSgpO1xuXG5cblxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogY2FsZW5kYXItdWkuanNcclxuICogVGhpcyBzY3JpcHQgaGFuZGxlIHRoZSBjYWxlbmRhciBkZW1vIHdpdGggZHJhZ2dhYmxlIFxyXG4gKiBldmVudHMgYW5kIGV2ZW50cyBjcmVhdGlvbnNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5lbGVtZW50cycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0luZmluaXRlU2Nyb2xsQ29udHJvbGxlcicsIEluZmluaXRlU2Nyb2xsQ29udHJvbGxlcilcclxuICAgICAgICAuZmFjdG9yeSgnZGF0YXNvdXJjZScsIGRhdGFzb3VyY2UpO1xyXG5cclxuICAgIGZ1bmN0aW9uIEluZmluaXRlU2Nyb2xsQ29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgdm0uaW1hZ2VzID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXTtcclxuXHJcbiAgICAgICAgICB2bS5sb2FkTW9yZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdCA9IHZtLmltYWdlc1t2bS5pbWFnZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPD0gMTA7IGkrKykge1xyXG4gICAgICAgICAgICAgIHZtLmltYWdlcy5wdXNoKGxhc3QgKyBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGRhdGFzb3VyY2UuJGluamVjdCA9IFsnJGxvZycsICckdGltZW91dCddO1xyXG4gICAgZnVuY3Rpb24gZGF0YXNvdXJjZShjb25zb2xlLCAkdGltZW91dCkge1xyXG5cclxuICAgICAgICB2YXIgZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIGNvdW50LCBzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpLCByZXN1bHQsIF9pLCBfcmVmO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBfaSA9IGluZGV4LCBfcmVmID0gaW5kZXggKyBjb3VudCAtIDE7IGluZGV4IDw9IF9yZWYgPyBfaSA8PSBfcmVmIDogX2kgPj0gX3JlZjsgaSA9IGluZGV4IDw9IF9yZWYgPyArK19pIDogLS1faSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCdpdGVtICMnICsgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0OiBnZXRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogbWFzb25yeS1kZWNrLmpzXHJcbiAqIERlbW8gZm9yIEFuZ3VsYXIgRGVja1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJylcclxuICAgICAgICAuY29udHJvbGxlcignTWFzb25yeURlY2tDb250cm9sbGVyJywgTWFzb25yeURlY2tDb250cm9sbGVyKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2ltYWdlbG9hZGVkJywgaW1hZ2Vsb2FkZWQpOyAvLyByZXF1aXJlZCBieSBkZW1vXHJcblxyXG4gICAgTWFzb25yeURlY2tDb250cm9sbGVyLiRpbmVqY3QgPSBbJ1JvdXRlSGVscGVycyddO1xyXG4gICAgZnVuY3Rpb24gTWFzb25yeURlY2tDb250cm9sbGVyKFJvdXRlSGVscGVycykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG4gICAgICAgICAgdm0uYmFzZXBhdGggPSBSb3V0ZUhlbHBlcnMuYmFzZXBhdGg7XHJcblxyXG4gICAgICAgICAgdm0ucGhvdG9zID0gW1xyXG4gICAgICAgICAgICAgIHtpZDogJ3Bob3RvLTEnLCBuYW1lOiAnQXdlc29tZSBwaG90bycsIHNyYzogJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS80MDAvMzAwL2Fic3RyYWN0J30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tMicsIG5hbWU6ICdHcmVhdCBwaG90bycsIHNyYzogJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS80NTAvNDAwL2NpdHknfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by0zJywgbmFtZTogJ1N0cmFuZ2UgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDAwLzMwMC9wZW9wbGUnfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by00JywgbmFtZTogJ0EgcGhvdG8/Jywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvdHJhbnNwb3J0J30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tNScsIG5hbWU6ICdXaGF0IGEgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDUwLzMwMC9mYXNoaW9uJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tNicsIG5hbWU6ICdTaWxseSBwaG90bycsIHNyYzogJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS80MDAvMzAwL3RlY2huaWNzJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tNycsIG5hbWU6ICdXZWlyZCBwaG90bycsIHNyYzogJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS80MTAvMzUwL3Nwb3J0cyd9LFxyXG4gICAgICAgICAgICAgIHtpZDogJ3Bob3RvLTgnLCBuYW1lOiAnTW9kZXJuIHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvbmlnaHRsaWZlJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tOScsIG5hbWU6ICdDbGFzc2ljYWwgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDAwLzMwMC9uYXR1cmUnfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by0xMCcsIG5hbWU6ICdEeW5hbWljIHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQyMC8zMDAvYWJzdHJhY3QnfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by0xMScsIG5hbWU6ICdOZWF0IHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvc3BvcnRzJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tMTInLCBuYW1lOiAnQnVtcHkgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDAwLzMwMC9uaWdodGxpZmUnfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by0xMycsIG5hbWU6ICdCcmlsbGlhbnQgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDAwLzM4MC9uYXR1cmUnfSxcclxuICAgICAgICAgICAgICB7aWQ6ICdwaG90by0xNCcsIG5hbWU6ICdFeGNlbGxlbnQgcGhvdG8nLCBzcmM6ICdodHRwOi8vbG9yZW1waXhlbC5jb20vNDgwLzMwMC90ZWNobmljcyd9LFxyXG4gICAgICAgICAgICAgIHtpZDogJ3Bob3RvLTE1JywgbmFtZTogJ0dvcmdlb3VzIHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvc3BvcnRzJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tMTYnLCBuYW1lOiAnTG92ZWx5IHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvbmlnaHRsaWZlJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tMTcnLCBuYW1lOiAnQSBcIndvd1wiIHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvbmF0dXJlJ30sXHJcbiAgICAgICAgICAgICAge2lkOiAncGhvdG8tMTgnLCBuYW1lOiAnQm9kYWNpb3VzIHBob3RvJywgc3JjOiAnaHR0cDovL2xvcmVtcGl4ZWwuY29tLzQwMC8zMDAvYWJzdHJhY3QnfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGNsYXNzIHRvIGltZyBlbGVtZW50IHdoZW4gc291cmNlIGlzIGxvYWRlZFxyXG4gICAgZnVuY3Rpb24gaW1hZ2Vsb2FkZWQgKCkge1xyXG4gICAgICAgIC8vIENvcHlyaWdodChjKSAyMDEzIEFuZHLDqSBLw7ZuaWcgPGFrb2VuaWdAcG9zdGVvLmRlPlxyXG4gICAgICAgIC8vIE1JVCBMaWNlbnNlZFxyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICB2YXIgY3NzQ2xhc3MgPSBhdHRycy5sb2FkZWRjbGFzcztcclxuXHJcbiAgICAgICAgICBlbGVtZW50LmJpbmQoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQpLmFkZENsYXNzKGNzc0NsYXNzKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogYWNjZXNzLWxvZ2luLmpzXHJcbiAqIERlbW8gZm9yIGxvZ2luIGFwaVxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJylcclxuICAgICAgICAuY29udHJvbGxlcignQWJuVGVzdENvbnRyb2xsZXInLCBBYm5UZXN0Q29udHJvbGxlcik7XHJcblxyXG4gICAgQWJuVGVzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJHJlc291cmNlJ107XHJcbiAgICBmdW5jdGlvbiBBYm5UZXN0Q29udHJvbGxlcigkdGltZW91dCwgJHJlc291cmNlKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAvKmpzaGludCAtVzEwNiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICB2bS5teV90cmVlX2hhbmRsZXIgPSBmdW5jdGlvbihicmFuY2gpIHtcclxuXHJcbiAgICAgICAgICAgIHZtLm91dHB1dCA9ICdZb3Ugc2VsZWN0ZWQ6ICcgKyBicmFuY2gubGFiZWw7XHJcblxyXG4gICAgICAgICAgICBpZiAoYnJhbmNoLmRhdGEgJiYgYnJhbmNoLmRhdGEuZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICB2bS5vdXRwdXQgKz0gJygnICsgYnJhbmNoLmRhdGEuZGVzY3JpcHRpb24gKyAnKSc7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHZtLm91dHB1dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBvblNlbGVjdCBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgICAgdmFyIGFwcGxlX3NlbGVjdGVkID0gZnVuY3Rpb24oYnJhbmNoKSB7XHJcbiAgICAgICAgICAgIHZtLm91dHB1dCA9ICdBUFBMRSEgOiAnICsgYnJhbmNoLmxhYmVsO1xyXG4gICAgICAgICAgICByZXR1cm4gdm0ub3V0cHV0O1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgdHJlZWRhdGFfYXZtID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdBbmltYWwnLFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnRG9nJyxcclxuICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnbWFuXFwncyBiZXN0IGZyaWVuZCdcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0NhdCcsXHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0ZlbGlzIGNhdHVzJ1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnSGlwcG9wb3RhbXVzJyxcclxuICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnaHVuZ3J5LCBodW5ncnknXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDaGlja2VuJyxcclxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsnV2hpdGUgTGVnaG9ybicsICdSaG9kZSBJc2xhbmQgUmVkJywgJ0plcnNleSBHaWFudCddXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdWZWdldGFibGUnLFxyXG4gICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb246ICdBIHBsYW50IG9yIHBhcnQgb2YgYSBwbGFudCB1c2VkIGFzIGZvb2QsIHR5cGljYWxseSBhcyBhY2NvbXBhbmltZW50IHRvIG1lYXQgb3IgZmlzaCwgc3VjaCBhcyBhIGNhYmJhZ2UsIHBvdGF0bywgY2Fycm90LCBvciBiZWFuLicsXHJcbiAgICAgICAgICAgICAgICBkYXRhX2Nhbl9jb250YWluX2FueXRoaW5nOiB0cnVlXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oYnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5vdXRwdXQgPSAnVmVnZXRhYmxlOiAnICsgYnJhbmNoLmRhdGEuZGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bS5vdXRwdXQ7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ09yYW5nZXMnXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQXBwbGVzJyxcclxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0dyYW5ueSBTbWl0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogYXBwbGVfc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1JlZCBEZWxpY291cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogYXBwbGVfc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0Z1amknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IGFwcGxlX3NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdNaW5lcmFsJyxcclxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ1JvY2snLFxyXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWydJZ25lb3VzJywgJ1NlZGltZW50YXJ5JywgJ01ldGFtb3JwaGljJ11cclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdNZXRhbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbJ0FsdW1pbnVtJywgJ1N0ZWVsJywgJ0NvcHBlciddXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUGxhc3RpYycsXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdUaGVybW9wbGFzdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbJ3BvbHlldGh5bGVuZScsICdwb2x5cHJvcHlsZW5lJywgJ3BvbHlzdHlyZW5lJywgJyBwb2x5dmlueWwgY2hsb3JpZGUnXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVGhlcm1vc2V0dGluZyBQb2x5bWVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbJ3BvbHllc3RlcicsICdwb2x5dXJldGhhbmUnLCAndnVsY2FuaXplZCBydWJiZXInLCAnYmFrZWxpdGUnLCAndXJlYS1mb3JtYWxkZWh5ZGUnXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdmFyIHRyZWVkYXRhX2dlb2dyYXBoeSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGxhYmVsOiAnTm9ydGggQW1lcmljYScsXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDYW5hZGEnLFxyXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWydUb3JvbnRvJywgJ1ZhbmNvdXZlciddXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVVNBJyxcclxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsnTmV3IFlvcmsnLCAnTG9zIEFuZ2VsZXMnXVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ01leGljbycsXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbJ01leGljbyBDaXR5JywgJ0d1YWRhbGFqYXJhJ11cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICBsYWJlbDogJ1NvdXRoIEFtZXJpY2EnLFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVmVuZXp1ZWxhJyxcclxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsnQ2FyYWNhcycsICdNYXJhY2FpYm8nXVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogJ0JyYXppbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbJ1NhbyBQYXVsbycsICdSaW8gZGUgSmFuZWlybyddXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQXJnZW50aW5hJyxcclxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsnQnVlbm9zIEFpcmVzJywgJ0NvcmRvYmEnXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICB2bS5teV9kYXRhID0gdHJlZWRhdGFfYXZtO1xyXG4gICAgICAgICAgdm0udHJ5X2NoYW5naW5nX3RoZV90cmVlX2RhdGEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHZtLm15X2RhdGEgPT09IHRyZWVkYXRhX2F2bSkge1xyXG4gICAgICAgICAgICAgIHZtLm15X2RhdGEgPSB0cmVlZGF0YV9nZW9ncmFwaHk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdm0ubXlfZGF0YSA9IHRyZWVkYXRhX2F2bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdm0ubXlfZGF0YTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHZhciB0cmVlO1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBvdXIgQVBJIGNvbnRyb2wgdmFyaWFibGVcclxuICAgICAgICAgIHZtLm15X3RyZWUgPSB0cmVlID0ge307XHJcbiAgICAgICAgICB2bS50cnlfYXN5bmNfbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ubXlfZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB2bS5kb2luZ19hc3luYyA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBSZXF1ZXN0IHRyZWUgZGF0YSB2aWEgJHJlc291cmNlXHJcbiAgICAgICAgICAgIHZhciByZW1vdGVUcmVlID0gJHJlc291cmNlKCdzZXJ2ZXIvdHJlZWRhdGEuanNvbicpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZVRyZWUuZ2V0KGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgdm0ubXlfZGF0YSA9IHJlcy5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICB2bS5kb2luZ19hc3luYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICByZXR1cm4gdHJlZS5leHBhbmRfYWxsKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyB3ZSBtdXN0IHJldHVybiBhIHByb21pc2Ugc28gdGhlIHBsdWdpbiBcclxuICAgICAgICAgICAgLy8gY2FuIHdhdGNoIHdoZW4gaXQncyByZXNvbHZlZFxyXG4gICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEFkZHMgYSBuZXcgYnJhbmNoIHRvIHRoZSB0cmVlXHJcbiAgICAgICAgICB2bS50cnlfYWRkaW5nX2FfYnJhbmNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBiO1xyXG4gICAgICAgICAgICBiID0gdHJlZS5nZXRfc2VsZWN0ZWRfYnJhbmNoKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmVlLmFkZF9icmFuY2goYiwge1xyXG4gICAgICAgICAgICAgIGxhYmVsOiAnTmV3IEJyYW5jaCcsXHJcbiAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgc29tZXRoaW5nOiA0MixcclxuICAgICAgICAgICAgICAgICdlbHNlJzogNDNcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogbmVzdGFibGUuanNcclxuICogTmVzdGFibGUgY29udHJvbGxlclxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmVsZW1lbnRzJylcclxuICAgICAgICAuY29udHJvbGxlcignTmVzdGFibGVDb250cm9sbGVyJywgTmVzdGFibGVDb250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBOZXN0YWJsZUNvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLml0ZW1zID0gIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGl0ZW06IHt0ZXh0OiAnYSd9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICdiJ30sXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICdjJ30sXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICdkJ30sXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGl0ZW06IHt0ZXh0OiAnZSd9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICdmJ30sXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgdm0uaXRlbXMyID0gIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGl0ZW06IHt0ZXh0OiAnMSd9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICcyJ30sXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICczJ30sXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICc0J30sXHJcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGl0ZW06IHt0ZXh0OiAnNSd9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaXRlbToge3RleHQ6ICc2J30sXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IHNjcm9sbC5qc1xuICogTWFrZSBhIGNvbnRlbnQgYm94IHNjcm9sbGFibGVcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZWxlbWVudHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdzY3JvbGxhYmxlJywgc2Nyb2xsYWJsZSk7XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxhYmxlICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgdmFyIGRlZmF1bHRIZWlnaHQgPSAyNTA7XG4gICAgICAgICAgZWxlbWVudC5zbGltU2Nyb2xsKHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAoYXR0cnMuaGVpZ2h0IHx8IGRlZmF1bHRIZWlnaHQpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBzb3J0YWJsZS5qc1xyXG4gKiBTb3J0YWJsZSBjb250cm9sbGVyXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5lbGVtZW50cycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1NvcnRhYmxlQ29udHJvbGxlcicsIFNvcnRhYmxlQ29udHJvbGxlcik7XHJcblxyXG4gICAgU29ydGFibGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZSddO1xyXG4gICAgZnVuY3Rpb24gU29ydGFibGVDb250cm9sbGVyKCRzY29wZSkge1xyXG4gICAgICAgIC8vIGRvZXNuJ3Qgc3VwcG9ydCBjb250cm9sbGVyQXMgc3ludGF4IGh0dHBzOi8vZ2l0aHViLmNvbS92b2lkYmVyZy9odG1sNXNvcnRhYmxlL2lzc3Vlcy84NlxyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgLy8gU2luZ2xlIExpc3RcclxuICAgICAgICAgICRzY29wZS5kYXRhMSA9IFtcclxuICAgICAgICAgICAgeyBpZDogMSwgbmFtZTogJ0RvbmFsZCBIb2ZmbWFuJyB9LFxyXG4gICAgICAgICAgICB7IGlkOiAyLCBuYW1lOiAnV2FsbGFjZSBCYXJyZXR0JyB9LFxyXG4gICAgICAgICAgICB7IGlkOiAzLCBuYW1lOiAnTWFyc2hhIEhpY2tzJyB9LFxyXG4gICAgICAgICAgICB7IGlkOiA0LCBuYW1lOiAnUm9sYW5kIEJyb3duJyB9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICRzY29wZS5hZGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhMS5wdXNoKHtpZDogJHNjb3BlLmRhdGExLmxlbmd0aCArIDEsIG5hbWU6ICdFYXJsIEtuaWdodCd9KTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLnNvcnRhYmxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoc291cmNlTW9kZWwsIGRlc3RNb2RlbCwgc3RhcnQsIGVuZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGFydCArICcgLT4gJyArIGVuZCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAkc2NvcGUuc29ydGFibGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnPGRpdiBjbGFzcz1cImJveC1wbGFjZWhvbGRlciBwMCBtMFwiPjxkaXY+PC9kaXY+PC9kaXY+JyxcclxuICAgICAgICAgICAgICBmb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBzd2VldGFsZXJ0LmpzXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZWxlbWVudHMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdTd2VldEFsZXJ0Q29udHJvbGxlcicsIFN3ZWV0QWxlcnRDb250cm9sbGVyKTtcclxuXHJcbiAgICBTd2VldEFsZXJ0Q29udHJvbGxlci4kaW5qZWN0ID0gWydTd2VldEFsZXJ0J107XHJcbiAgICBmdW5jdGlvbiBTd2VldEFsZXJ0Q29udHJvbGxlcihTd2VldEFsZXJ0KSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLmRlbW8xID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCgnSGVyZVxcJ3MgYSBtZXNzYWdlJyk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmRlbW8yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCgnSGVyZVxcJ3MgYSBtZXNzYWdlIScsICdJdFxcJ3MgcHJldHR5LCBpc25cXCd0IGl0PycpO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5kZW1vMyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBTd2VldEFsZXJ0LnN3YWwoJ0dvb2Qgam9iIScsICdZb3UgY2xpY2tlZCB0aGUgYnV0dG9uIScsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmRlbW80ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCh7ICAgXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywgICBcclxuICAgICAgICAgICAgICB0ZXh0OiAnWW91ciB3aWxsIG5vdCBiZSBhYmxlIHRvIHJlY292ZXIgdGhpcyBpbWFnaW5hcnkgZmlsZSEnLCAgIFxyXG4gICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywgICBcclxuICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLCAgIFxyXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyNERDZCNTUnLCAgIFxyXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJyxcclxuICAgICAgICAgICAgICBjbG9zZU9uQ29uZmlybTogZmFsc2VcclxuICAgICAgICAgICAgfSwgIGZ1bmN0aW9uKCl7ICBcclxuICAgICAgICAgICAgICBTd2VldEFsZXJ0LnN3YWwoJ0Jvb3lhaCEnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmRlbW81ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCh7ICAgXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywgICBcclxuICAgICAgICAgICAgICB0ZXh0OiAnWW91ciB3aWxsIG5vdCBiZSBhYmxlIHRvIHJlY292ZXIgdGhpcyBpbWFnaW5hcnkgZmlsZSEnLCAgIFxyXG4gICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywgICBcclxuICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLCAgIFxyXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyNERDZCNTUnLCAgIFxyXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzLCBkZWxldGUgaXQhJywgICBcclxuICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnTm8sIGNhbmNlbCBwbHghJywgICBcclxuICAgICAgICAgICAgICBjbG9zZU9uQ29uZmlybTogZmFsc2UsICAgXHJcbiAgICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogZmFsc2UgXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGlzQ29uZmlybSl7ICBcclxuICAgICAgICAgICAgICBpZiAoaXNDb25maXJtKSB7ICAgICBcclxuICAgICAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCgnRGVsZXRlZCEnLCAnWW91ciBpbWFnaW5hcnkgZmlsZSBoYXMgYmVlbiBkZWxldGVkLicsICdzdWNjZXNzJyk7ICAgXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHsgICAgIFxyXG4gICAgICAgICAgICAgICAgU3dlZXRBbGVydC5zd2FsKCdDYW5jZWxsZWQnLCAnWW91ciBpbWFnaW5hcnkgZmlsZSBpcyBzYWZlIDopJywgJ2Vycm9yJyk7ICAgXHJcbiAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmRlbW82ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCh7ICAgXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdTd2VldCEnLCAgIFxyXG4gICAgICAgICAgICAgIHRleHQ6ICdIZXJlXFwncyBhIGN1c3RvbSBpbWFnZS4nLCAgIFxyXG4gICAgICAgICAgICAgIGltYWdlVXJsOiAnaHR0cDovL29pdG96ZXJvLmNvbS9pbWcvYXZhdGFyLmpwZycgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBkZW1vLXRvYXN0ZXIuanNcbiAqIERlbW9zIGZvciB0b2FzdGVyIG5vdGlmaWNhdGlvbnNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZWxlbWVudHMnKVxuICAgICAgICAuY29udHJvbGxlcignVG9hc3RlckRlbW9DdHJsJywgVG9hc3RlckRlbW9DdHJsKTtcblxuICAgIFRvYXN0ZXJEZW1vQ3RybC4kaW5qZWN0ID0gWyd0b2FzdGVyJ107XG4gICAgZnVuY3Rpb24gVG9hc3RlckRlbW9DdHJsKHRvYXN0ZXIpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICB2bS50b2FzdGVyID0ge1xuICAgICAgICAgICAgICB0eXBlOiAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICB0aXRsZTogJ1RpdGxlJyxcbiAgICAgICAgICAgICAgdGV4dDogICdNZXNzYWdlJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS5wb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKHZtLnRvYXN0ZXIudHlwZSwgdm0udG9hc3Rlci50aXRsZSwgdm0udG9hc3Rlci50ZXh0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IHRvdXIuanNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5lbGVtZW50cycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1RvdXJDdHJsJywgVG91ckN0cmwpO1xyXG5cclxuICAgIFRvdXJDdHJsLiRpbmplY3QgPSBbJyRzY29wZSddO1xyXG4gICAgZnVuY3Rpb24gVG91ckN0cmwoJHNjb3BlKSB7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAvLyBCb290c3RyYXBUb3VyIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggei1pbmRleCBiYXNlZCBsYXlvdXRcclxuICAgICAgICAgIC8vIHNvIGFkZGluZyBwb3NpdGlvbjpzdGF0aWMgZm9yIHRoaXMgY2FzZSBtYWtlcyB0aGUgYnJvd3NlclxyXG4gICAgICAgICAgLy8gdG8gaWdub3JlIHRoZSBwcm9wZXJ0eVxyXG4gICAgICAgICAgdmFyIHNlY3Rpb24gPSBhbmd1bGFyLmVsZW1lbnQoJy53cmFwcGVyID4gc2VjdGlvbicpO1xyXG4gICAgICAgICAgc2VjdGlvbi5jc3Moeydwb3NpdGlvbic6ICdzdGF0aWMnfSk7XHJcbiAgICAgICAgICAvLyBmaW5hbGx5IHJlc3RvcmUgb24gZGVzdHJveSBhbmQgcmV1c2UgdGhlIHZhbHVlIGRlY2xhcmVkIGluIHN0eWxlc2hlZXRcclxuICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc2VjdGlvbi5jc3Moeydwb3NpdGlvbic6ICcnfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGFydGljbGUuanNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmV4dHJhcycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0FydGljbGVDb250cm9sbGVyJywgQXJ0aWNsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIEFydGljbGVDb250cm9sbGVyKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICB2bS5odG1sQ29udGVudCA9ICdBcnRpY2xlIGNvbnRlbnQuLi4nO1xyXG5cclxuICAgICAgICAgIHZtLnBvc3REZW1vID0ge307XHJcbiAgICAgICAgICB2bS5wb3N0RGVtby50YWdzID0gWydjb2RpbmcnLCAnbGVzcyddO1xyXG4gICAgICAgICAgdm0uYXZhaWxhYmxlVGFncyA9IFsnY29kaW5nJywgJ2xlc3MnLCAnc2FzcycsICdhbmd1bGFyanMnLCAnbm9kZScsICdleHByZXNzSlMnXTtcclxuICAgICAgICAgIHZtLnBvc3REZW1vLmNhdGVnb3JpZXMgPSBbJ0pBVkFTQ1JJUFQnLCdXRUInXTtcclxuICAgICAgICAgIHZtLmF2YWlsYWJsZUNhdGVnb3JpZXMgPSBbJ0pBVkFTQ1JJUFQnLCdXRUInLCAnQk9PVFNUUkFQJywgJ1NFUlZFUicsICdIVE1MNScsICdDU1MnXTtcclxuXHJcbiAgICAgICAgICB2bS5yZXZpZXdlcnMgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0FkYW0nLCAgICAgIGVtYWlsOiAnYWRhbUBlbWFpbC5jb20nLCAgICAgIGFnZTogMTAgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnQW1hbGllJywgICAgZW1haWw6ICdhbWFsaWVAZW1haWwuY29tJywgICAgYWdlOiAxMiB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdXbGFkaW1pcicsICBlbWFpbDogJ3dsYWRpbWlyQGVtYWlsLmNvbScsICBhZ2U6IDMwIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ1NhbWFudGhhJywgIGVtYWlsOiAnc2FtYW50aGFAZW1haWwuY29tJywgIGFnZTogMzEgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnRXN0ZWZhbsOtYScsIGVtYWlsOiAnZXN0ZWZhbsOtYUBlbWFpbC5jb20nLCBhZ2U6IDE2IH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ05hdGFzaGEnLCAgIGVtYWlsOiAnbmF0YXNoYUBlbWFpbC5jb20nLCAgIGFnZTogNTQgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnTmljb2xlJywgICAgZW1haWw6ICduaWNvbGVAZW1haWwuY29tJywgICAgYWdlOiA0MyB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdBZHJpYW4nLCAgICBlbWFpbDogJ2FkcmlhbkBlbWFpbC5jb20nLCAgICBhZ2U6IDIxIH1cclxuICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgIHZtLmFsZXJ0cyA9IFtcclxuICAgICAgICAgICAgeyB0eXBlOiAnaW5mbycsIG1zZzogJ1RoZXJlIGlzIGFuIGF1dG9zYXZlZCB2ZXJzaW9uIG9mIHRoaXMgYXJ0aWNsZSB0aGF0IGlzIG1vcmUgcmVjZW50IHRoYW4gdGhlIHZlcnNpb24gYmVsb3cuIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ0ZXh0LXdoaXRlXCI+UmVzdG9yZTwvYT4nIH1cclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgdm0uY2xvc2VBbGVydCA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZtLmFsZXJ0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBjYWxlbmRhci11aS5qc1xuICogVGhpcyBzY3JpcHQgaGFuZGxlIHRoZSBjYWxlbmRhciBkZW1vIHdpdGggZHJhZ2dhYmxlIFxuICogZXZlbnRzIGFuZCBldmVudHMgY3JlYXRpb25zXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmV4dHJhcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NhbGVuZGFyJywgY2FsZW5kYXIpO1xuXG4gICAgY2FsZW5kYXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuICAgIGZ1bmN0aW9uIGNhbGVuZGFyICgkcm9vdFNjb3BlKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYoISQuZm4uZnVsbENhbGVuZGFyKSByZXR1cm47XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGRpc3BsYXkgdGhlIGNhbGVuZGFyXG4gICAgICAgICAgdmFyIGNhbGVuZGFyID0gZWxlbWVudDtcblxuICAgICAgICAgIHZhciBkZW1vRXZlbnRzID0gY3JlYXRlRGVtb0V2ZW50cygpO1xuXG4gICAgICAgICAgaW5pdEV4dGVybmFsRXZlbnRzKGNhbGVuZGFyKTtcblxuICAgICAgICAgIGluaXRDYWxlbmRhcihjYWxlbmRhciwgZGVtb0V2ZW50cywgJHJvb3RTY29wZS5hcHAubGF5b3V0LmlzUlRMKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gZ2xvYmFsIHNoYXJlZCB2YXIgdG8ga25vdyB3aGF0IHdlIGFyZSBkcmFnZ2luZ1xuICAgIHZhciBkcmFnZ2luZ0V2ZW50ID0gbnVsbDtcblxuXG4gICAgLyoqXG4gICAgICogRXh0ZXJuYWxFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0galF1ZXJ5IE9iamVjdCBlbGVtZW50cyBTZXQgb2YgZWxlbWVudCBhcyBqUXVlcnkgb2JqZWN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4dGVybmFsRXZlbnQoZWxlbWVudHMpIHtcbiAgICAgICAgXG4gICAgICAgIGlmICghZWxlbWVudHMpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIEV2ZW50IE9iamVjdCAoaHR0cDovL2Fyc2hhdy5jb20vZnVsbGNhbGVuZGFyL2RvY3MvZXZlbnRfZGF0YS9FdmVudF9PYmplY3QvKVxuICAgICAgICAgICAgLy8gaXQgZG9lc24ndCBuZWVkIHRvIGhhdmUgYSBzdGFydCBvciBlbmRcbiAgICAgICAgICAgIHZhciBjYWxlbmRhckV2ZW50T2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAkLnRyaW0oJHRoaXMudGV4dCgpKSAvLyB1c2UgdGhlIGVsZW1lbnQncyB0ZXh0IGFzIHRoZSBldmVudCB0aXRsZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gc3RvcmUgdGhlIEV2ZW50IE9iamVjdCBpbiB0aGUgRE9NIGVsZW1lbnQgc28gd2UgY2FuIGdldCB0byBpdCBsYXRlclxuICAgICAgICAgICAgJHRoaXMuZGF0YSgnY2FsZW5kYXJFdmVudE9iamVjdCcsIGNhbGVuZGFyRXZlbnRPYmplY3QpO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHRoZSBldmVudCBkcmFnZ2FibGUgdXNpbmcgalF1ZXJ5IFVJXG4gICAgICAgICAgICAkdGhpcy5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgICAgIHpJbmRleDogMTA3MCxcbiAgICAgICAgICAgICAgICByZXZlcnQ6IHRydWUsIC8vIHdpbGwgY2F1c2UgdGhlIGV2ZW50IHRvIGdvIGJhY2sgdG8gaXRzXG4gICAgICAgICAgICAgICAgcmV2ZXJ0RHVyYXRpb246IDAgIC8vICBvcmlnaW5hbCBwb3NpdGlvbiBhZnRlciB0aGUgZHJhZ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlIGZ1bGwgY2FsZW5kYXIgcGx1Z2luIGFuZCBhdHRhY2ggYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0gIGpRdWVyeSBbY2FsRWxlbWVudF0gVGhlIGNhbGVuZGFyIGRvbSBlbGVtZW50IHdyYXBwZWQgaW50byBqUXVlcnlcbiAgICAgKiBAcGFyYW0gIEV2ZW50T2JqZWN0IFtldmVudHNdIEFuIG9iamVjdCB3aXRoIHRoZSBldmVudCBsaXN0IHRvIGxvYWQgd2hlbiB0aGUgY2FsZW5kYXIgZGlzcGxheXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2FsZW5kYXIoY2FsRWxlbWVudCwgZXZlbnRzLCBpc1JUTCkge1xuXG4gICAgICAgIC8vIGNoZWNrIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBsaXN0XG4gICAgICAgIHZhciByZW1vdmVBZnRlckRyb3AgPSAkKCcjcmVtb3ZlLWFmdGVyLWRyb3AnKTtcblxuICAgICAgICBjYWxFbGVtZW50LmZ1bGxDYWxlbmRhcih7XG4gICAgICAgICAgICBpc1JUTDogaXNSVEwsXG4gICAgICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAgICdwcmV2LG5leHQgdG9kYXknLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogJ3RpdGxlJyxcbiAgICAgICAgICAgICAgICByaWdodDogICdtb250aCxhZ2VuZGFXZWVrLGFnZW5kYURheSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidXR0b25JY29uczogeyAvLyBub3RlIHRoZSBzcGFjZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgcHJldjogICAgJyBmYSBmYS1jYXJldC1sZWZ0JyxcbiAgICAgICAgICAgICAgICBuZXh0OiAgICAnIGZhIGZhLWNhcmV0LXJpZ2h0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1dHRvblRleHQ6IHtcbiAgICAgICAgICAgICAgICB0b2RheTogJ3RvZGF5JyxcbiAgICAgICAgICAgICAgICBtb250aDogJ21vbnRoJyxcbiAgICAgICAgICAgICAgICB3ZWVrOiAgJ3dlZWsnLFxuICAgICAgICAgICAgICAgIGRheTogICAnZGF5J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZHJvcHBhYmxlOiB0cnVlLCAvLyB0aGlzIGFsbG93cyB0aGluZ3MgdG8gYmUgZHJvcHBlZCBvbnRvIHRoZSBjYWxlbmRhciBcbiAgICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uKGRhdGUsIGFsbERheSkgeyAvLyB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHNvbWV0aGluZyBpcyBkcm9wcGVkXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgdGhlIGRyb3BwZWQgZWxlbWVudCdzIHN0b3JlZCBFdmVudCBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudE9iamVjdCA9ICR0aGlzLmRhdGEoJ2NhbGVuZGFyRXZlbnRPYmplY3QnKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nLCBhYm9ydFxuICAgICAgICAgICAgICAgIGlmKCFvcmlnaW5hbEV2ZW50T2JqZWN0KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBjbG9uZSB0aGUgb2JqZWN0IHRvIGF2b2lkIG11bHRpcGxlIGV2ZW50cyB3aXRoIHJlZmVyZW5jZSB0byB0aGUgc2FtZSBvYmplY3RcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmVkRXZlbnRPYmplY3QgPSAkLmV4dGVuZCh7fSwgb3JpZ2luYWxFdmVudE9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gdGhlIHJlcG9ydGVkIGRhdGVcbiAgICAgICAgICAgICAgICBjbG9uZWRFdmVudE9iamVjdC5zdGFydCA9IGRhdGU7XG4gICAgICAgICAgICAgICAgY2xvbmVkRXZlbnRPYmplY3QuYWxsRGF5ID0gYWxsRGF5O1xuICAgICAgICAgICAgICAgIGNsb25lZEV2ZW50T2JqZWN0LmJhY2tncm91bmRDb2xvciA9ICR0aGlzLmNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgICAgICAgICAgICAgIGNsb25lZEV2ZW50T2JqZWN0LmJvcmRlckNvbG9yID0gJHRoaXMuY3NzKCdib3JkZXItY29sb3InKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbmRlciB0aGUgZXZlbnQgb24gdGhlIGNhbGVuZGFyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGxhc3QgYHRydWVgIGFyZ3VtZW50IGRldGVybWluZXMgaWYgdGhlIGV2ZW50IFwic3RpY2tzXCIgXG4gICAgICAgICAgICAgICAgLy8gKGh0dHA6Ly9hcnNoYXcuY29tL2Z1bGxjYWxlbmRhci9kb2NzL2V2ZW50X3JlbmRlcmluZy9yZW5kZXJFdmVudC8pXG4gICAgICAgICAgICAgICAgY2FsRWxlbWVudC5mdWxsQ2FsZW5kYXIoJ3JlbmRlckV2ZW50JywgY2xvbmVkRXZlbnRPYmplY3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGlmIG5lY2Vzc2FyeSByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGlmKHJlbW92ZUFmdGVyRHJvcC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50RHJhZ1N0YXJ0OiBmdW5jdGlvbiAoZXZlbnQvKiwganMsIHVpKi8pIHtcbiAgICAgICAgICAgICAgZHJhZ2dpbmdFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdGhlIGV2ZW50cyBzb3VyY2VzXG4gICAgICAgICAgICBldmVudHM6IGV2ZW50c1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgZXh0ZXJuYWwgZXZlbnRzIHBhbmVsXG4gICAgICogQHBhcmFtICBqUXVlcnkgW2NhbEVsZW1lbnRdIFRoZSBjYWxlbmRhciBkb20gZWxlbWVudCB3cmFwcGVkIGludG8galF1ZXJ5XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdEV4dGVybmFsRXZlbnRzKGNhbEVsZW1lbnQpe1xuICAgICAgLy8gUGFuZWwgd2l0aCB0aGUgZXh0ZXJuYWwgZXZlbnRzIGxpc3RcbiAgICAgIHZhciBleHRlcm5hbEV2ZW50cyA9ICQoJy5leHRlcm5hbC1ldmVudHMnKTtcblxuICAgICAgLy8gaW5pdCB0aGUgZXh0ZXJuYWwgZXZlbnRzIGluIHRoZSBwYW5lbFxuICAgICAgbmV3IEV4dGVybmFsRXZlbnQoZXh0ZXJuYWxFdmVudHMuY2hpbGRyZW4oJ2RpdicpKTtcblxuICAgICAgLy8gRXh0ZXJuYWwgZXZlbnQgY29sb3IgaXMgZGFuZ2VyLXJlZCBieSBkZWZhdWx0XG4gICAgICB2YXIgY3VyckNvbG9yID0gJyNmNjUwNGQnO1xuICAgICAgLy8gQ29sb3Igc2VsZWN0b3IgYnV0dG9uXG4gICAgICB2YXIgZXZlbnRBZGRCdG4gPSAkKCcuZXh0ZXJuYWwtZXZlbnQtYWRkLWJ0bicpO1xuICAgICAgLy8gTmV3IGV4dGVybmFsIGV2ZW50IG5hbWUgaW5wdXRcbiAgICAgIHZhciBldmVudE5hbWVJbnB1dCA9ICQoJy5leHRlcm5hbC1ldmVudC1uYW1lJyk7XG4gICAgICAvLyBDb2xvciBzd2l0Y2hlcnNcbiAgICAgIHZhciBldmVudENvbG9yU2VsZWN0b3IgPSAkKCcuZXh0ZXJuYWwtZXZlbnQtY29sb3Itc2VsZWN0b3IgLmNpcmNsZScpO1xuXG4gICAgICAvLyBUcmFzaCBldmVudHMgRHJvcGFyZWEgXG4gICAgICAkKCcuZXh0ZXJuYWwtZXZlbnRzLXRyYXNoJykuZHJvcHBhYmxlKHtcbiAgICAgICAgYWNjZXB0OiAgICAgICAnLmZjLWV2ZW50JyxcbiAgICAgICAgYWN0aXZlQ2xhc3M6ICAnYWN0aXZlJyxcbiAgICAgICAgaG92ZXJDbGFzczogICAnaG92ZXJlZCcsXG4gICAgICAgIHRvbGVyYW5jZTogICAgJ3RvdWNoJyxcbiAgICAgICAgZHJvcDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gWW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvbiB0byBzZW5kIGFuIGFqYXggcmVxdWVzdFxuICAgICAgICAgIC8vIHRvIHJlbW92ZSB0aGUgZXZlbnQgZnJvbSB0aGUgcmVwb3NpdG9yeVxuICAgICAgICAgIFxuICAgICAgICAgIGlmKGRyYWdnaW5nRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBlaWQgPSBkcmFnZ2luZ0V2ZW50LmlkIHx8IGRyYWdnaW5nRXZlbnQuX2lkO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBldmVudFxuICAgICAgICAgICAgY2FsRWxlbWVudC5mdWxsQ2FsZW5kYXIoJ3JlbW92ZUV2ZW50cycsIGVpZCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGRvbSBlbGVtZW50XG4gICAgICAgICAgICB1aS5kcmFnZ2FibGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAvLyBjbGVhclxuICAgICAgICAgICAgZHJhZ2dpbmdFdmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZXZlbnRDb2xvclNlbGVjdG9yLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgIC8vIFNhdmUgY29sb3JcbiAgICAgICAgICBjdXJyQ29sb3IgPSAkdGhpcy5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcbiAgICAgICAgICAvLyBEZS1zZWxlY3QgYWxsIGFuZCBzZWxlY3QgdGhlIGN1cnJlbnQgb25lXG4gICAgICAgICAgZXZlbnRDb2xvclNlbGVjdG9yLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50QWRkQnRuLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2V0IGV2ZW50IG5hbWUgZnJvbSBpbnB1dFxuICAgICAgICAgIHZhciB2YWwgPSBldmVudE5hbWVJbnB1dC52YWwoKTtcbiAgICAgICAgICAvLyBEb250IGFsbG93IGVtcHR5IHZhbHVlc1xuICAgICAgICAgIGlmICgkLnRyaW0odmFsKSA9PT0gJycpIHJldHVybjtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgbmV3IGV2ZW50IGVsZW1lbnRcbiAgICAgICAgICB2YXIgbmV3RXZlbnQgPSAkKCc8ZGl2Lz4nKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBjdXJyQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogICAgIGN1cnJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xvcic6ICAgICAgICAgICAgJyNmZmYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKHZhbCk7XG5cbiAgICAgICAgICAvLyBQcmVwZW5kcyB0byB0aGUgZXh0ZXJuYWwgZXZlbnRzIGxpc3RcbiAgICAgICAgICBleHRlcm5hbEV2ZW50cy5wcmVwZW5kKG5ld0V2ZW50KTtcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBuZXcgZXZlbnQgZWxlbWVudFxuICAgICAgICAgIG5ldyBFeHRlcm5hbEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgICAvLyBDbGVhciBpbnB1dFxuICAgICAgICAgIGV2ZW50TmFtZUlucHV0LnZhbCgnJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGV2ZW50cyB0byBkaXNwbGF5IGluIHRoZSBmaXJzdCBsb2FkIG9mIHRoZSBjYWxlbmRhclxuICAgICAqIFdyYXAgaW50byB0aGlzIGZ1bmN0aW9uIGEgcmVxdWVzdCB0byBhIHNvdXJjZSB0byBnZXQgdmlhIGFqYXggdGhlIHN0b3JlZCBldmVudHNcbiAgICAgKiBAcmV0dXJuIEFycmF5IFRoZSBhcnJheSB3aXRoIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVEZW1vRXZlbnRzKCkge1xuICAgICAgLy8gRGF0ZSBmb3IgdGhlIGNhbGVuZGFyIGV2ZW50cyAoZHVtbXkgZGF0YSlcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBkID0gZGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgbSA9IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICByZXR1cm4gIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQWxsIERheSBFdmVudCcsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSh5LCBtLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y1Njk1NCcsIC8vcmVkIFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyNmNTY5NTQnIC8vcmVkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9uZyBFdmVudCcsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSh5LCBtLCBkIC0gNSksXG4gICAgICAgICAgICAgICAgICAgIGVuZDogbmV3IERhdGUoeSwgbSwgZCAtIDIpLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjM5YzEyJywgLy95ZWxsb3dcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjZjM5YzEyJyAvL3llbGxvd1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ01lZXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogbmV3IERhdGUoeSwgbSwgZCwgMTAsIDMwKSxcbiAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNzNiNycsIC8vQmx1ZVxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMDczYjcnIC8vQmx1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0x1bmNoJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKHksIG0sIGQsIDEyLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBuZXcgRGF0ZSh5LCBtLCBkLCAxNCwgMCksXG4gICAgICAgICAgICAgICAgICAgIGFsbERheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGMwZWYnLCAvL0luZm8gKGFxdWEpXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwYzBlZicgLy9JbmZvIChhcXVhKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0JpcnRoZGF5IFBhcnR5JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKHksIG0sIGQgKyAxLCAxOSwgMCksXG4gICAgICAgICAgICAgICAgICAgIGVuZDogbmV3IERhdGUoeSwgbSwgZCArIDEsIDIyLCAzMCksXG4gICAgICAgICAgICAgICAgICAgIGFsbERheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGE2NWEnLCAvL1N1Y2Nlc3MgKGdyZWVuKVxuICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMGE2NWEnIC8vU3VjY2VzcyAoZ3JlZW4pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT3BlbiBHb29nbGUnLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogbmV3IERhdGUoeSwgbSwgMjgpLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IG5ldyBEYXRlKHksIG0sIDI5KSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnLy9nb29nbGUuY29tLycsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzYzhkYmMnLCAvL1ByaW1hcnkgKGxpZ2h0LWJsdWUpXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzNjOGRiYycgLy9QcmltYXJ5IChsaWdodC1ibHVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZXh0cmFzJylcclxuICAgICAgICAuc2VydmljZSgnTG9hZFRyZWVTZXJ2aWNlJywgTG9hZFRyZWVTZXJ2aWNlKTtcclxuXHJcbiAgICBMb2FkVHJlZVNlcnZpY2UuJGluamVjdCA9IFsnJHJlc291cmNlJ107XHJcbiAgICBmdW5jdGlvbiBMb2FkVHJlZVNlcnZpY2UoJHJlc291cmNlKSB7XHJcbiAgICAgICAgLy8gTG9hZHMgdGhlIGxpc3Qgb2YgZmlsZXMgdG8gcG9wdWxhdGUgdGhlIHRyZWV2aWV3XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnc2VydmVyL2VkaXRvci9maWxldHJlZS5qc29uJyk7XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGNvZGUtZWRpdG9yLmpzXHJcbiAqIENvZGVtaXJyb3IgY29kZSBlZGl0b3IgY29udHJvbGxlclxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmV4dHJhcycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0NvZGVFZGl0b3JDb250cm9sbGVyJywgQ29kZUVkaXRvckNvbnRyb2xsZXIpO1xyXG5cclxuICAgIENvZGVFZGl0b3JDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRodHRwJywgJyRvY0xhenlMb2FkJywgJ2ZpbGV0cmVlJ107XHJcbiAgICBmdW5jdGlvbiBDb2RlRWRpdG9yQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICRodHRwLCAkb2NMYXp5TG9hZCwgZmlsZXRyZWUpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBsYXlvdXQoKTtcclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLypqc2hpbnQgLVcxMDYqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGxheW91dCgpIHtcclxuICAgICAgICAgIC8vIFNldHVwIHRoZSBsYXlvdXQgbW9kZSBcclxuICAgICAgICAgICRyb290U2NvcGUuYXBwLnVzZUZ1bGxMYXlvdXQgPSB0cnVlO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS5hcHAuaGlkZGVuRm9vdGVyID0gdHJ1ZTtcclxuICAgICAgICAgICRyb290U2NvcGUuYXBwLmxheW91dC5pc0NvbGxhcHNlZCA9IHRydWU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFJlc3RvcmUgbGF5b3V0IGZvciBkZW1vXHJcbiAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS5hcHAudXNlRnVsbExheW91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICRyb290U2NvcGUuYXBwLmhpZGRlbkZvb3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG4gICAgICAgICAgLy8gU2V0IHRoZSB0cmVlIGRhdGEgaW50byB0aGUgc2NvcGVcclxuICAgICAgICAgIHZtLmZpbGV0cmVlX2RhdGEgPSBmaWxldHJlZTtcclxuXHJcbiAgICAgICAgICAvLyBBdmFpbGFibGUgdGhlbWVzXHJcbiAgICAgICAgICB2bS5lZGl0b3JUaGVtZXMgPSBbJzMwMjQtZGF5JywnMzAyNC1uaWdodCcsJ2FtYmlhbmNlLW1vYmlsZScsJ2FtYmlhbmNlJywnYmFzZTE2LWRhcmsnLCdiYXNlMTYtbGlnaHQnLCdibGFja2JvYXJkJywnY29iYWx0JywnZWNsaXBzZScsJ2VsZWdhbnQnLCdlcmxhbmctZGFyaycsJ2xlc3Nlci1kYXJrJywnbWJvJywnbWRuLWxpa2UnLCdtaWRuaWdodCcsJ21vbm9rYWknLCduZWF0JywnbmVvJywnbmlnaHQnLCdwYXJhaXNvLWRhcmsnLCdwYXJhaXNvLWxpZ2h0JywncGFzdGVsLW9uLWRhcmsnLCdydWJ5Ymx1ZScsJ3NvbGFyaXplZCcsJ3RoZS1tYXRyaXgnLCd0b21vcnJvdy1uaWdodC1laWdodGllcycsJ3R3aWxpZ2h0JywndmlicmFudC1pbmsnLCd4cS1kYXJrJywneHEtbGlnaHQnXTtcclxuXHJcbiAgICAgICAgICB2bS5lZGl0b3JPcHRzID0ge1xyXG4gICAgICAgICAgICBtb2RlOiAnamF2YXNjcmlwdCcsXHJcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxyXG4gICAgICAgICAgICB0aGVtZTogJ21ibycsXHJcbiAgICAgICAgICAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5yZWZyZXNoRWRpdG9yID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBMb2FkIGRpbmFtaWNhbGx5IHRoZSBzdHlsZXNoZWV0IGZvciB0aGUgc2VsZWN0ZWQgdGhlbWVcclxuICAgICAgICAgIC8vIFlvdSBjYW4gdXNlIG96TGF6eUxvYWQgdG8gbG9hZCBhbHNvIHRoZSBtb2RlIGpzIGJhc2VkIFxyXG4gICAgICAgICAgLy8gb24gdGhlIGZpbGUgZXh0ZW5zaW9uIHRoYXQgaXMgbG9hZGVkIChzZWUgaGFuZGxlX2ZpbGV0cmVlKVxyXG4gICAgICAgICAgdm0ubG9hZFRoZW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBCQVNFID0gJ3ZlbmRvci9jb2RlbWlycm9yL3RoZW1lLyc7XHJcbiAgICAgICAgICAgICRvY0xhenlMb2FkLmxvYWQoQkFTRSArIHZtLmVkaXRvck9wdHMudGhlbWUgKyAnLmNzcycpO1xyXG4gICAgICAgICAgICB2bS5yZWZyZXNoRWRpdG9yID0gIXZtLnJlZnJlc2hFZGl0b3I7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLy8gbG9hZCBkZWZhdWx0IHRoZW1lXHJcbiAgICAgICAgICB2bS5sb2FkVGhlbWUodm0uZWRpdG9yT3B0cy50aGVtZSk7XHJcbiAgICAgICAgICAvLyBBZGQgc29tZSBpbml0aWFsIHRleHRcclxuICAgICAgICAgIHZtLmNvZGUgPSAnLy8gT3BlbiBhIGZpbGUgZnJvbSB0aGUgbGVmdCBtZW51IFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLy8gSXQgd2lsbCBiZSByZXF1ZXN0ZWQgdG8gdGhlIHNlcnZlciBhbmQgbG9hZGVkIGludG8gdGhlIGVkaXRvclxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLy8gQWxzbyB0cnkgYWRkaW5nIGEgTmV3IEZpbGUgZnJvbSB0aGUgdG9vbGJhclxcbic7XHJcblxyXG5cclxuICAgICAgICAgIC8vIFRyZWVcclxuXHJcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRCcmFuY2g7XHJcbiAgICAgICAgICB2bS5oYW5kbGVfZmlsZXRyZWUgPSBmdW5jdGlvbihicmFuY2gpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNlbGVjdGVkQnJhbmNoID0gYnJhbmNoO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJhc2VQYXRoID0gJ3NlcnZlci9lZGl0b3IvJztcclxuICAgICAgICAgICAgdmFyIGlzRm9sZGVyID0gISFicmFuY2guY2hpbGRyZW4ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdSBzZWxlY3RlZDogJyArIGJyYW5jaC5sYWJlbCArICcgLSBpc0ZvbGRlcj8gJyArIGlzRm9sZGVyKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggISBpc0ZvbGRlciApIHtcclxuXHJcbiAgICAgICAgICAgICAgJGh0dHBcclxuICAgICAgICAgICAgICAgIC5nZXQoIGJhc2VQYXRoICsgYnJhbmNoLnBhdGggKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRlZC4uICcgKyBicmFuY2gucGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbmV3IGNvZGUgaW50byB0aGUgZWRpdG9yXHJcbiAgICAgICAgICAgICAgICAgIHZtLmNvZGUgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHZtLmVkaXRvck9wdHMubW9kZSA9IGRldGVjdE1vZGUoYnJhbmNoLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJ01vZGUgaXM6ICcgKyB2bS5lZGl0b3JPcHRzLm1vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGRldGVjdE1vZGUoZmlsZSkge1xyXG4gICAgICAgICAgICB2YXIgZXh0ID0gZmlsZS5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICBleHQgPSBleHQgPyBleHRbZXh0Lmxlbmd0aCAtIDFdIDogJyc7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZXh0KSB7XHJcbiAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6ICByZXR1cm4gJ2h0bWxtaXhlZCc7XHJcbiAgICAgICAgICAgICAgY2FzZSAnY3NzJzogICByZXR1cm4gJ2Nzcyc7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDogICAgICByZXR1cm4gJ2phdmFzY3JpcHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIHRyZWU7XHJcbiAgICAgICAgICB0cmVlID0gdm0uZmlsZXRyZWUgPSB7fTtcclxuXHJcbiAgICAgICAgICAvLyBBZGRzIGEgbmV3IGJyYW5jaCB0byB0aGUgdHJlZVxyXG4gICAgICAgICAgdm0ubmV3X2ZpbGV0cmVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBiO1xyXG4gICAgICAgICAgICBiID0gdHJlZS5nZXRfc2VsZWN0ZWRfYnJhbmNoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB3ZSBzZWxlY3QgYSBsZWFmIC0+IHNlbGVjdCB0aGUgcGFyZW50IGZvbGRlclxyXG4gICAgICAgICAgICBpZiAoIGIgJiYgYi5jaGlsZHJlbi5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgYiA9IHRyZWUuZ2V0X3BhcmVudF9icmFuY2goYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB0cmVlLmFkZF9icmFuY2goYiwge1xyXG4gICAgICAgICAgICAgICdsYWJlbCc6ICdhbm90aGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICdwYXRoJzogJ3NvdXJjZS9hbm90aGVyLmh0bWwnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIlxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmV4dHJhcycpXG4gICAgICAgIC5jb250cm9sbGVyKCdUb2RvQ29udHJvbGxlcicsIFRvZG9Db250cm9sbGVyKTtcblxuICAgIFRvZG9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRmaWx0ZXInXTtcbiAgICBmdW5jdGlvbiBUb2RvQ29udHJvbGxlcigkZmlsdGVyKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgIHZtLml0ZW1zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b2RvOiB7dGl0bGU6ICdNZWV0aW5nIHdpdGggTWFyayBhdCA3YW0uJywgZGVzY3JpcHRpb246ICdQZWxsZW50ZXNxdWUgY29udmFsbGlzIG1hdXJpcyBldSBlbGl0IGltcGVyZGlldCBxdWlzIGVsZWlmZW5kIHF1YW0gYWxpcXVldC4gJ30sXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b2RvOiB7dGl0bGU6ICdDYWxsIFNvbnlhLiBUYWxrIGFib3V0IHRoZSBuZXcgcHJvamVjdC4nLCBkZXNjcmlwdGlvbjogJyd9LFxuICAgICAgICAgICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvZG86IHt0aXRsZTogJ0ZpbmQgYSBuZXcgcGxhY2UgZm9yIHZhY2F0aW9ucycsIGRlc2NyaXB0aW9uOiAnJ30sXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICBcbiAgICAgICAgICB2bS5lZGl0aW5nVG9kbyA9IGZhbHNlO1xuICAgICAgICAgIHZtLnRvZG8gPSB7fTtcblxuICAgICAgICAgIHZtLmFkZFRvZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIHZtLnRvZG8udGl0bGUgPT09ICcnICkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoICF2bS50b2RvLmRlc2NyaXB0aW9uICkgdm0udG9kby5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiggdm0uZWRpdGluZ1RvZG8gKSB7XG4gICAgICAgICAgICAgIHZtLnRvZG8gPSB7fTtcbiAgICAgICAgICAgICAgdm0uZWRpdGluZ1RvZG8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2bS5pdGVtcy5wdXNoKHt0b2RvOiBhbmd1bGFyLmNvcHkodm0udG9kbyksIGNvbXBsZXRlOiBmYWxzZX0pO1xuICAgICAgICAgICAgICB2bS50b2RvLnRpdGxlID0gJyc7XG4gICAgICAgICAgICAgIHZtLnRvZG8uZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHZtLmVkaXRUb2RvID0gZnVuY3Rpb24oaW5kZXgsICRldmVudCkge1xuICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB2bS50b2RvID0gdm0uaXRlbXNbaW5kZXhdLnRvZG87XG4gICAgICAgICAgICB2bS5lZGl0aW5nVG9kbyA9IHRydWU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZtLnJlbW92ZVRvZG8gPSBmdW5jdGlvbihpbmRleC8qLCAkZXZlbnQqLykge1xuICAgICAgICAgICAgdm0uaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHZtLmNsZWFyQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5pdGVtcyA9IFtdO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2bS50b3RhbENvbXBsZXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2ZpbHRlcicpKHZtLml0ZW1zLCBmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY29tcGxldGU7XG4gICAgICAgICAgICB9KS5sZW5ndGg7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZtLnRvdGFsUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2ZpbHRlcicpKHZtLml0ZW1zLCBmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAgICAgcmV0dXJuICFpdGVtLmNvbXBsZXRlO1xuICAgICAgICAgICAgfSkubGVuZ3RoO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiB3b3JkLWNsb3VkLmpzXHJcbiAqIENvbnRyb2xsZXIgZm9yIGpxQ2xvdWRcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5leHRyYXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdXb3JkQ2xvdWRDb250cm9sbGVyJywgV29yZENsb3VkQ29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gV29yZENsb3VkQ29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIHZtLndvcmRzID0gW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdMb3JlbScsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEzXHJcbiAgICAgICAgICAgICAgICAvL2xpbms6ICdodHRwOi8vdGhlbWljb24uY28nXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ0lwc3VtJyxcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMTAuNVxyXG4gICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdEb2xvcicsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDkuNFxyXG4gICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdTaXQnLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiA4XHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ0FtZXQnLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiA2LjJcclxuICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnQ29uc2VjdGV0dXInLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiA1XHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ0FkaXBpc2NpbmcnLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiA1XHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ1NpdCcsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDhcclxuICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnQW1ldCcsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDYuMlxyXG4gICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdDb25zZWN0ZXR1cicsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDVcclxuICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnQWRpcGlzY2luZycsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGZsYXRkb2MuanNcbiAqIENyZWF0ZXMgdGhlIGZsYXRkb2MgbWFya3VwIGFuZCBpbml0aWFsaXplcyB0aGUgcGx1Z2luXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZsYXRkb2MnKVxuICAgICAgICAuZGlyZWN0aXZlKCdmbGF0ZG9jJywgZmxhdGRvYyk7XG5cbiAgICBmdW5jdGlvbiBmbGF0ZG9jICgpIHtcblxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHJvbGU9XCJmbGF0ZG9jXCI+PGRpdiByb2xlPVwiZmxhdGRvYy1tZW51XCI+PC9kaXY+PGRpdiByb2xlPVwiZmxhdGRvYy1jb250ZW50XCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgRmxhdGRvYy5ydW4oe1xuICAgICAgICAgICAgZmV0Y2hlcjogRmxhdGRvYy5maWxlKGF0dHJzLnNyYylcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgJHJvb3QgPSAkKCdodG1sLCBib2R5Jyk7XG4gICAgICAgICAgJChkb2N1bWVudCkub24oJ2ZsYXRkb2M6cmVhZHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkb2NNZW51ID0gJCgnW3JvbGU9XCJmbGF0ZG9jLW1lbnVcIl0nKTtcbiAgICAgICAgICAgIGRvY01lbnUuZmluZCgnYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGRvY01lbnUuZmluZCgnYS5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAkcm9vdC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJykpLm9mZnNldCgpLnRvcCAtICgkKCcudG9wbmF2YmFyJykuaGVpZ2h0KCkgKyAxMClcbiAgICAgICAgICAgICAgICB9LCA4MDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZm9ybXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDb2xvclBpY2tlckNvbnRyb2xsZXInLCBDb2xvclBpY2tlckNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIENvbG9yUGlja2VyQ29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgIHZtLmhleFBpY2tlciA9IHtcclxuICAgICAgICAgICAgICBjb2xvcjogJydcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJnYlBpY2tlciA9IHtcclxuICAgICAgICAgICAgICBjb2xvcjogJydcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJnYmFQaWNrZXIgPSB7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICcnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5ub25JbnB1dCA9IHtcclxuICAgICAgICAgICAgICBjb2xvcjogJydcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJlc2V0Q29sb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB2bS5oZXhQaWNrZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJlc2V0UkJHQ29sb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB2bS5yZ2JQaWNrZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYigyNTUsMjU1LDI1NSknXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJlc2V0UkJHQUNvbG9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdm0ucmdiYVBpY2tlciA9IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiKDI1NSwyNTUsMjU1LCAwLjI1KSdcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0ucmVzZXROb25JbnB1dENvbG9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdm0ubm9uSW5wdXQgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogZmlsZXN0eWxlLmpzXHJcbiAqIEluaXRpYWxpemVzIHRoZSBmaWVsc3R5bGUgcGx1Z2luXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZm9ybXMnKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2ZpbGVzdHlsZScsIGZpbGVzdHlsZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZmlsZXN0eWxlICgpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICB2YXIgb3B0aW9ucyA9IGVsZW1lbnQuZGF0YSgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBvbGQgdXNhZ2Ugc3VwcG9ydFxyXG4gICAgICAgICAgb3B0aW9ucy5jbGFzc0lucHV0ID0gZWxlbWVudC5kYXRhKCdjbGFzc2lucHV0JykgfHwgb3B0aW9ucy5jbGFzc0lucHV0O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBlbGVtZW50LmZpbGVzdHlsZShvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBmb3JtLWltZ2Nyb3AuanNcclxuICogSW1hZ2UgY3JvcCBjb250cm9sbGVyXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZm9ybXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdJbWFnZUNyb3BDb250cm9sbGVyJywgSW1hZ2VDcm9wQ29udHJvbGxlcik7XHJcblxyXG4gICAgSW1hZ2VDcm9wQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnXTtcclxuICAgIGZ1bmN0aW9uIEltYWdlQ3JvcENvbnRyb2xsZXIoJHNjb3BlKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZtLm15SW1hZ2UgICAgICAgID0gJyc7XHJcbiAgICAgICAgICAgIHZtLm15Q3JvcHBlZEltYWdlID0gJyc7XHJcbiAgICAgICAgICAgIHZtLmltZ2Nyb3BUeXBlICAgID0gJ3NxdWFyZSc7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLnJlc2V0KCk7XHJcblxyXG4gICAgICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlPWV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKC8qJHNjb3BlKi8pe1xyXG4gICAgICAgICAgICAgICAgdm0ubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYoZmlsZSlcclxuICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogRm9ybVZhbGlkYXRpb25Db250cm9sbGVyXHJcbiAqIElucHV0IHZhbGlkYXRpb24gd2l0aCBVSSBWYWxpZGF0ZVxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZvcm1zJylcclxuICAgICAgICAuY29udHJvbGxlcignRm9ybVZhbGlkYXRpb25Db250cm9sbGVyJywgRm9ybVZhbGlkYXRpb25Db250cm9sbGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBGb3JtVmFsaWRhdGlvbkNvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLm5vdEJsYWNrTGlzdGVkID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGJsYWNrbGlzdCA9IFsnc29tZUBtYWlsLmNvbScsJ2Fub3RoZXJAZW1haWwuY29tJ107XHJcbiAgICAgICAgICAgIHJldHVybiBibGFja2xpc3QuaW5kZXhPZih2YWx1ZSkgPT09IC0xO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS53b3JkcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5zcGxpdCgnICcpLmxlbmd0aDtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uc3VibWl0dGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB2bS52YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24obmFtZSwgdHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB2bS5mb3JtVmFsaWRhdGVbbmFtZV07XHJcbiAgICAgICAgICAgIHJldHVybiAoaW5wdXQuJGRpcnR5IHx8IHZtLnN1Ym1pdHRlZCkgJiYgaW5wdXQuJGVycm9yW3R5cGVdO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBTdWJtaXQgZm9ybVxyXG4gICAgICAgICAgdm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2bS5zdWJtaXR0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodm0uZm9ybVZhbGlkYXRlLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWJtaXR0ZWQhIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgdmFsaWQhIScpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGZvcm0td2l6YXJkLmpzXHJcbiAqIEhhbmRsZXMgZm9ybSB3aXphcmQgcGx1Z2luIGFuZCB2YWxpZGF0aW9uXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZvcm1zJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdmb3JtV2l6YXJkJywgZm9ybVdpemFyZCk7XHJcblxyXG4gICAgZm9ybVdpemFyZC4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuICAgIGZ1bmN0aW9uIGZvcm1XaXphcmQgKCRwYXJzZSkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgdmFyIHZhbGlkYXRlID0gJHBhcnNlKGF0dHJzLnZhbGlkYXRlU3RlcHMpKHNjb3BlKSxcclxuICAgICAgICAgICAgICB3aXogPSBuZXcgV2l6YXJkKGF0dHJzLnN0ZXBzLCAhIXZhbGlkYXRlLCBlbGVtZW50KTtcclxuICAgICAgICAgIHNjb3BlLndpemFyZCA9IHdpei5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBXaXphcmQgKHF1YW50aXR5LCB2YWxpZGF0ZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICBzZWxmLnF1YW50aXR5ID0gcGFyc2VJbnQocXVhbnRpdHksMTApO1xyXG4gICAgICAgICAgc2VsZi52YWxpZGF0ZSA9IHZhbGlkYXRlO1xyXG4gICAgICAgICAgc2VsZi5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlc3RlcHMoc2VsZi5xdWFudGl0eSk7XHJcbiAgICAgICAgICAgIHNlbGYuZ28oMSk7IC8vIGFsd2F5cyBzdGFydCBhdCBmaXN0IHN0ZXBcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNlbGYuZ28gPSBmdW5jdGlvbihzdGVwKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGYuc3RlcHNbc3RlcF0pICkge1xyXG5cclxuICAgICAgICAgICAgICBpZihzZWxmLnZhbGlkYXRlICYmIHN0ZXAgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gJChzZWxmLmVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwID0gZm9ybS5jaGlsZHJlbigpLmNoaWxkcmVuKCdkaXYnKS5nZXQoc3RlcCAtIDIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmYWxzZSA9PT0gZm9ybS5wYXJzbGV5KCkudmFsaWRhdGUoIGdyb3VwLmlkICkpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc2VsZi5jbGVhbmFsbCgpO1xyXG4gICAgICAgICAgICAgIHNlbGYuc3RlcHNbc3RlcF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNlbGYuYWN0aXZlID0gZnVuY3Rpb24oc3RlcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISFzZWxmLnN0ZXBzW3N0ZXBdO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBzZWxmLmNsZWFuYWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBzZWxmLnN0ZXBzKXtcclxuICAgICAgICAgICAgICBzZWxmLnN0ZXBzW2ldID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgc2VsZi5jcmVhdGVzdGVwcyA9IGZ1bmN0aW9uKHEpIHtcclxuICAgICAgICAgICAgc2VsZi5zdGVwcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAxOyBpIDw9IHE7IGkrKykgc2VsZi5zdGVwc1tpXSA9IGZhbHNlO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGZvcm0teGVkaXRhYmxlLmpzXHJcbiAqIEZvcm0geEVkaXRhYmxlIGNvbnRyb2xsZXJcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5mb3JtcycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0Zvcm14RWRpdGFibGVDb250cm9sbGVyJywgRm9ybXhFZGl0YWJsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIEZvcm14RWRpdGFibGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdlZGl0YWJsZU9wdGlvbnMnLCAnZWRpdGFibGVUaGVtZXMnLCAnJGZpbHRlcicsICckaHR0cCddO1xyXG4gICAgZnVuY3Rpb24gRm9ybXhFZGl0YWJsZUNvbnRyb2xsZXIoJHNjb3BlLCBlZGl0YWJsZU9wdGlvbnMsIGVkaXRhYmxlVGhlbWVzLCAkZmlsdGVyLCAkaHR0cCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0udGl0bGUgPSAnQ29udHJvbGxlcic7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG4gICAgICAgICAgZWRpdGFibGVPcHRpb25zLnRoZW1lID0gJ2JzMyc7XHJcblxyXG4gICAgICAgICAgZWRpdGFibGVUaGVtZXMuYnMzLmlucHV0Q2xhc3MgPSAnaW5wdXQtc20nO1xyXG4gICAgICAgICAgZWRpdGFibGVUaGVtZXMuYnMzLmJ1dHRvbnNDbGFzcyA9ICdidG4tc20nO1xyXG4gICAgICAgICAgZWRpdGFibGVUaGVtZXMuYnMzLnN1Ym1pdFRwbCA9ICc8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiPjxzcGFuIGNsYXNzPVwiZmEgZmEtY2hlY2tcIj48L3NwYW4+PC9idXR0b24+JztcclxuICAgICAgICAgIGVkaXRhYmxlVGhlbWVzLmJzMy5jYW5jZWxUcGwgPSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBuZy1jbGljaz1cIiRmb3JtLiRjYW5jZWwoKVwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJmYSBmYS10aW1lcyB0ZXh0LW11dGVkXCI+PC9zcGFuPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPic7XHJcblxyXG4gICAgICAgICAgdm0udXNlciA9IHtcclxuICAgICAgICAgICAgZW1haWw6ICdlbWFpbEBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgIHRlbDogJzEyMy00NS02NycsXHJcbiAgICAgICAgICAgIG51bWJlcjogMjksXHJcbiAgICAgICAgICAgIHJhbmdlOiAxMCxcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovL2V4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgc2VhcmNoOiAnYmxhYmxhJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNmE0NDE1JyxcclxuICAgICAgICAgICAgZGF0ZTogbnVsbCxcclxuICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgZGF0ZXRpbWU6IG51bGwsXHJcbiAgICAgICAgICAgIG1vbnRoOiBudWxsLFxyXG4gICAgICAgICAgICB3ZWVrOiBudWxsLFxyXG4gICAgICAgICAgICBkZXNjOiAnU2VkIHBoYXJldHJhIGV1aXNtb2QgZG9sb3IsIGlkIGZldWdpYXQgYW50ZSB2b2x1dHBhdCBlZ2V0LiAnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIExvY2FsIHNlbGVjdFxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0udXNlcjIgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogMlxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5zdGF0dXNlcyA9IFtcclxuICAgICAgICAgICAge3ZhbHVlOiAxLCB0ZXh0OiAnc3RhdHVzMSd9LFxyXG4gICAgICAgICAgICB7dmFsdWU6IDIsIHRleHQ6ICdzdGF0dXMyJ30sXHJcbiAgICAgICAgICAgIHt2YWx1ZTogMywgdGV4dDogJ3N0YXR1czMnfSxcclxuICAgICAgICAgICAge3ZhbHVlOiA0LCB0ZXh0OiAnc3RhdHVzNCd9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLnNob3dTdGF0dXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gJGZpbHRlcignZmlsdGVyJykodm0uc3RhdHVzZXMsIHt2YWx1ZTogdm0udXNlcjIuc3RhdHVzfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAodm0udXNlcjIuc3RhdHVzICYmIHNlbGVjdGVkLmxlbmd0aCkgPyBzZWxlY3RlZFswXS50ZXh0IDogJ05vdCBzZXQnO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBzZWxlY3QgcmVtb3RlXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICB2bS51c2VyMyA9IHtcclxuICAgICAgICAgICAgaWQ6IDQsXHJcbiAgICAgICAgICAgIHRleHQ6ICdhZG1pbicgLy8gb3JpZ2luYWwgdmFsdWVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uZ3JvdXBzID0gW107XHJcblxyXG4gICAgICAgICAgdm0ubG9hZEdyb3VwcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdm0uZ3JvdXBzLmxlbmd0aCA/IG51bGwgOiAkaHR0cC5nZXQoJ3NlcnZlci94ZWRpdGFibGUtZ3JvdXBzLmpzb24nKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICB2bS5ncm91cHMgPSBkYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaCgndXNlcjMuaWQnLCBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCkge1xyXG4gICAgICAgICAgICBpZiAobmV3VmFsICE9PSBvbGRWYWwpIHtcclxuICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkZmlsdGVyKCdmaWx0ZXInKSh2bS5ncm91cHMsIHtpZDogdm0udXNlcjMuaWR9KTtcclxuICAgICAgICAgICAgICB2bS51c2VyMy50ZXh0ID0gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWRbMF0udGV4dCA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIFR5cGVhaGVhZFxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0udXNlcjQgPSB7XHJcbiAgICAgICAgICAgIHN0YXRlOiAnQXJpem9uYSdcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uc3RhdGVzID0gWydBbGFiYW1hJywgJ0FsYXNrYScsICdBcml6b25hJywgJ0Fya2Fuc2FzJywgJ0NhbGlmb3JuaWEnLCAnQ29sb3JhZG8nLCAnQ29ubmVjdGljdXQnLCAnRGVsYXdhcmUnLCAnRmxvcmlkYScsICdHZW9yZ2lhJywgJ0hhd2FpaScsICdJZGFobycsICdJbGxpbm9pcycsICdJbmRpYW5hJywgJ0lvd2EnLCAnS2Fuc2FzJywgJ0tlbnR1Y2t5JywgJ0xvdWlzaWFuYScsICdNYWluZScsICdNYXJ5bGFuZCcsICdNYXNzYWNodXNldHRzJywgJ01pY2hpZ2FuJywgJ01pbm5lc290YScsICdNaXNzaXNzaXBwaScsICdNaXNzb3VyaScsICdNb250YW5hJywgJ05lYnJhc2thJywgJ05ldmFkYScsICdOZXcgSGFtcHNoaXJlJywgJ05ldyBKZXJzZXknLCAnTmV3IE1leGljbycsICdOZXcgWW9yaycsICdOb3J0aCBEYWtvdGEnLCAnTm9ydGggQ2Fyb2xpbmEnLCAnT2hpbycsICdPa2xhaG9tYScsICdPcmVnb24nLCAnUGVubnN5bHZhbmlhJywgJ1Job2RlIElzbGFuZCcsICdTb3V0aCBDYXJvbGluYScsICdTb3V0aCBEYWtvdGEnLCAnVGVubmVzc2VlJywgJ1RleGFzJywgJ1V0YWgnLCAnVmVybW9udCcsICdWaXJnaW5pYScsICdXYXNoaW5ndG9uJywgJ1dlc3QgVmlyZ2luaWEnLCAnV2lzY29uc2luJywgJ1d5b21pbmcnXTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCJcclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuZm9ybXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdGb3JtRGVtb0N0cmwnLCBGb3JtRGVtb0N0cmwpO1xyXG5cclxuICAgIEZvcm1EZW1vQ3RybC4kaW5qZWN0ID0gWyckcmVzb3VyY2UnXTtcclxuICAgIGZ1bmN0aW9uIEZvcm1EZW1vQ3RybCgkcmVzb3VyY2UpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhbGxvdyB0byByZXF1ZXN0IGFycmF5ICRyZXNvdXJjZSBpbnN0ZWFkIG9mIG9iamVjdCAoZGVmYXVsdClcclxuICAgICAgICAgIHZhciBhY3Rpb25zID0geydnZXQnOiB7bWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZX19O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBUYWdzIGlucHV0c1xyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcbiAgICAgICAgICB2YXIgQ2l0aWVzID0gJHJlc291cmNlKCdzZXJ2ZXIvY2l0aWVzLmpzb24nLCB7fSwgYWN0aW9ucyk7XHJcblxyXG4gICAgICAgICAgQ2l0aWVzLmdldChmdW5jdGlvbihkYXRhKXtcclxuXHJcbiAgICAgICAgICAgICAgdm0uY2l0aWVzID0gZGF0YTtcclxuXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIGZvciBub24gYWpheCBmb3JtIGp1c3QgZmlsbCB0aGUgc2NvcGUgdmFyaWFibGVcclxuICAgICAgICAgIC8vIHZtLmNpdGllcyA9IFsnQW1zdGVyZGFtJywnV2FzaGluZ3RvbicsJ1N5ZG5leScsJ0JlaWppbmcnLCdDYWlybyddO1xyXG5cclxuICAgICAgICAgIC8vIFNsaWRlciBkZW1vIHZhbHVlc1xyXG4gICAgICAgICAgdm0uc2xpZGVyMSA9IDU7XHJcbiAgICAgICAgICB2bS5zbGlkZXIyID0gMTA7XHJcbiAgICAgICAgICB2bS5zbGlkZXIzID0gMTU7XHJcbiAgICAgICAgICB2bS5zbGlkZXI0ID0gMjA7XHJcbiAgICAgICAgICB2bS5zbGlkZXI1ID0gMjU7XHJcbiAgICAgICAgICB2bS5zbGlkZXI2ID0gMzA7XHJcbiAgICAgICAgICB2bS5zbGlkZXI3ID0gMTA7XHJcbiAgICAgICAgICB2bS5zbGlkZXI4ID0gWzI1MCw3NTBdO1xyXG5cclxuICAgICAgICAgIC8vIENob3NlbiBkYXRhXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICB2YXIgU3RhdGVzID0gJHJlc291cmNlKCdzZXJ2ZXIvY2hvc2VuLXN0YXRlcy5qc29uJywge30sICB7J3F1ZXJ5JzogICAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSB9KTtcclxuXHJcbiAgICAgICAgICB2bS5zdGF0ZXMgPSBTdGF0ZXMucXVlcnkoKTtcclxuXHJcblxyXG4gICAgICAgICAgdm0uYWxlcnRTdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBhbGVydCgnRm9ybSBzdWJtaXR0ZWQhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gQW5ndWxhciB3eXNpd3lnIFxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdm0ud3lzaXd5Z0NvbnRlbnQgPSAnPHA+IFdyaXRlIHNvbWV0aGluZyBoZXJlLi4gPC9wPic7XHJcblxyXG4gICAgICAgICAgLy8gVGV4dCBBbmd1bGFyICh3eXNpd3lnKVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHZtLmh0bWxDb250ZW50ID0gJzxoMj5UcnkgbWUhPC9oMj48cD50ZXh0QW5ndWxhciBpcyBhIHN1cGVyIGNvb2wgV1lTSVdZRyBUZXh0IEVkaXRvciBkaXJlY3RpdmUgZm9yIEFuZ3VsYXJKUzwvcD48cD48Yj5GZWF0dXJlczo8L2I+PC9wPjxvbD48bGk+QXV0b21hdGljIFNlYW1sZXNzIFR3by1XYXktQmluZGluZzwvbGk+PGxpIHN0eWxlPVwiY29sb3I6IGJsdWU7XCI+U3VwZXIgRWFzeSA8Yj5UaGVtaW5nPC9iPiBPcHRpb25zPC9saT48bGk+U2ltcGxlIEVkaXRvciBJbnN0YW5jZSBDcmVhdGlvbjwvbGk+PGxpPlNhZmVseSBQYXJzZXMgSHRtbCBmb3IgQ3VzdG9tIFRvb2xiYXIgSWNvbnM8L2xpPjxsaT5Eb2VzbiZhcG9zO3QgVXNlIGFuIGlGcmFtZTwvbGk+PGxpPldvcmtzIHdpdGggRmlyZWZveCwgQ2hyb21lLCBhbmQgSUU4KzwvbGk+PC9vbD48cD48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2ZyYXl3aW5nL3RleHRBbmd1bGFyXCI+U291cmNlPC9hPiA8L3A+JztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogbWFza2VkLGpzXG4gKiBJbml0aWFsaXplcyB0aGUgbWFza2VkIGlucHV0c1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5mb3JtcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ21hc2tlZCcsIG1hc2tlZCk7XG5cbiAgICBmdW5jdGlvbiBtYXNrZWQgKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyICRlbGVtID0gJChlbGVtZW50KTtcbiAgICAgICAgICBpZigkLmZuLmlucHV0bWFzaylcbiAgICAgICAgICAgICRlbGVtLmlucHV0bWFzaygpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLyoqXHJcbiAqIEFuZ3VsYXJKUyBkZWZhdWx0IGZpbHRlciB3aXRoIHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbjpcclxuICogXCJwZXJzb24gaW4gcGVvcGxlIHwgZmlsdGVyOiB7bmFtZTogJHNlbGVjdC5zZWFyY2gsIGFnZTogJHNlbGVjdC5zZWFyY2h9XCJcclxuICogcGVyZm9ybXMgYSBBTkQgYmV0d2VlbiAnbmFtZTogJHNlbGVjdC5zZWFyY2gnIGFuZCAnYWdlOiAkc2VsZWN0LnNlYXJjaCcuXHJcbiAqIFdlIHdhbnQgdG8gcGVyZm9ybSBhIE9SLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZvcm1zJylcclxuICAgICAgICAuZmlsdGVyKCdwcm9wc0ZpbHRlcicsIHByb3BzRmlsdGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9wc0ZpbHRlcigpIHtcclxuICAgICAgICByZXR1cm4gZmlsdGVyRmlsdGVyO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyRmlsdGVyKGl0ZW1zLCBwcm9wcykge1xyXG4gICAgICAgICAgdmFyIG91dCA9IFtdO1xyXG5cclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgIHZhciBpdGVtTWF0Y2hlcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9wID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gcHJvcHNbcHJvcF0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtW3Byb3BdLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICBpdGVtTWF0Y2hlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGl0ZW1NYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXQucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTGV0IHRoZSBvdXRwdXQgYmUgdGhlIGlucHV0IHVudG91Y2hlZFxyXG4gICAgICAgICAgICBvdXQgPSBpdGVtcztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IHRhZ3MtaW5wdXQuanNcbiAqIEluaXRpYWxpemVzIHRoZSB0YWcgaW5wdXRzIHBsdWdpblxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5mb3JtcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3RhZ3NpbnB1dCcsIHRhZ3NpbnB1dCk7XG5cbiAgICB0YWdzaW5wdXQuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcbiAgICBmdW5jdGlvbiB0YWdzaW5wdXQgKCR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgZWxlbWVudC5vbignaXRlbUFkZGVkIGl0ZW1SZW1vdmVkJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHZpZXcgdmFsdWUgaXMgbm90IGVtcHR5IGFuZCBpcyBhIHN0cmluZ1xuICAgICAgICAgICAgLy8gYW5kIHVwZGF0ZSB0aGUgdmlldyBmcm9tIHN0cmluZyB0byBhbiBhcnJheSBvZiB0YWdzXG4gICAgICAgICAgICBpZihuZ01vZGVsLiR2aWV3VmFsdWUgJiYgbmdNb2RlbC4kdmlld1ZhbHVlLnNwbGl0KSB7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZSggbmdNb2RlbC4kdmlld1ZhbHVlLnNwbGl0KCcsJykgKTtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgZWxlbWVudC50YWdzaW5wdXQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IHVpc2VsZWN0LmpzXHJcbiAqIHVpU2VsZWN0IGNvbnRyb2xsZXJcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5mb3JtcycpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3VpU2VsZWN0Q29udHJvbGxlcicsIHVpU2VsZWN0Q29udHJvbGxlcik7XHJcblxyXG4gICAgdWlTZWxlY3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCddO1xyXG4gICAgZnVuY3Rpb24gdWlTZWxlY3RDb250cm9sbGVyKCRzY29wZSwgJGh0dHApIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIHZtLmRpc2FibGVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgIHZtLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdm0ucGVyc29uLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2bS5hZGRyZXNzLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2bS5jb3VudHJ5LnNlbGVjdGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5wZXJzb24gPSB7fTtcclxuICAgICAgICAgIHZtLnBlb3BsZSA9IFtcclxuICAgICAgICAgICAgeyBuYW1lOiAnQWRhbScsICAgICAgZW1haWw6ICdhZGFtQGVtYWlsLmNvbScsICAgICAgYWdlOiAxMCB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdBbWFsaWUnLCAgICBlbWFpbDogJ2FtYWxpZUBlbWFpbC5jb20nLCAgICBhZ2U6IDEyIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ1dsYWRpbWlyJywgIGVtYWlsOiAnd2xhZGltaXJAZW1haWwuY29tJywgIGFnZTogMzAgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnU2FtYW50aGEnLCAgZW1haWw6ICdzYW1hbnRoYUBlbWFpbC5jb20nLCAgYWdlOiAzMSB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdFc3RlZmFuw61hJywgZW1haWw6ICdlc3RlZmFuw61hQGVtYWlsLmNvbScsIGFnZTogMTYgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiAnTmF0YXNoYScsICAgZW1haWw6ICduYXRhc2hhQGVtYWlsLmNvbScsICAgYWdlOiA1NCB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICdOaWNvbGUnLCAgICBlbWFpbDogJ25pY29sZUBlbWFpbC5jb20nLCAgICBhZ2U6IDQzIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0FkcmlhbicsICAgIGVtYWlsOiAnYWRyaWFuQGVtYWlsLmNvbScsICAgIGFnZTogMjEgfVxyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICB2bS5hZGRyZXNzID0ge307XHJcbiAgICAgICAgICB2bS5yZWZyZXNoQWRkcmVzc2VzID0gZnVuY3Rpb24oYWRkcmVzcykge1xyXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge2FkZHJlc3M6IGFkZHJlc3MsIHNlbnNvcjogZmFsc2V9O1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFxyXG4gICAgICAgICAgICAgICcvL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJyxcclxuICAgICAgICAgICAgICB7cGFyYW1zOiBwYXJhbXN9XHJcbiAgICAgICAgICAgICkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgIHZtLmFkZHJlc3NlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0cztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmNvdW50cnkgPSB7fTtcclxuICAgICAgICAgIHZtLmNvdW50cmllcyA9IFsgLy8gVGFrZW4gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS91bmNldXMvNjUwMTk4NVxyXG4gICAgICAgICAgICB7bmFtZTogJ0FmZ2hhbmlzdGFuJywgY29kZTogJ0FGJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnw4VsYW5kIElzbGFuZHMnLCBjb2RlOiAnQVgnfSxcclxuICAgICAgICAgICAge25hbWU6ICdBbGJhbmlhJywgY29kZTogJ0FMJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQWxnZXJpYScsIGNvZGU6ICdEWid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0FtZXJpY2FuIFNhbW9hJywgY29kZTogJ0FTJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQW5kb3JyYScsIGNvZGU6ICdBRCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0FuZ29sYScsIGNvZGU6ICdBTyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0FuZ3VpbGxhJywgY29kZTogJ0FJJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQW50YXJjdGljYScsIGNvZGU6ICdBUSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0FudGlndWEgYW5kIEJhcmJ1ZGEnLCBjb2RlOiAnQUcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdBcmdlbnRpbmEnLCBjb2RlOiAnQVInfSxcclxuICAgICAgICAgICAge25hbWU6ICdBcm1lbmlhJywgY29kZTogJ0FNJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQXJ1YmEnLCBjb2RlOiAnQVcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdBdXN0cmFsaWEnLCBjb2RlOiAnQVUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdBdXN0cmlhJywgY29kZTogJ0FUJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQXplcmJhaWphbicsIGNvZGU6ICdBWid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JhaGFtYXMnLCBjb2RlOiAnQlMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCYWhyYWluJywgY29kZTogJ0JIJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQmFuZ2xhZGVzaCcsIGNvZGU6ICdCRCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JhcmJhZG9zJywgY29kZTogJ0JCJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQmVsYXJ1cycsIGNvZGU6ICdCWSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JlbGdpdW0nLCBjb2RlOiAnQkUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCZWxpemUnLCBjb2RlOiAnQlonfSxcclxuICAgICAgICAgICAge25hbWU6ICdCZW5pbicsIGNvZGU6ICdCSid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0Jlcm11ZGEnLCBjb2RlOiAnQk0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdCaHV0YW4nLCBjb2RlOiAnQlQnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCb2xpdmlhJywgY29kZTogJ0JPJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYScsIGNvZGU6ICdCQSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JvdHN3YW5hJywgY29kZTogJ0JXJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQm91dmV0IElzbGFuZCcsIGNvZGU6ICdCVid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JyYXppbCcsIGNvZGU6ICdCUid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JyaXRpc2ggSW5kaWFuIE9jZWFuIFRlcnJpdG9yeScsIGNvZGU6ICdJTyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0JydW5laSBEYXJ1c3NhbGFtJywgY29kZTogJ0JOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQnVsZ2FyaWEnLCBjb2RlOiAnQkcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCdXJraW5hIEZhc28nLCBjb2RlOiAnQkYnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCdXJ1bmRpJywgY29kZTogJ0JJJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ2FtYm9kaWEnLCBjb2RlOiAnS0gnfSxcclxuICAgICAgICAgICAge25hbWU6ICdDYW1lcm9vbicsIGNvZGU6ICdDTSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NhbmFkYScsIGNvZGU6ICdDQSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NhcGUgVmVyZGUnLCBjb2RlOiAnQ1YnfSxcclxuICAgICAgICAgICAge25hbWU6ICdDYXltYW4gSXNsYW5kcycsIGNvZGU6ICdLWSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpYycsIGNvZGU6ICdDRid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NoYWQnLCBjb2RlOiAnVEQnfSxcclxuICAgICAgICAgICAge25hbWU6ICdDaGlsZScsIGNvZGU6ICdDTCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NoaW5hJywgY29kZTogJ0NOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ2hyaXN0bWFzIElzbGFuZCcsIGNvZGU6ICdDWCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NvY29zIChLZWVsaW5nKSBJc2xhbmRzJywgY29kZTogJ0NDJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ29sb21iaWEnLCBjb2RlOiAnQ08nfSxcclxuICAgICAgICAgICAge25hbWU6ICdDb21vcm9zJywgY29kZTogJ0tNJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ29uZ28nLCBjb2RlOiAnQ0cnfSxcclxuICAgICAgICAgICAge25hbWU6ICdDb25nbywgVGhlIERlbW9jcmF0aWMgUmVwdWJsaWMgb2YgdGhlJywgY29kZTogJ0NEJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ29vayBJc2xhbmRzJywgY29kZTogJ0NLJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ29zdGEgUmljYScsIGNvZGU6ICdDUid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0NvdGUgRFxcJ0l2b2lyZScsIGNvZGU6ICdDSSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0Nyb2F0aWEnLCBjb2RlOiAnSFInfSxcclxuICAgICAgICAgICAge25hbWU6ICdDdWJhJywgY29kZTogJ0NVJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ3lwcnVzJywgY29kZTogJ0NZJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ3plY2ggUmVwdWJsaWMnLCBjb2RlOiAnQ1onfSxcclxuICAgICAgICAgICAge25hbWU6ICdEZW5tYXJrJywgY29kZTogJ0RLJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRGppYm91dGknLCBjb2RlOiAnREonfSxcclxuICAgICAgICAgICAge25hbWU6ICdEb21pbmljYScsIGNvZGU6ICdETSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0RvbWluaWNhbiBSZXB1YmxpYycsIGNvZGU6ICdETyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0VjdWFkb3InLCBjb2RlOiAnRUMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdFZ3lwdCcsIGNvZGU6ICdFRyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0VsIFNhbHZhZG9yJywgY29kZTogJ1NWJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRXF1YXRvcmlhbCBHdWluZWEnLCBjb2RlOiAnR1EnfSxcclxuICAgICAgICAgICAge25hbWU6ICdFcml0cmVhJywgY29kZTogJ0VSJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRXN0b25pYScsIGNvZGU6ICdFRSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0V0aGlvcGlhJywgY29kZTogJ0VUJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRmFsa2xhbmQgSXNsYW5kcyAoTWFsdmluYXMpJywgY29kZTogJ0ZLJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRmFyb2UgSXNsYW5kcycsIGNvZGU6ICdGTyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0ZpamknLCBjb2RlOiAnRkonfSxcclxuICAgICAgICAgICAge25hbWU6ICdGaW5sYW5kJywgY29kZTogJ0ZJJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRnJhbmNlJywgY29kZTogJ0ZSJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnRnJlbmNoIEd1aWFuYScsIGNvZGU6ICdHRid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0ZyZW5jaCBQb2x5bmVzaWEnLCBjb2RlOiAnUEYnfSxcclxuICAgICAgICAgICAge25hbWU6ICdGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXMnLCBjb2RlOiAnVEYnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHYWJvbicsIGNvZGU6ICdHQSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0dhbWJpYScsIGNvZGU6ICdHTSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0dlb3JnaWEnLCBjb2RlOiAnR0UnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHZXJtYW55JywgY29kZTogJ0RFJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnR2hhbmEnLCBjb2RlOiAnR0gnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHaWJyYWx0YXInLCBjb2RlOiAnR0knfSxcclxuICAgICAgICAgICAge25hbWU6ICdHcmVlY2UnLCBjb2RlOiAnR1InfSxcclxuICAgICAgICAgICAge25hbWU6ICdHcmVlbmxhbmQnLCBjb2RlOiAnR0wnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHcmVuYWRhJywgY29kZTogJ0dEJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnR3VhZGVsb3VwZScsIGNvZGU6ICdHUCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0d1YW0nLCBjb2RlOiAnR1UnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHdWF0ZW1hbGEnLCBjb2RlOiAnR1QnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHdWVybnNleScsIGNvZGU6ICdHRyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0d1aW5lYScsIGNvZGU6ICdHTid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0d1aW5lYS1CaXNzYXUnLCBjb2RlOiAnR1cnfSxcclxuICAgICAgICAgICAge25hbWU6ICdHdXlhbmEnLCBjb2RlOiAnR1knfSxcclxuICAgICAgICAgICAge25hbWU6ICdIYWl0aScsIGNvZGU6ICdIVCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0hlYXJkIElzbGFuZCBhbmQgTWNkb25hbGQgSXNsYW5kcycsIGNvZGU6ICdITSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0hvbHkgU2VlIChWYXRpY2FuIENpdHkgU3RhdGUpJywgY29kZTogJ1ZBJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSG9uZHVyYXMnLCBjb2RlOiAnSE4nfSxcclxuICAgICAgICAgICAge25hbWU6ICdIb25nIEtvbmcnLCBjb2RlOiAnSEsnfSxcclxuICAgICAgICAgICAge25hbWU6ICdIdW5nYXJ5JywgY29kZTogJ0hVJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSWNlbGFuZCcsIGNvZGU6ICdJUyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0luZGlhJywgY29kZTogJ0lOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSW5kb25lc2lhJywgY29kZTogJ0lEJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSXJhbiwgSXNsYW1pYyBSZXB1YmxpYyBPZicsIGNvZGU6ICdJUid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0lyYXEnLCBjb2RlOiAnSVEnfSxcclxuICAgICAgICAgICAge25hbWU6ICdJcmVsYW5kJywgY29kZTogJ0lFJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSXNsZSBvZiBNYW4nLCBjb2RlOiAnSU0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdJc3JhZWwnLCBjb2RlOiAnSUwnfSxcclxuICAgICAgICAgICAge25hbWU6ICdJdGFseScsIGNvZGU6ICdJVCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0phbWFpY2EnLCBjb2RlOiAnSk0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdKYXBhbicsIGNvZGU6ICdKUCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0plcnNleScsIGNvZGU6ICdKRSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0pvcmRhbicsIGNvZGU6ICdKTyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0themFraHN0YW4nLCBjb2RlOiAnS1onfSxcclxuICAgICAgICAgICAge25hbWU6ICdLZW55YScsIGNvZGU6ICdLRSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0tpcmliYXRpJywgY29kZTogJ0tJJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnS29yZWEsIERlbW9jcmF0aWMgUGVvcGxlXFwncyBSZXB1YmxpYyBvZicsIGNvZGU6ICdLUCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0tvcmVhLCBSZXB1YmxpYyBvZicsIGNvZGU6ICdLUid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0t1d2FpdCcsIGNvZGU6ICdLVyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0t5cmd5enN0YW4nLCBjb2RlOiAnS0cnfSxcclxuICAgICAgICAgICAge25hbWU6ICdMYW8gUGVvcGxlXFwncyBEZW1vY3JhdGljIFJlcHVibGljJywgY29kZTogJ0xBJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTGF0dmlhJywgY29kZTogJ0xWJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTGViYW5vbicsIGNvZGU6ICdMQid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0xlc290aG8nLCBjb2RlOiAnTFMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdMaWJlcmlhJywgY29kZTogJ0xSJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTGlieWFuIEFyYWIgSmFtYWhpcml5YScsIGNvZGU6ICdMWSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0xpZWNodGVuc3RlaW4nLCBjb2RlOiAnTEknfSxcclxuICAgICAgICAgICAge25hbWU6ICdMaXRodWFuaWEnLCBjb2RlOiAnTFQnfSxcclxuICAgICAgICAgICAge25hbWU6ICdMdXhlbWJvdXJnJywgY29kZTogJ0xVJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTWFjYW8nLCBjb2RlOiAnTU8nfSxcclxuICAgICAgICAgICAge25hbWU6ICdNYWNlZG9uaWEsIFRoZSBGb3JtZXIgWXVnb3NsYXYgUmVwdWJsaWMgb2YnLCBjb2RlOiAnTUsnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNYWRhZ2FzY2FyJywgY29kZTogJ01HJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTWFsYXdpJywgY29kZTogJ01XJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTWFsYXlzaWEnLCBjb2RlOiAnTVknfSxcclxuICAgICAgICAgICAge25hbWU6ICdNYWxkaXZlcycsIGNvZGU6ICdNVid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ01hbGknLCBjb2RlOiAnTUwnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNYWx0YScsIGNvZGU6ICdNVCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ01hcnNoYWxsIElzbGFuZHMnLCBjb2RlOiAnTUgnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNYXJ0aW5pcXVlJywgY29kZTogJ01RJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTWF1cml0YW5pYScsIGNvZGU6ICdNUid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ01hdXJpdGl1cycsIGNvZGU6ICdNVSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ01heW90dGUnLCBjb2RlOiAnWVQnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNZXhpY28nLCBjb2RlOiAnTVgnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNaWNyb25lc2lhLCBGZWRlcmF0ZWQgU3RhdGVzIG9mJywgY29kZTogJ0ZNJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTW9sZG92YSwgUmVwdWJsaWMgb2YnLCBjb2RlOiAnTUQnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNb25hY28nLCBjb2RlOiAnTUMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNb25nb2xpYScsIGNvZGU6ICdNTid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ01vbnRzZXJyYXQnLCBjb2RlOiAnTVMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdNb3JvY2NvJywgY29kZTogJ01BJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTW96YW1iaXF1ZScsIGNvZGU6ICdNWid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ015YW5tYXInLCBjb2RlOiAnTU0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdOYW1pYmlhJywgY29kZTogJ05BJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTmF1cnUnLCBjb2RlOiAnTlInfSxcclxuICAgICAgICAgICAge25hbWU6ICdOZXBhbCcsIGNvZGU6ICdOUCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ05ldGhlcmxhbmRzJywgY29kZTogJ05MJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTmV0aGVybGFuZHMgQW50aWxsZXMnLCBjb2RlOiAnQU4nfSxcclxuICAgICAgICAgICAge25hbWU6ICdOZXcgQ2FsZWRvbmlhJywgY29kZTogJ05DJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTmV3IFplYWxhbmQnLCBjb2RlOiAnTlonfSxcclxuICAgICAgICAgICAge25hbWU6ICdOaWNhcmFndWEnLCBjb2RlOiAnTkknfSxcclxuICAgICAgICAgICAge25hbWU6ICdOaWdlcicsIGNvZGU6ICdORSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ05pZ2VyaWEnLCBjb2RlOiAnTkcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdOaXVlJywgY29kZTogJ05VJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnTm9yZm9sayBJc2xhbmQnLCBjb2RlOiAnTkYnfSxcclxuICAgICAgICAgICAge25hbWU6ICdOb3J0aGVybiBNYXJpYW5hIElzbGFuZHMnLCBjb2RlOiAnTVAnfSxcclxuICAgICAgICAgICAge25hbWU6ICdOb3J3YXknLCBjb2RlOiAnTk8nfSxcclxuICAgICAgICAgICAge25hbWU6ICdPbWFuJywgY29kZTogJ09NJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUGFraXN0YW4nLCBjb2RlOiAnUEsnfSxcclxuICAgICAgICAgICAge25hbWU6ICdQYWxhdScsIGNvZGU6ICdQVyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1BhbGVzdGluaWFuIFRlcnJpdG9yeSwgT2NjdXBpZWQnLCBjb2RlOiAnUFMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdQYW5hbWEnLCBjb2RlOiAnUEEnfSxcclxuICAgICAgICAgICAge25hbWU6ICdQYXB1YSBOZXcgR3VpbmVhJywgY29kZTogJ1BHJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUGFyYWd1YXknLCBjb2RlOiAnUFknfSxcclxuICAgICAgICAgICAge25hbWU6ICdQZXJ1JywgY29kZTogJ1BFJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUGhpbGlwcGluZXMnLCBjb2RlOiAnUEgnfSxcclxuICAgICAgICAgICAge25hbWU6ICdQaXRjYWlybicsIGNvZGU6ICdQTid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1BvbGFuZCcsIGNvZGU6ICdQTCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1BvcnR1Z2FsJywgY29kZTogJ1BUJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUHVlcnRvIFJpY28nLCBjb2RlOiAnUFInfSxcclxuICAgICAgICAgICAge25hbWU6ICdRYXRhcicsIGNvZGU6ICdRQSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1JldW5pb24nLCBjb2RlOiAnUkUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdSb21hbmlhJywgY29kZTogJ1JPJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUnVzc2lhbiBGZWRlcmF0aW9uJywgY29kZTogJ1JVJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnUndhbmRhJywgY29kZTogJ1JXJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2FpbnQgSGVsZW5hJywgY29kZTogJ1NIJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2FpbnQgS2l0dHMgYW5kIE5ldmlzJywgY29kZTogJ0tOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2FpbnQgTHVjaWEnLCBjb2RlOiAnTEMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTYWludCBQaWVycmUgYW5kIE1pcXVlbG9uJywgY29kZTogJ1BNJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXMnLCBjb2RlOiAnVkMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTYW1vYScsIGNvZGU6ICdXUyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1NhbiBNYXJpbm8nLCBjb2RlOiAnU00nfSxcclxuICAgICAgICAgICAge25hbWU6ICdTYW8gVG9tZSBhbmQgUHJpbmNpcGUnLCBjb2RlOiAnU1QnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTYXVkaSBBcmFiaWEnLCBjb2RlOiAnU0EnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTZW5lZ2FsJywgY29kZTogJ1NOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2VyYmlhIGFuZCBNb250ZW5lZ3JvJywgY29kZTogJ0NTJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2V5Y2hlbGxlcycsIGNvZGU6ICdTQyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1NpZXJyYSBMZW9uZScsIGNvZGU6ICdTTCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1NpbmdhcG9yZScsIGNvZGU6ICdTRyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1Nsb3Zha2lhJywgY29kZTogJ1NLJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2xvdmVuaWEnLCBjb2RlOiAnU0knfSxcclxuICAgICAgICAgICAge25hbWU6ICdTb2xvbW9uIElzbGFuZHMnLCBjb2RlOiAnU0InfSxcclxuICAgICAgICAgICAge25hbWU6ICdTb21hbGlhJywgY29kZTogJ1NPJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU291dGggQWZyaWNhJywgY29kZTogJ1pBJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU291dGggR2VvcmdpYSBhbmQgdGhlIFNvdXRoIFNhbmR3aWNoIElzbGFuZHMnLCBjb2RlOiAnR1MnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTcGFpbicsIGNvZGU6ICdFUyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1NyaSBMYW5rYScsIGNvZGU6ICdMSyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1N1ZGFuJywgY29kZTogJ1NEJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU3VyaW5hbWUnLCBjb2RlOiAnU1InfSxcclxuICAgICAgICAgICAge25hbWU6ICdTdmFsYmFyZCBhbmQgSmFuIE1heWVuJywgY29kZTogJ1NKJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU3dhemlsYW5kJywgY29kZTogJ1NaJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU3dlZGVuJywgY29kZTogJ1NFJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU3dpdHplcmxhbmQnLCBjb2RlOiAnQ0gnfSxcclxuICAgICAgICAgICAge25hbWU6ICdTeXJpYW4gQXJhYiBSZXB1YmxpYycsIGNvZGU6ICdTWSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1RhaXdhbiwgUHJvdmluY2Ugb2YgQ2hpbmEnLCBjb2RlOiAnVFcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdUYWppa2lzdGFuJywgY29kZTogJ1RKJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVGFuemFuaWEsIFVuaXRlZCBSZXB1YmxpYyBvZicsIGNvZGU6ICdUWid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1RoYWlsYW5kJywgY29kZTogJ1RIJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVGltb3ItTGVzdGUnLCBjb2RlOiAnVEwnfSxcclxuICAgICAgICAgICAge25hbWU6ICdUb2dvJywgY29kZTogJ1RHJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVG9rZWxhdScsIGNvZGU6ICdUSyd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1RvbmdhJywgY29kZTogJ1RPJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVHJpbmlkYWQgYW5kIFRvYmFnbycsIGNvZGU6ICdUVCd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1R1bmlzaWEnLCBjb2RlOiAnVE4nfSxcclxuICAgICAgICAgICAge25hbWU6ICdUdXJrZXknLCBjb2RlOiAnVFInfSxcclxuICAgICAgICAgICAge25hbWU6ICdUdXJrbWVuaXN0YW4nLCBjb2RlOiAnVE0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdUdXJrcyBhbmQgQ2FpY29zIElzbGFuZHMnLCBjb2RlOiAnVEMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdUdXZhbHUnLCBjb2RlOiAnVFYnfSxcclxuICAgICAgICAgICAge25hbWU6ICdVZ2FuZGEnLCBjb2RlOiAnVUcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdVa3JhaW5lJywgY29kZTogJ1VBJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVW5pdGVkIEFyYWIgRW1pcmF0ZXMnLCBjb2RlOiAnQUUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdVbml0ZWQgS2luZ2RvbScsIGNvZGU6ICdHQid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1VuaXRlZCBTdGF0ZXMnLCBjb2RlOiAnVVMnfSxcclxuICAgICAgICAgICAge25hbWU6ICdVbml0ZWQgU3RhdGVzIE1pbm9yIE91dGx5aW5nIElzbGFuZHMnLCBjb2RlOiAnVU0nfSxcclxuICAgICAgICAgICAge25hbWU6ICdVcnVndWF5JywgY29kZTogJ1VZJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVXpiZWtpc3RhbicsIGNvZGU6ICdVWid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1ZhbnVhdHUnLCBjb2RlOiAnVlUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdWZW5lenVlbGEnLCBjb2RlOiAnVkUnfSxcclxuICAgICAgICAgICAge25hbWU6ICdWaWV0bmFtJywgY29kZTogJ1ZOJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnVmlyZ2luIElzbGFuZHMsIEJyaXRpc2gnLCBjb2RlOiAnVkcnfSxcclxuICAgICAgICAgICAge25hbWU6ICdWaXJnaW4gSXNsYW5kcywgVS5TLicsIGNvZGU6ICdWSSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1dhbGxpcyBhbmQgRnV0dW5hJywgY29kZTogJ1dGJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnV2VzdGVybiBTYWhhcmEnLCBjb2RlOiAnRUgnfSxcclxuICAgICAgICAgICAge25hbWU6ICdZZW1lbicsIGNvZGU6ICdZRSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1phbWJpYScsIGNvZGU6ICdaTSd9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1ppbWJhYndlJywgY29kZTogJ1pXJ31cclxuICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgIC8vIE11bHRpcGxlXHJcbiAgICAgICAgICB2bS5zb21lR3JvdXBGbiA9IGZ1bmN0aW9uIChpdGVtKXtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLm5hbWVbMF0gPj0gJ0EnICYmIGl0ZW0ubmFtZVswXSA8PSAnTScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Zyb20gQSAtIE0nO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZVswXSA+PSAnTicgJiYgaXRlbS5uYW1lWzBdIDw9ICdaJylcclxuICAgICAgICAgICAgICAgIHJldHVybiAnRnJvbSBOIC0gWic7XHJcblxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5jb3VudGVyID0gMDtcclxuICAgICAgICAgIHZtLnNvbWVGdW5jdGlvbiA9IGZ1bmN0aW9uIChpdGVtLCBtb2RlbCl7XHJcbiAgICAgICAgICAgIHZtLmNvdW50ZXIrKztcclxuICAgICAgICAgICAgdm0uZXZlbnRSZXN1bHQgPSB7aXRlbTogaXRlbSwgbW9kZWw6IG1vZGVsfTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uYXZhaWxhYmxlQ29sb3JzID0gWydSZWQnLCdHcmVlbicsJ0JsdWUnLCdZZWxsb3cnLCdNYWdlbnRhJywnTWFyb29uJywnVW1icmEnLCdUdXJxdW9pc2UnXTtcclxuXHJcbiAgICAgICAgICB2bS5tdWx0aXBsZURlbW8gPSB7fTtcclxuICAgICAgICAgIHZtLm11bHRpcGxlRGVtby5jb2xvcnMgPSBbJ0JsdWUnLCdSZWQnXTtcclxuICAgICAgICAgIHZtLm11bHRpcGxlRGVtby5zZWxlY3RlZFBlb3BsZSA9IFt2bS5wZW9wbGVbNV0sIHZtLnBlb3BsZVs0XV07XHJcbiAgICAgICAgICB2bS5tdWx0aXBsZURlbW8uc2VsZWN0ZWRQZW9wbGVXaXRoR3JvdXBCeSA9IFt2bS5wZW9wbGVbOF0sIHZtLnBlb3BsZVs2XV07XHJcbiAgICAgICAgICB2bS5tdWx0aXBsZURlbW8uc2VsZWN0ZWRQZW9wbGVTaW1wbGUgPSBbJ3NhbWFudGhhQGVtYWlsLmNvbScsJ3dsYWRpbWlyQGVtYWlsLmNvbSddO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IHVwbG9hZC5qc1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmZvcm1zJylcclxuICAgICAgICAuY29udHJvbGxlcignRmlsZVVwbG9hZENvbnRyb2xsZXInLCBGaWxlVXBsb2FkQ29udHJvbGxlcik7XHJcblxyXG4gICAgRmlsZVVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFsnRmlsZVVwbG9hZGVyJ107XHJcbiAgICBmdW5jdGlvbiBGaWxlVXBsb2FkQ29udHJvbGxlcihGaWxlVXBsb2FkZXIpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgdmFyIHVwbG9hZGVyID0gdm0udXBsb2FkZXIgPSBuZXcgRmlsZVVwbG9hZGVyKHtcclxuICAgICAgICAgICAgICB1cmw6ICdzZXJ2ZXIvdXBsb2FkLnBocCdcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIEZJTFRFUlNcclxuXHJcbiAgICAgICAgICB1cGxvYWRlci5maWx0ZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdjdXN0b21GaWx0ZXInLFxyXG4gICAgICAgICAgICAgIGZuOiBmdW5jdGlvbigvKml0ZW0sIG9wdGlvbnMqLykge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5sZW5ndGggPCAxMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBDQUxMQkFDS1NcclxuXHJcbiAgICAgICAgICB1cGxvYWRlci5vbldoZW5BZGRpbmdGaWxlRmFpbGVkID0gZnVuY3Rpb24oaXRlbSAvKntGaWxlfEZpbGVMaWtlT2JqZWN0fSovLCBmaWx0ZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ29uV2hlbkFkZGluZ0ZpbGVGYWlsZWQnLCBpdGVtLCBmaWx0ZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHVwbG9hZGVyLm9uQWZ0ZXJBZGRpbmdGaWxlID0gZnVuY3Rpb24oZmlsZUl0ZW0pIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ29uQWZ0ZXJBZGRpbmdGaWxlJywgZmlsZUl0ZW0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHVwbG9hZGVyLm9uQWZ0ZXJBZGRpbmdBbGwgPSBmdW5jdGlvbihhZGRlZEZpbGVJdGVtcykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnb25BZnRlckFkZGluZ0FsbCcsIGFkZGVkRmlsZUl0ZW1zKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1cGxvYWRlci5vbkJlZm9yZVVwbG9hZEl0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdvbkJlZm9yZVVwbG9hZEl0ZW0nLCBpdGVtKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1cGxvYWRlci5vblByb2dyZXNzSXRlbSA9IGZ1bmN0aW9uKGZpbGVJdGVtLCBwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnb25Qcm9ncmVzc0l0ZW0nLCBmaWxlSXRlbSwgcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHVwbG9hZGVyLm9uUHJvZ3Jlc3NBbGwgPSBmdW5jdGlvbihwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnb25Qcm9ncmVzc0FsbCcsIHByb2dyZXNzKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1cGxvYWRlci5vblN1Y2Nlc3NJdGVtID0gZnVuY3Rpb24oZmlsZUl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ29uU3VjY2Vzc0l0ZW0nLCBmaWxlSXRlbSwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycyk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdXBsb2FkZXIub25FcnJvckl0ZW0gPSBmdW5jdGlvbihmaWxlSXRlbSwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnb25FcnJvckl0ZW0nLCBmaWxlSXRlbSwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycyk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdXBsb2FkZXIub25DYW5jZWxJdGVtID0gZnVuY3Rpb24oZmlsZUl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ29uQ2FuY2VsSXRlbScsIGZpbGVJdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1cGxvYWRlci5vbkNvbXBsZXRlSXRlbSA9IGZ1bmN0aW9uKGZpbGVJdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdvbkNvbXBsZXRlSXRlbScsIGZpbGVJdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB1cGxvYWRlci5vbkNvbXBsZXRlQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdvbkNvbXBsZXRlQWxsJyk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUuaW5mbygndXBsb2FkZXInLCB1cGxvYWRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogdmFsaWRhdGUtZm9ybS5qc1xuICogSW5pdGlhbGl6ZXMgdGhlIHZhbGlkYXRpb24gcGx1Z2luIFBhcnNsZXlcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuZm9ybXMnKVxuICAgICAgICAuZGlyZWN0aXZlKCd2YWxpZGF0ZUZvcm0nLCB2YWxpZGF0ZUZvcm0pO1xuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGb3JtICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciAkZWxlbSA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgaWYoJC5mbi5wYXJzbGV5KVxuICAgICAgICAgICAgJGVsZW0ucGFyc2xleSgpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IHNreWNvbnMuanNcbiAqIEluY2x1ZGUgYW55IGFuaW1hdGVkIHdlYXRoZXIgaWNvbiBmcm9tIFNreWNvbnNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAuaWNvbnMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdza3ljb24nLCBza3ljb24pO1xuXG4gICAgZnVuY3Rpb24gc2t5Y29uICgpIHtcblxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIHZhciBza3ljb25zID0gbmV3IFNreWNvbnMoeydjb2xvcic6IChhdHRycy5jb2xvciB8fCAnd2hpdGUnKX0pO1xuXG4gICAgICAgICAgZWxlbWVudC5odG1sKCc8Y2FudmFzIHdpZHRoPVwiJyArIGF0dHJzLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBhdHRycy5oZWlnaHQgKyAnXCI+PC9jYW52YXM+Jyk7XG5cbiAgICAgICAgICBza3ljb25zLmFkZChlbGVtZW50LmNoaWxkcmVuKClbMF0sIGF0dHJzLnNreWNvbik7XG5cbiAgICAgICAgICBza3ljb25zLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdhcHAuaXRlbXMnLCBbXSlcbiAgICAgIC5jb250cm9sbGVyKCdJdGVtc0NvbnRyb2xsZXInLCBJdGVtc0NvbnRyb2xsZXIpXG4gICAgICAuY29udHJvbGxlcignU3RvY2tEaWFsb2dDb250cm9sbGVyJywgU3RvY2tEaWFsb2dDb250cm9sbGVyKVxuICAgICAgLmNvbnRyb2xsZXIoJ1N0b2Nrc0NvbnRyb2xsZXInLCBTdG9ja3NDb250cm9sbGVyKVxuICAgICAgLmNvbnRyb2xsZXIoJ0l0ZW1BZGRDb250cm9sbGVyJywgSXRlbUFkZENvbnRyb2xsZXIpO1xuICAgIFxuICAgIEl0ZW1zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnbmdUYWJsZVBhcmFtcycsICdTa3UnLCAnbmdEaWFsb2cnLCAnU3dlZXRBbGVydCcsICduZ1RhYmxlTEJTZXJ2aWNlJ107XG4gICAgZnVuY3Rpb24gSXRlbXNDb250cm9sbGVyKCRzY29wZSwgbmdUYWJsZVBhcmFtcywgU2t1LCBuZ0RpYWxvZywgU3dlZXRBbGVydCwgbmdUYWJsZUxCU2VydmljZSkge1xuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIFxuICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIHZtLmtleXdvcmQgPSBcIlwiO1xuICAgICAgICB2bS50YWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtjb3VudDogMTB9LCB7XG4gICAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSB7d2hlcmU6e3N0YXR1czp7bmU6J2RlbGV0ZWQnfX0sIGluY2x1ZGU6WydpbnZlbnRvcmllcyddfVxuICAgICAgICAgICAgaWYodm0ua2V5d29yZCAhPSAnJykge1xuICAgICAgICAgICAgICB2YXIgcXMgPSB7cmVnZXg6IGtleXdvcmR9O1xuICAgICAgICAgICAgICBmaWx0ZXIud2hlcmUub3IgPSBbe1wiaXRlbS5uYW1lXCI6cXN9LCB7bW9kZWw6cXN9XTtcbiAgICAgICAgICAgICAgcGFyYW1zLnBhZ2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ1RhYmxlTEJTZXJ2aWNlLmdldERhdGEoJGRlZmVyLCBwYXJhbXMsIFNrdSwgZmlsdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICB2bS5zdG9jayA9IGZ1bmN0aW9uIChza3UsIHR5cGUpIHtcbiAgICAgICAgbmdEaWFsb2cub3Blbih7IFxuICAgICAgICAgIHRlbXBsYXRlOiAnc3RvY2tEaWFsb2dJZCcsIFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdTdG9ja0RpYWxvZ0NvbnRyb2xsZXInLCBcbiAgICAgICAgICBkYXRhOiB7c2t1OiBza3UsIHR5cGU6IHR5cGV9IFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uZGVsZXRlID0gZnVuY3Rpb24gKHNrdSkge1xuICAgICAgICBTd2VldEFsZXJ0LnN3YWwoeyAgIFxuICAgICAgICAgIHRpdGxlOiAn56Gu5a6a5Yig6Zmk5ZWG5ZOBJytza3UuaXRlbS5uYW1lLCAgIFxuICAgICAgICAgIHRleHQ6ICfliKDpmaTllYblk4HlkI7lsIbml6Dms5XmgaLlpI3vvIzkvaDnoa7lrpropoHliKDpmaTllYblk4HvvJ8nLCAgIFxuICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywgICBcbiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLCAgIFxuICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyNERDZCNTUnLCAgIFxuICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5piv55qE77yM5Yig6Zmk77yBJyxcbiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5LiN77yM5Y+W5raI77yBJywgICBcbiAgICAgICAgICBjbG9zZU9uQ29uZmlybTogZmFsc2VcbiAgICAgICAgfSwgIGZ1bmN0aW9uKGlzQ29uZmlybSl7ICBcbiAgICAgICAgICBpZihpc0NvbmZpcm0pIHtcbiAgICAgICAgICAgIHNrdS5zdGF0dXMgPSAnZGVsZXRlZCc7XG4gICAgICAgICAgICBza3UuJHNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBTd2VldEFsZXJ0LnN3YWwoJ+W3suWIoOmZpCEnLCfkvaDnmoTllYblk4EnK3NrdS5pdGVtLm5hbWUrJ+W3sue7j+WIoOmZpOOAgicsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCgn5aSx6LSlIScsICfliKDpmaTllYblk4Hml7blj5HnlJ/plJnor6/vvIzkvaDnmoTllYblk4HmsqHmnInooqvliKDpmaTjgIInLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLmNvbmZpcm0gPSBmdW5jdGlvbiAoc2t1KSB7XG4gICAgICAgIHZhciBpbnZlbnRvcnkgPSBza3UuaW52ZW50b3JpZXNbMF07XG4gICAgICAgIGludmVudG9yeS5pbnZlbnRvcnlBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIFNrdS5wcm90b3R5cGUkX191cGRhdGVCeUlkX19pbnZlbnRvcmllcyh7XG4gICAgICAgICAgaWQ6c2t1LmlkLCBmazogaW52ZW50b3J5LmlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbnZlbnRvcnlBdDogaW52ZW50b3J5LmludmVudG9yeUF0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgfVxuICAgIFxuICAgIEl0ZW1BZGRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdJdGVtJ107XG4gICAgZnVuY3Rpb24gSXRlbUFkZENvbnRyb2xsZXIoJHNjb3BlLCBJdGVtKSB7XG4gICAgICBhY3RpdmF0ZSgpO1xuICAgICAgXG4gICAgICB3aW5kb3cuUGFyc2xleVZhbGlkYXRvci5zZXRMb2NhbGUoJ3poX2NuJyk7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAkc2NvcGUuZW50aXR5ID0ge1xuICAgICAgICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgICAgICAgbmFtZTogXCJpUGhvbmU2UyBQbHVzXCIsXG4gICAgICAgICAgc2t1czogW3tiYXJjb2RlOiBcIjQ1NlwiLCBwcmljZTogNjA4ODAwLCBtb2RlbDogXCIxNkdCXCIsIHN0b2NrUXR5OjN9XVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgSXRlbS5jcmVhdGUoJHNjb3BlLmVudGl0eSkuJHByb21pc2VcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAkc2NvcGUuJHN0YXRlLmdvKCdhcHAuaXRlbScpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgJHNjb3BlLnNhdmVBbmRNb3JlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBJdGVtLmNyZWF0ZSgkc2NvcGUuZW50aXR5KVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBTdG9ja0RpYWxvZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ25nRGlhbG9nJywgJ1N0b2NrJywgJ3RvYXN0ZXInLCAnJGZpbHRlciddO1xuICAgIGZ1bmN0aW9uIFN0b2NrRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsIG5nRGlhbG9nLCBTdG9jaywgdG9hc3RlciwgJGZpbHRlcikge1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICRzY29wZS5zdG9ja1F0eSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICRzY29wZS5jb25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBza3UgPSAkc2NvcGUubmdEaWFsb2dEYXRhLnNrdTtcbiAgICAgICAgICB2YXIgdHlwZSA9ICRzY29wZS5uZ0RpYWxvZ0RhdGEudHlwZTtcbiAgICAgICAgICB2YXIgbWVtbyA9ICRzY29wZS5uZ0RpYWxvZ0RhdGEubWVtbztcbiAgICAgICAgICBTdG9jay5jcmVhdGUoe3NrdUlkOiBza3UuaWQsIHF0eTogJHNjb3BlLnN0b2NrUXR5LCB0eXBlOiB0eXBlLCBtZW1vOiBtZW1vfSk7XG4gICAgICAgICAgc2t1LmludmVudG9yaWVzWzBdLnF0eSArPSAkc2NvcGUuc3RvY2tRdHk7XG4gICAgICAgICAgbmdEaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICfmiJDlip8nLFxuICAgICAgICAgICBcIuWujOaIkFwiKyRmaWx0ZXIoJ3N0b2NrX3R5cGUnKSh0eXBlKStza3UuaXRlbS5uYW1lK1wiOiBcIiskc2NvcGUuc3RvY2tRdHkrXCLku7ZcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgU3RvY2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnU3RvY2snLCAnbmdUYWJsZVBhcmFtcyddO1xuICAgIGZ1bmN0aW9uIFN0b2Nrc0NvbnRyb2xsZXIoJHNjb3BlLCBTdG9jaywgbmdUYWJsZVBhcmFtcykge1xuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIFxuICAgICAgYWN0aXZlKCk7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGFjdGl2ZSgpIHtcbiAgICAgICAgdm0uZmlsdGVyID0ge3RleHQ6ICcnfVxuICAgICAgICB2bS50YWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICBjb3VudDogMTAsXG4gICAgICAgICAgZmlsdGVyOiB2bS5maWx0ZXIudGV4dFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSB7d2hlcmU6e30sIGluY2x1ZGU6Wydza3UnXX1cbiAgICAgICAgICAgIG9wdC5saW1pdCA9IHBhcmFtcy5jb3VudCgpXG4gICAgICAgICAgICBvcHQuc2tpcCA9IChwYXJhbXMucGFnZSgpLTEpKm9wdC5saW1pdFxuICAgICAgICAgICAgaWYodm0uZmlsdGVyLnRleHQgIT0gJycpIHtcbiAgICAgICAgICAgICAgb3B0LnNraXAgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvY2suY291bnQoe3doZXJlOiBvcHQud2hlcmV9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zLnRvdGFsKHJlc3VsdC5jb3VudClcbiAgICAgICAgICAgICAgU3RvY2suZmluZCh7ZmlsdGVyOm9wdH0sICRkZWZlci5yZXNvbHZlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKipcbiAqIEFuZ3VsYXJKUyBkZWZhdWx0IGZpbHRlciB3aXRoIHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbjpcbiAqIFwicGVyc29uIGluIHBlb3BsZSB8IGZpbHRlcjoge25hbWU6ICRzZWxlY3Quc2VhcmNoLCBhZ2U6ICRzZWxlY3Quc2VhcmNofVwiXG4gKiBwZXJmb3JtcyBhIEFORCBiZXR3ZWVuICduYW1lOiAkc2VsZWN0LnNlYXJjaCcgYW5kICdhZ2U6ICRzZWxlY3Quc2VhcmNoJy5cbiAqIFdlIHdhbnQgdG8gcGVyZm9ybSBhIE9SLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5pdGVtcycpXG4gICAgICAgIC5maWx0ZXIoJ2l0ZW1fdHlwZScsIGl0ZW1UeXBlRmlsdGVyKVxuICAgICAgICAuZmlsdGVyKCdzdG9ja190eXBlJywgc3RvY2tUeXBlRmlsdGVyKVxuICAgICAgICAuZmlsdGVyKCdjdXJyZW5jeV9jbnknLCBjdXJyZW5jeUNOWUZpbHRlcilcbiAgICA7XG5cbiAgICBmdW5jdGlvbiBpdGVtVHlwZUZpbHRlcigpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB7XG4gICAgICAgICAgZW50aXR5OiBcIuWunueJqeWVhuWTgVwiLFxuICAgICAgICAgIHNlcnZpY2U6IFwi5pyN5Yqh6aG555uuXCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjdXJyZW5jeUNOWUZpbHRlcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBcIsKlIFwiK3ZhbC8xMDA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHN0b2NrVHlwZUZpbHRlcigpIHtcbiAgICAgIHZhciB0eXBlID0ge1xuICAgICAgICBzdG9jazogXCLov5votKflhaXlupNcIixcbiAgICAgICAgc2FsZTogXCLplIDllK7lh7rlupNcIixcbiAgICAgICAgY2FuY2VsOiBcIuaguOmUgOWHuuW6k1wiLFxuICAgICAgICBpbnZlbnRvcnk6IFwi55uY54K55L+u5q2jXCIsXG4gICAgICAgIHRyYW5zZmVyOiBcIuW6k+WtmOiwg+i0p1wiXG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBrZXkgPSBrZXkgfHwgJ3N0b2NrJztcbiAgICAgICAgcmV0dXJuIHR5cGVba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubGF6eWxvYWQnKVxyXG4gICAgICAgIC5jb25maWcobGF6eWxvYWRDb25maWcpO1xyXG5cclxuICAgIGxhenlsb2FkQ29uZmlnLiRpbmplY3QgPSBbJyRvY0xhenlMb2FkUHJvdmlkZXInLCAnQVBQX1JFUVVJUkVTJ107XHJcbiAgICBmdW5jdGlvbiBsYXp5bG9hZENvbmZpZygkb2NMYXp5TG9hZFByb3ZpZGVyLCBBUFBfUkVRVUlSRVMpe1xyXG5cclxuICAgICAgLy8gTGF6eSBMb2FkIG1vZHVsZXMgY29uZmlndXJhdGlvblxyXG4gICAgICAkb2NMYXp5TG9hZFByb3ZpZGVyLmNvbmZpZyh7XHJcbiAgICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICAgIGV2ZW50czogdHJ1ZSxcclxuICAgICAgICBtb2R1bGVzOiBBUFBfUkVRVUlSRVMubW9kdWxlc1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubGF6eWxvYWQnKVxyXG4gICAgICAgIC5jb25zdGFudCgnQVBQX1JFUVVJUkVTJywge1xyXG4gICAgICAgICAgLy8galF1ZXJ5IGJhc2VkIGFuZCBzdGFuZGFsb25lIHNjcmlwdHNcclxuICAgICAgICAgIHNjcmlwdHM6IHtcclxuICAgICAgICAgICAgJ3doaXJsJzogICAgICAgICAgICAgIFsndmVuZG9yL3doaXJsL2Rpc3Qvd2hpcmwuY3NzJ10sXHJcbiAgICAgICAgICAgICdjbGFzc3lsb2FkZXInOiAgICAgICBbJ3ZlbmRvci9qcXVlcnktY2xhc3N5bG9hZGVyL2pzL2pxdWVyeS5jbGFzc3lsb2FkZXIubWluLmpzJ10sXHJcbiAgICAgICAgICAgICdhbmltbyc6ICAgICAgICAgICAgICBbJ3ZlbmRvci9hbmltby5qcy9hbmltby5qcyddLFxyXG4gICAgICAgICAgICAnZmFzdGNsaWNrJzogICAgICAgICAgWyd2ZW5kb3IvZmFzdGNsaWNrL2xpYi9mYXN0Y2xpY2suanMnXSxcclxuICAgICAgICAgICAgJ21vZGVybml6cic6ICAgICAgICAgIFsndmVuZG9yL21vZGVybml6ci9tb2Rlcm5penIuanMnXSxcclxuICAgICAgICAgICAgJ2FuaW1hdGUnOiAgICAgICAgICAgIFsndmVuZG9yL2FuaW1hdGUuY3NzL2FuaW1hdGUubWluLmNzcyddLFxyXG4gICAgICAgICAgICAnc2t5Y29ucyc6ICAgICAgICAgICAgWyd2ZW5kb3Ivc2t5Y29ucy9za3ljb25zLmpzJ10sXHJcbiAgICAgICAgICAgICdpY29ucyc6ICAgICAgICAgICAgICBbJ3ZlbmRvci9mb250YXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3Ivc2ltcGxlLWxpbmUtaWNvbnMvY3NzL3NpbXBsZS1saW5lLWljb25zLmNzcyddLFxyXG4gICAgICAgICAgICAnd2VhdGhlci1pY29ucyc6ICAgICAgWyd2ZW5kb3Ivd2VhdGhlci1pY29ucy9jc3Mvd2VhdGhlci1pY29ucy5taW4uY3NzJ10sXHJcbiAgICAgICAgICAgICdzcGFya2xpbmVzJzogICAgICAgICBbJ2FwcC92ZW5kb3Ivc3BhcmtsaW5lcy9qcXVlcnkuc3BhcmtsaW5lLm1pbi5qcyddLFxyXG4gICAgICAgICAgICAnd3lzaXd5Zyc6ICAgICAgICAgICAgWyd2ZW5kb3IvYm9vdHN0cmFwLXd5c2l3eWcvYm9vdHN0cmFwLXd5c2l3eWcuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYm9vdHN0cmFwLXd5c2l3eWcvZXh0ZXJuYWwvanF1ZXJ5LmhvdGtleXMuanMnXSxcclxuICAgICAgICAgICAgJ3NsaW1zY3JvbGwnOiAgICAgICAgIFsndmVuZG9yL3NsaW1TY3JvbGwvanF1ZXJ5LnNsaW1zY3JvbGwubWluLmpzJ10sXHJcbiAgICAgICAgICAgICdzY3JlZW5mdWxsJzogICAgICAgICBbJ3ZlbmRvci9zY3JlZW5mdWxsL2Rpc3Qvc2NyZWVuZnVsbC5qcyddLFxyXG4gICAgICAgICAgICAndmVjdG9yLW1hcCc6ICAgICAgICAgWyd2ZW5kb3IvaWthLmp2ZWN0b3JtYXAvanF1ZXJ5LWp2ZWN0b3JtYXAtMS4yLjIubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2lrYS5qdmVjdG9ybWFwL2pxdWVyeS1qdmVjdG9ybWFwLTEuMi4yLmNzcyddLFxyXG4gICAgICAgICAgICAndmVjdG9yLW1hcC1tYXBzJzogICAgWyd2ZW5kb3IvaWthLmp2ZWN0b3JtYXAvanF1ZXJ5LWp2ZWN0b3JtYXAtd29ybGQtbWlsbC1lbi5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9pa2EuanZlY3Rvcm1hcC9qcXVlcnktanZlY3Rvcm1hcC11cy1taWxsLWVuLmpzJ10sXHJcbiAgICAgICAgICAgICdsb2FkR29vZ2xlTWFwc0pTJzogICBbJ2FwcC92ZW5kb3IvZ21hcC9sb2FkLWdvb2dsZS1tYXBzLmpzJ10sXHJcbiAgICAgICAgICAgICdmbG90LWNoYXJ0JzogICAgICAgICBbJ3ZlbmRvci9GbG90L2pxdWVyeS5mbG90LmpzJ10sXHJcbiAgICAgICAgICAgICdmbG90LWNoYXJ0LXBsdWdpbnMnOiBbJ3ZlbmRvci9mbG90LnRvb2x0aXAvanMvanF1ZXJ5LmZsb3QudG9vbHRpcC5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvRmxvdC9qcXVlcnkuZmxvdC5yZXNpemUuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvRmxvdC9qcXVlcnkuZmxvdC5waWUuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvRmxvdC9qcXVlcnkuZmxvdC50aW1lLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL0Zsb3QvanF1ZXJ5LmZsb3QuY2F0ZWdvcmllcy5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9mbG90LXNwbGluZS9qcy9qcXVlcnkuZmxvdC5zcGxpbmUubWluLmpzJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqcXVlcnkgY29yZSBhbmQgd2lkZ2V0c1xyXG4gICAgICAgICAgICAnanF1ZXJ5LXVpJzogICAgICAgICAgWyd2ZW5kb3IvanF1ZXJ5LXVpL3VpL2NvcmUuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvanF1ZXJ5LXVpL3VpL3dpZGdldC5qcyddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvYWRzIG9ubHkganF1ZXJ5IHJlcXVpcmVkIG1vZHVsZXMgYW5kIHRvdWNoIHN1cHBvcnRcclxuICAgICAgICAgICAgJ2pxdWVyeS11aS13aWRnZXRzJzogIFsndmVuZG9yL2pxdWVyeS11aS91aS9jb3JlLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2pxdWVyeS11aS91aS93aWRnZXQuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvanF1ZXJ5LXVpL3VpL21vdXNlLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2pxdWVyeS11aS91aS9kcmFnZ2FibGUuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvanF1ZXJ5LXVpL3VpL2Ryb3BwYWJsZS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9qcXVlcnktdWkvdWkvc29ydGFibGUuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvanF1ZXJ5dWktdG91Y2gtcHVuY2gvanF1ZXJ5LnVpLnRvdWNoLXB1bmNoLm1pbi5qcyddLFxyXG4gICAgICAgICAgICAnbW9tZW50JyA6ICAgICAgICAgICAgWyd2ZW5kb3IvbW9tZW50L21pbi9tb21lbnQtd2l0aC1sb2NhbGVzLm1pbi5qcyddLFxyXG4gICAgICAgICAgICAnaW5wdXRtYXNrJzogICAgICAgICAgWyd2ZW5kb3IvanF1ZXJ5LmlucHV0bWFzay9kaXN0L2pxdWVyeS5pbnB1dG1hc2suYnVuZGxlLm1pbi5qcyddLFxyXG4gICAgICAgICAgICAnZmxhdGRvYyc6ICAgICAgICAgICAgWyd2ZW5kb3IvZmxhdGRvYy9mbGF0ZG9jLmpzJ10sXHJcbiAgICAgICAgICAgICdjb2RlbWlycm9yJzogICAgICAgICBbJ3ZlbmRvci9jb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuY3NzJ10sXHJcbiAgICAgICAgICAgIC8vIG1vZGVzIGZvciBjb21tb24gd2ViIGZpbGVzXHJcbiAgICAgICAgICAgICdjb2RlbWlycm9yLW1vZGVzLXdlYic6IFsndmVuZG9yL2NvZGVtaXJyb3IvbW9kZS9qYXZhc2NyaXB0L2phdmFzY3JpcHQuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9jb2RlbWlycm9yL21vZGUveG1sL3htbC5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2NvZGVtaXJyb3IvbW9kZS9odG1sbWl4ZWQvaHRtbG1peGVkLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvY29kZW1pcnJvci9tb2RlL2Nzcy9jc3MuanMnXSxcclxuICAgICAgICAgICAgJ3RhZ2lucHV0JyA6ICAgICAgICAgIFsndmVuZG9yL2Jvb3RzdHJhcC10YWdzaW5wdXQvZGlzdC9ib290c3RyYXAtdGFnc2lucHV0LmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMnXSxcclxuICAgICAgICAgICAgJ2ZpbGVzdHlsZSc6ICAgICAgICAgIFsndmVuZG9yL2Jvb3RzdHJhcC1maWxlc3R5bGUvc3JjL2Jvb3RzdHJhcC1maWxlc3R5bGUuanMnXSxcclxuICAgICAgICAgICAgJ3BhcnNsZXknOiAgICAgICAgICAgIFsndmVuZG9yL3BhcnNsZXlqcy9zcmMvaTE4bi96aF9jbi5leHRyYS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9wYXJzbGV5anMvZGlzdC9wYXJzbGV5Lm1pbi5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9wYXJzbGV5anMvc3JjL2kxOG4vemhfY24uanMnXSxcclxuICAgICAgICAgICAgJ2Z1bGxjYWxlbmRhcic6ICAgICAgIFsndmVuZG9yL2Z1bGxjYWxlbmRhci9kaXN0L2Z1bGxjYWxlbmRhci5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvZnVsbGNhbGVuZGFyL2Rpc3QvZnVsbGNhbGVuZGFyLmNzcyddLFxyXG4gICAgICAgICAgICAnZ2NhbCc6ICAgICAgICAgICAgICAgWyd2ZW5kb3IvZnVsbGNhbGVuZGFyL2Rpc3QvZ2NhbC5qcyddLFxyXG4gICAgICAgICAgICAnY2hhcnRqcyc6ICAgICAgICAgICAgWyd2ZW5kb3IvQ2hhcnQuanMvQ2hhcnQuanMnXSxcclxuICAgICAgICAgICAgJ21vcnJpcyc6ICAgICAgICAgICAgIFsndmVuZG9yL3JhcGhhZWwvcmFwaGFlbC5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9tb3JyaXMuanMvbW9ycmlzLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL21vcnJpcy5qcy9tb3JyaXMuY3NzJ10sXHJcbiAgICAgICAgICAgICdsb2FkZXJzLmNzcyc6ICAgICAgICAgIFsndmVuZG9yL2xvYWRlcnMuY3NzL2xvYWRlcnMuY3NzJ10sXHJcbiAgICAgICAgICAgICdzcGlua2l0JzogICAgICAgICAgICAgIFsndmVuZG9yL3NwaW5raXQvY3NzL3NwaW5raXQuY3NzJ11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyBBbmd1bGFyIGJhc2VkIHNjcmlwdCAodXNlIHRoZSByaWdodCBtb2R1bGUgbmFtZSlcclxuICAgICAgICAgIG1vZHVsZXM6IFtcclxuICAgICAgICAgICAge25hbWU6ICd0b2FzdGVyJywgICAgICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2FuZ3VsYXJqcy10b2FzdGVyL3RvYXN0ZXIuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyanMtdG9hc3Rlci90b2FzdGVyLmNzcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICdsb2NhbHl0aWNzLmRpcmVjdGl2ZXMnLCAgICAgZmlsZXM6IFsndmVuZG9yL2Nob3Nlbl92MS4yLjAvY2hvc2VuLmpxdWVyeS5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9jaG9zZW5fdjEuMi4wL2Nob3Nlbi5taW4uY3NzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYW5ndWxhci1jaG9zZW4tbG9jYWx5dGljcy9jaG9zZW4uanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnbmdEaWFsb2cnLCAgICAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9uZ0RpYWxvZy9qcy9uZ0RpYWxvZy5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9uZ0RpYWxvZy9jc3MvbmdEaWFsb2cubWluLmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL25nRGlhbG9nL2Nzcy9uZ0RpYWxvZy10aGVtZS1kZWZhdWx0Lm1pbi5jc3MnXSB9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ25nV2lnJywgICAgICAgICAgICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvbmdXaWcvZGlzdC9uZy13aWcubWluLmpzJ10gfSxcclxuICAgICAgICAgICAge25hbWU6ICduZ1RhYmxlJywgICAgICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL25nLXRhYmxlL2Rpc3QvbmctdGFibGUubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL25nLXRhYmxlL2Rpc3QvbmctdGFibGUubWluLmNzcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICduZ1RhYmxlRXhwb3J0JywgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL25nLXRhYmxlLWV4cG9ydC9uZy10YWJsZS1leHBvcnQuanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnYW5ndWxhckJvb3RzdHJhcE5hdlRyZWUnLCAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLWJvb3RzdHJhcC1uYXYtdHJlZS9kaXN0L2Fibl90cmVlX2RpcmVjdGl2ZS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLWJvb3RzdHJhcC1uYXYtdHJlZS9kaXN0L2Fibl90cmVlLmNzcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICdodG1sU29ydGFibGUnLCAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2h0bWwuc29ydGFibGUvZGlzdC9odG1sLnNvcnRhYmxlLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2h0bWwuc29ydGFibGUvZGlzdC9odG1sLnNvcnRhYmxlLmFuZ3VsYXIuanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAneGVkaXRhYmxlJywgICAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLXhlZGl0YWJsZS9kaXN0L2pzL3hlZGl0YWJsZS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLXhlZGl0YWJsZS9kaXN0L2Nzcy94ZWRpdGFibGUuY3NzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2FuZ3VsYXJGaWxlVXBsb2FkJywgICAgICAgICBmaWxlczogWyd2ZW5kb3IvYW5ndWxhci1maWxlLXVwbG9hZC9hbmd1bGFyLWZpbGUtdXBsb2FkLmpzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ25nSW1nQ3JvcCcsICAgICAgICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvbmctaW1nLWNyb3AvY29tcGlsZS91bm1pbmlmaWVkL25nLWltZy1jcm9wLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL25nLWltZy1jcm9wL2NvbXBpbGUvdW5taW5pZmllZC9uZy1pbWctY3JvcC5jc3MnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAndWkuc2VsZWN0JywgICAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLXVpLXNlbGVjdC9kaXN0L3NlbGVjdC5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLXVpLXNlbGVjdC9kaXN0L3NlbGVjdC5jc3MnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAndWkuY29kZW1pcnJvcicsICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLXVpLWNvZGVtaXJyb3IvdWktY29kZW1pcnJvci5qcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICdhbmd1bGFyLWNhcm91c2VsJywgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2FuZ3VsYXItY2Fyb3VzZWwvZGlzdC9hbmd1bGFyLWNhcm91c2VsLmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLWNhcm91c2VsL2Rpc3QvYW5ndWxhci1jYXJvdXNlbC5qcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICduZ0dyaWQnLCAgICAgICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL25nLWdyaWQvYnVpbGQvbmctZ3JpZC5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvbmctZ3JpZC9uZy1ncmlkLmNzcycgXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnaW5maW5pdGUtc2Nyb2xsJywgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9uZ0luZmluaXRlU2Nyb2xsL2J1aWxkL25nLWluZmluaXRlLXNjcm9sbC5qcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICd1aS5ib290c3RyYXAtc2xpZGVyJywgICAgICAgZmlsZXM6IFsndmVuZG9yL3NlaXlyaWEtYm9vdHN0cmFwLXNsaWRlci9kaXN0L2Jvb3RzdHJhcC1zbGlkZXIubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL3NlaXlyaWEtYm9vdHN0cmFwLXNsaWRlci9kaXN0L2Nzcy9ib290c3RyYXAtc2xpZGVyLm1pbi5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYW5ndWxhci1ib290c3RyYXAtc2xpZGVyL3NsaWRlci5qcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICd1aS5ncmlkJywgICAgICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2FuZ3VsYXItdWktZ3JpZC91aS1ncmlkLm1pbi5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYW5ndWxhci11aS1ncmlkL3VpLWdyaWQubWluLmpzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ3RleHRBbmd1bGFyJywgICAgICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvdGV4dEFuZ3VsYXIvZGlzdC90ZXh0QW5ndWxhci5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvdGV4dEFuZ3VsYXIvZGlzdC90ZXh0QW5ndWxhci1yYW5neS5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvdGV4dEFuZ3VsYXIvZGlzdC90ZXh0QW5ndWxhci1zYW5pdGl6ZS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci90ZXh0QW5ndWxhci9zcmMvZ2xvYmFscy5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci90ZXh0QW5ndWxhci9zcmMvZmFjdG9yaWVzLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL3RleHRBbmd1bGFyL3NyYy9ET00uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvdGV4dEFuZ3VsYXIvc3JjL3ZhbGlkYXRvcnMuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvdGV4dEFuZ3VsYXIvc3JjL3RhQmluZC5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci90ZXh0QW5ndWxhci9zcmMvbWFpbi5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci90ZXh0QW5ndWxhci9kaXN0L3RleHRBbmd1bGFyU2V0dXAuanMnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwgc2VyaWU6IHRydWV9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2FuZ3VsYXItcmlja3NoYXcnLCAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvZDMvZDMubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL3JpY2tzaGF3L3JpY2tzaGF3LmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL3JpY2tzaGF3L3JpY2tzaGF3Lm1pbi5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYW5ndWxhci1yaWNrc2hhdy9yaWNrc2hhdy5qcyddLCBzZXJpZTogdHJ1ZX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnYW5ndWxhci1jaGFydGlzdCcsICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9jaGFydGlzdC9kaXN0L2NoYXJ0aXN0Lm1pbi5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvY2hhcnRpc3QvZGlzdC9jaGFydGlzdC5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLWNoYXJ0aXN0LmpzL2Rpc3QvYW5ndWxhci1jaGFydGlzdC5qcyddLCBzZXJpZTogdHJ1ZX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAndWkubWFwJywgICAgICAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLXVpLW1hcC91aS1tYXAuanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnZGF0YXRhYmxlcycsICAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9kYXRhdGFibGVzL21lZGlhL2Nzcy9qcXVlcnkuZGF0YVRhYmxlcy5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvZGF0YXRhYmxlcy9tZWRpYS9qcy9qcXVlcnkuZGF0YVRhYmxlcy5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLWRhdGF0YWJsZXMvZGlzdC9hbmd1bGFyLWRhdGF0YWJsZXMuanMnXSwgc2VyaWU6IHRydWV9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2FuZ3VsYXItanFjbG91ZCcsICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvanFjbG91ZDIvZGlzdC9qcWNsb3VkLmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9qcWNsb3VkMi9kaXN0L2pxY2xvdWQuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYW5ndWxhci1qcWNsb3VkL2FuZ3VsYXItanFjbG91ZC5qcyddfSxcclxuICAgICAgICAgICAge25hbWU6ICdhbmd1bGFyR3JpZCcsICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2FnLWdyaWQvZGlzdC9hbmd1bGFyLWdyaWQuY3NzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2FnLWdyaWQvZGlzdC9hbmd1bGFyLWdyaWQuanMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3IvYWctZ3JpZC9kaXN0L3RoZW1lLWRhcmsuY3NzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2FnLWdyaWQvZGlzdC90aGVtZS1mcmVzaC5jc3MnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnbmctbmVzdGFibGUnLCAgICAgICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9uZy1uZXN0YWJsZS9zcmMvYW5ndWxhci1uZXN0YWJsZS5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9uZXN0YWJsZS9qcXVlcnkubmVzdGFibGUuanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnYWtvZW5pZy5kZWNrZ3JpZCcsICAgICAgICAgIGZpbGVzOiBbJ3ZlbmRvci9hbmd1bGFyLWRlY2tncmlkL2FuZ3VsYXItZGVja2dyaWQuanMnXX0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnb2l0b3plcm8ubmdTd2VldEFsZXJ0JywgICAgIGZpbGVzOiBbJ3ZlbmRvci9zd2VldGFsZXJ0L2Rpc3Qvc3dlZXRhbGVydC5jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZW5kb3Ivc3dlZXRhbGVydC9kaXN0L3N3ZWV0YWxlcnQubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2FuZ3VsYXItc3dlZXRhbGVydC9Td2VldEFsZXJ0LmpzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2JtLmJzVG91cicsICAgICAgICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvYm9vdHN0cmFwLXRvdXIvYnVpbGQvY3NzL2Jvb3RzdHJhcC10b3VyLmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9ib290c3RyYXAtdG91ci9idWlsZC9qcy9ib290c3RyYXAtdG91ci1zdGFuZGFsb25lLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2FuZ3VsYXItYm9vdHN0cmFwLXRvdXIvZGlzdC9hbmd1bGFyLWJvb3RzdHJhcC10b3VyLmpzJ10sIHNlcmllOiB0cnVlfSxcclxuICAgICAgICAgICAge25hbWU6ICd1aS5rbm9iJywgICAgICAgICAgICAgICAgICAgZmlsZXM6IFsndmVuZG9yL2FuZ3VsYXIta25vYi9zcmMvYW5ndWxhci1rbm9iLmpzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmVuZG9yL2pxdWVyeS1rbm9iL2Rpc3QvanF1ZXJ5Lmtub2IubWluLmpzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2Vhc3lwaWVjaGFydCcsICAgICAgICAgICAgICBmaWxlczogWyd2ZW5kb3IvanF1ZXJ5LmVhc3ktcGllLWNoYXJ0L2Rpc3QvYW5ndWxhci5lYXN5cGllY2hhcnQubWluLmpzJ119LFxyXG4gICAgICAgICAgICB7bmFtZTogJ2NvbG9ycGlja2VyLm1vZHVsZScsICAgICAgICBmaWxlczogWyd2ZW5kb3IvYW5ndWxhci1ib290c3RyYXAtY29sb3JwaWNrZXIvY3NzL2NvbG9ycGlja2VyLmNzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZlbmRvci9hbmd1bGFyLWJvb3RzdHJhcC1jb2xvcnBpY2tlci9qcy9ib290c3RyYXAtY29sb3JwaWNrZXItbW9kdWxlLmpzJ119XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSlcclxuICAgICAgICA7XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5sb2FkaW5nYmFyJylcclxuICAgICAgICAuY29uZmlnKGxvYWRpbmdiYXJDb25maWcpXHJcbiAgICAgICAgO1xyXG4gICAgbG9hZGluZ2JhckNvbmZpZy4kaW5qZWN0ID0gWydjZnBMb2FkaW5nQmFyUHJvdmlkZXInXTtcclxuICAgIGZ1bmN0aW9uIGxvYWRpbmdiYXJDb25maWcoY2ZwTG9hZGluZ0JhclByb3ZpZGVyKXtcclxuICAgICAgY2ZwTG9hZGluZ0JhclByb3ZpZGVyLmluY2x1ZGVCYXIgPSB0cnVlO1xyXG4gICAgICBjZnBMb2FkaW5nQmFyUHJvdmlkZXIuaW5jbHVkZVNwaW5uZXIgPSBmYWxzZTtcclxuICAgICAgY2ZwTG9hZGluZ0JhclByb3ZpZGVyLmxhdGVuY3lUaHJlc2hvbGQgPSA1MDA7XHJcbiAgICAgIGNmcExvYWRpbmdCYXJQcm92aWRlci5wYXJlbnRTZWxlY3RvciA9ICcud3JhcHBlciA+IHNlY3Rpb24nO1xyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmxvYWRpbmdiYXInKVxyXG4gICAgICAgIC5ydW4obG9hZGluZ2JhclJ1bilcclxuICAgICAgICA7XHJcbiAgICBsb2FkaW5nYmFyUnVuLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnY2ZwTG9hZGluZ0JhciddO1xyXG4gICAgZnVuY3Rpb24gbG9hZGluZ2JhclJ1bigkcm9vdFNjb3BlLCAkdGltZW91dCwgY2ZwTG9hZGluZ0Jhcil7XHJcblxyXG4gICAgICAvLyBMb2FkaW5nIGJhciB0cmFuc2l0aW9uXHJcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICB2YXIgdGhCYXI7XHJcbiAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYoJCgnLndyYXBwZXIgPiBzZWN0aW9uJykubGVuZ3RoKSAvLyBjaGVjayBpZiBiYXIgY29udGFpbmVyIGV4aXN0c1xyXG4gICAgICAgICAgICB0aEJhciA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGNmcExvYWRpbmdCYXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgfSwgMCk7IC8vIHNldHMgYSBsYXRlbmN5IFRocmVzaG9sZFxyXG4gICAgICB9KTtcclxuICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgZXZlbnQudGFyZ2V0U2NvcGUuJHdhdGNoKCckdmlld0NvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aEJhcik7XHJcbiAgICAgICAgICAgIGNmcExvYWRpbmdCYXIuY29tcGxldGUoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLmxvY2FsZScpXHJcbiAgICAgICAgLmNvbmZpZyhsb2NhbGVDb25maWcpXHJcbiAgICAgICAgO1xyXG4gICAgbG9jYWxlQ29uZmlnLiRpbmplY3QgPSBbJ3RtaER5bmFtaWNMb2NhbGVQcm92aWRlciddO1xyXG4gICAgZnVuY3Rpb24gbG9jYWxlQ29uZmlnKHRtaER5bmFtaWNMb2NhbGVQcm92aWRlcil7XHJcbiAgXHJcbiAgICAgIHRtaER5bmFtaWNMb2NhbGVQcm92aWRlci5kZWZhdWx0TG9jYWxlKCd6aCcpO1xyXG4gICAgICB0bWhEeW5hbWljTG9jYWxlUHJvdmlkZXIubG9jYWxlTG9jYXRpb25QYXR0ZXJuKCd2ZW5kb3IvYW5ndWxhci1pMThuL2FuZ3VsYXItbG9jYWxlX3t7bG9jYWxlfX0uanMnKTtcclxuICAgICAgLy8gdG1oRHluYW1pY0xvY2FsZVByb3ZpZGVyLnVzZVN0b3JhZ2UoJyRjb29raWVTdG9yZScpO1xyXG5cclxuICAgIH1cclxufSkoKTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBsb2NhbGUuanNcclxuICogRGVtbyBmb3IgbG9jYWxlIHNldHRpbmdzXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5sb2NhbGUnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdMb2NhbGl6YXRpb25Db250cm9sbGVyJywgTG9jYWxpemF0aW9uQ29udHJvbGxlcik7XHJcblxyXG4gICAgTG9jYWxpemF0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ3RtaER5bmFtaWNMb2NhbGUnLCAnJGxvY2FsZSddO1xyXG4gICAgZnVuY3Rpb24gTG9jYWxpemF0aW9uQ29udHJvbGxlcigkcm9vdFNjb3BlLCB0bWhEeW5hbWljTG9jYWxlLCAkbG9jYWxlKSB7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLmF2YWlsYWJsZUxvY2FsZXMgPSB7XHJcbiAgICAgICAgICAgICdlbic6ICdFbmdsaXNoJyxcclxuICAgICAgICAgICAgJ2VzJzogJ1NwYW5pc2gnLFxyXG4gICAgICAgICAgICAnZGUnOiAnR2VybWFuJyxcclxuICAgICAgICAgICAgJ2ZyJzogJ0ZyZW5jaCcsXHJcbiAgICAgICAgICAgICdhcic6ICdBcmFiaWMnLFxyXG4gICAgICAgICAgICAnamEnOiAnSmFwYW5lc2UnLFxyXG4gICAgICAgICAgICAna28nOiAnS29yZWFuJyxcclxuICAgICAgICAgICAgJ3poJzogJ0NoaW5lc2UnfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgJHJvb3RTY29wZS5tb2RlbCA9IHtzZWxlY3RlZExvY2FsZTogJ3poJ307XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICRyb290U2NvcGUuJGxvY2FsZSA9ICRsb2NhbGU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICRyb290U2NvcGUuY2hhbmdlTG9jYWxlID0gdG1oRHluYW1pY0xvY2FsZS5zZXQ7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogZGVtby1wYWdpbmF0aW9uLmpzXHJcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGRlbW8gZm9yIHBhZ2luYXRpb25cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYWlsYm94JylcclxuICAgICAgICAuY29udHJvbGxlcignTWFpbGJveENvbnRyb2xsZXInLCBNYWlsYm94Q29udHJvbGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gTWFpbGJveENvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZtLmZvbGRlcnMgPSBbXHJcbiAgICAgICAgICAgIHtuYW1lOiAnSW5ib3gnLCAgIGZvbGRlcjogJ2luYm94JywgICBhbGVydDogNDIsIGljb246ICdmYS1pbmJveCcgfSxcclxuICAgICAgICAgICAge25hbWU6ICdTdGFycmVkJywgZm9sZGVyOiAnc3RhcnJlZCcsIGFsZXJ0OiAxMCwgaWNvbjogJ2ZhLXN0YXInIH0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU2VudCcsICAgIGZvbGRlcjogJ3NlbnQnLCAgICBhbGVydDogMCwgIGljb246ICdmYS1wYXBlci1wbGFuZS1vJyB9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0RyYWZ0JywgICBmb2xkZXI6ICdkcmFmdCcsICAgYWxlcnQ6IDUsICBpY29uOiAnZmEtZWRpdCcgfSxcclxuICAgICAgICAgICAge25hbWU6ICdUcmFzaCcsICAgZm9sZGVyOiAndHJhc2gnLCAgIGFsZXJ0OiAwLCAgaWNvbjogJ2ZhLXRyYXNoJ31cclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgdm0ubGFiZWxzID0gW1xyXG4gICAgICAgICAgICB7bmFtZTogJ1JlZCcsICAgICBjb2xvcjogJ2Rhbmdlcid9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ1BpbmsnLCAgICBjb2xvcjogJ3BpbmsnfSxcclxuICAgICAgICAgICAge25hbWU6ICdCbHVlJywgICAgY29sb3I6ICdpbmZvJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnWWVsbG93JywgIGNvbG9yOiAnd2FybmluZyd9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLm1haWwgPSB7XHJcbiAgICAgICAgICAgIGNjOiBmYWxzZSxcclxuICAgICAgICAgICAgYmNjOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIC8vIE1haWxib3ggZWRpdHIgaW5pdGlhbCBjb250ZW50XHJcbiAgICAgICAgICB2bS5jb250ZW50ID0gJzxwPlR5cGUgc29tZXRoaW5nLi48L3A+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLm1haWxib3gnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWlsRm9sZGVyQ29udHJvbGxlcicsIE1haWxGb2xkZXJDb250cm9sbGVyKTtcclxuXHJcbiAgICBNYWlsRm9sZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydtYWlscycsICckc3RhdGVQYXJhbXMnXTtcclxuICAgIGZ1bmN0aW9uIE1haWxGb2xkZXJDb250cm9sbGVyKG1haWxzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB2bS5mb2xkZXIgPSB7fTtcclxuICAgICAgICAgIC8vIG5vIGZpbHRlciBmb3IgaW5ib3hcclxuICAgICAgICAgIHZtLmZvbGRlci5mb2xkZXIgPSAkc3RhdGVQYXJhbXMuZm9sZGVyID09PSAnaW5ib3gnID8gJycgOiAkc3RhdGVQYXJhbXMuZm9sZGVyO1xyXG5cclxuICAgICAgICAgIG1haWxzLmFsbCgpLnRoZW4oZnVuY3Rpb24obWFpbHMpe1xyXG4gICAgICAgICAgICB2bS5tYWlscyA9IG1haWxzO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIvLyBBIFJFU1RmdWwgZmFjdG9yeSBmb3IgcmV0cmlldmluZyBtYWlscyBmcm9tIGpzb24gZmlsZVxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubWFpbGJveCcpXHJcbiAgICAgICAgLmZhY3RvcnkoJ21haWxzJywgbWFpbHMpO1xyXG5cclxuICAgIG1haWxzLiRpbmplY3QgPSBbJyRodHRwJ107XHJcbiAgICBmdW5jdGlvbiBtYWlscygkaHR0cCkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlID0ge1xyXG4gICAgICAgICAgICBhbGw6IGFsbCxcclxuICAgICAgICAgICAgZ2V0OiBnZXRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZE1haWxzKCkge1xyXG4gICAgICAgICAgdmFyIHBhdGggPSAnc2VydmVyL21haWxzLmpzb24nO1xyXG4gICAgICAgICAgcmV0dXJuICRodHRwLmdldChwYXRoKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGEubWFpbHM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFsbCgpIHtcclxuICAgICAgICAgIHJldHVybiByZWFkTWFpbHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldChpZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlYWRNYWlscygpLnRoZW4oZnVuY3Rpb24obWFpbHMpe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1haWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCttYWlsc1tpXS5pZCA9PT0gK2lkKSByZXR1cm4gbWFpbHNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIlxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYWlsYm94JylcclxuICAgICAgICAuY29udHJvbGxlcignTWFpbFZpZXdDb250cm9sbGVyJywgTWFpbFZpZXdDb250cm9sbGVyKTtcclxuXHJcbiAgICBNYWlsVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnbWFpbHMnLCAnJHN0YXRlUGFyYW1zJ107XHJcbiAgICBmdW5jdGlvbiBNYWlsVmlld0NvbnRyb2xsZXIobWFpbHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICBtYWlscy5nZXQoJHN0YXRlUGFyYW1zLm1pZCkudGhlbihmdW5jdGlvbihtYWlsKXtcclxuICAgICAgICAgICAgdm0ubWFpbCA9IG1haWw7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBtb2RhbHMuanNcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIHdheSB0byBpbXBsZW1lbnQgYm9vdHN0cmFwIG1vZGFscyBmcm9tIHRlbXBsYXRlc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYXBzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ01vZGFsR21hcENvbnRyb2xsZXInLCBNb2RhbEdtYXBDb250cm9sbGVyKTtcblxuICAgIE1vZGFsR21hcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJG1vZGFsJ107XG4gICAgZnVuY3Rpb24gTW9kYWxHbWFwQ29udHJvbGxlcigkbW9kYWwpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgICAgICAgIHZtLm9wZW4gPSBmdW5jdGlvbiAoc2l6ZSkge1xuXG4gICAgICAgICAgICAvL3ZhciBtb2RhbEluc3RhbmNlID0gXG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL215TW9kYWxDb250ZW50Lmh0bWwnLFxuICAgICAgICAgICAgICBjb250cm9sbGVyOiBNb2RhbEluc3RhbmNlQ3RybCxcbiAgICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFBsZWFzZSBub3RlIHRoYXQgJG1vZGFsSW5zdGFuY2UgcmVwcmVzZW50cyBhIG1vZGFsIHdpbmRvdyAoaW5zdGFuY2UpIGRlcGVuZGVuY3kuXG4gICAgICAgICAgLy8gSXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSAkbW9kYWwgc2VydmljZSB1c2VkIGFib3ZlLlxuICAgICAgICAgIFxuICAgICAgICAgIE1vZGFsSW5zdGFuY2VDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsICckdGltZW91dCddO1xuICAgICAgICAgIGZ1bmN0aW9uIE1vZGFsSW5zdGFuY2VDdHJsKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UsICR0aW1lb3V0KSB7XG5cbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLm9wZW5lZC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygzMy43OTA4MDcsIC0xMTcuODM1NzM0KTtcblxuICAgICAgICAgICAgICAkc2NvcGUubWFwT3B0aW9uc01vZGFsID0ge1xuICAgICAgICAgICAgICAgIHpvb206IDE0LFxuICAgICAgICAgICAgICAgIGNlbnRlcjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIC8vIHdlIHVzZSB0aW1lb3V0IHRvIHdhaXQgbWFwcyB0byBiZSByZWFkeSBiZWZvcmUgYWRkIGEgbWFya2Vyc1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIC8vIDEuIEFkZCBhIG1hcmtlciBhdCB0aGUgcG9zaXRpb24gaXQgd2FzIGluaXRpYWxpemVkXG4gICAgICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICBtYXA6ICRzY29wZS5teU1hcE1vZGFsLFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gMi4gVHJpZ2dlciBhIHJlc2l6ZSBzbyB0aGUgbWFwIGlzIHJlZHJhd2VkIFxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIoJHNjb3BlLm15TWFwTW9kYWwsICdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAvLyAzLiBNb3ZlIHRvIHRoZSBjZW50ZXIgaWYgaXQgaXMgbWlzYWxpZ25lZFxuICAgICAgICAgICAgICAgICRzY29wZS5teU1hcE1vZGFsLnBhblRvKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCdjbG9zZWQnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIlxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYXBzJylcclxuICAgICAgICAuY29udHJvbGxlcignR01hcENvbnRyb2xsZXInLCBHTWFwQ29udHJvbGxlcik7XHJcblxyXG4gICAgR01hcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuICAgIGZ1bmN0aW9uIEdNYXBDb250cm9sbGVyKCR0aW1lb3V0KSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgIHZhciBwb3NpdGlvbiA9IFtcclxuICAgICAgICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDMzLjc5MDgwNywgLTExNy44MzU3MzQpLFxyXG4gICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzMuNzkwODA3LCAtMTE3LjgzNTczNCksXHJcbiAgICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZygzMy43OTA4MDcsIC0xMTcuODM1NzM0KSxcclxuICAgICAgICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDMzLjc5MDgwNywgLTExNy44MzU3MzQpLFxyXG4gICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzMuNzg3NDUzLCAtMTE3LjgzNTg1OClcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdm0uYWRkTWFya2VyID0gYWRkTWFya2VyO1xyXG4gICAgICAgICAgLy8gd2UgdXNlIHRpbWVvdXQgdG8gd2FpdCBtYXBzIHRvIGJlIHJlYWR5IGJlZm9yZSBhZGQgYSBtYXJrZXJzXHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBhZGRNYXJrZXIodm0ubXlNYXAxLCBwb3NpdGlvblswXSk7XHJcbiAgICAgICAgICAgIGFkZE1hcmtlcih2bS5teU1hcDIsIHBvc2l0aW9uWzFdKTtcclxuICAgICAgICAgICAgYWRkTWFya2VyKHZtLm15TWFwMywgcG9zaXRpb25bMl0pO1xyXG4gICAgICAgICAgICBhZGRNYXJrZXIodm0ubXlNYXA1LCBwb3NpdGlvblszXSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2bS5tYXBPcHRpb25zMSA9IHtcclxuICAgICAgICAgICAgem9vbTogMTQsXHJcbiAgICAgICAgICAgIGNlbnRlcjogcG9zaXRpb25bMF0sXHJcbiAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsXHJcbiAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5tYXBPcHRpb25zMiA9IHtcclxuICAgICAgICAgICAgem9vbTogMTksXHJcbiAgICAgICAgICAgIGNlbnRlcjogcG9zaXRpb25bMV0sXHJcbiAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0ubWFwT3B0aW9uczMgPSB7XHJcbiAgICAgICAgICAgIHpvb206IDE0LFxyXG4gICAgICAgICAgICBjZW50ZXI6IHBvc2l0aW9uWzJdLFxyXG4gICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5TQVRFTExJVEVcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0ubWFwT3B0aW9uczQgPSB7XHJcbiAgICAgICAgICAgIHpvb206IDE0LFxyXG4gICAgICAgICAgICBjZW50ZXI6IHBvc2l0aW9uWzNdLFxyXG4gICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIGZvciBtdWx0aXBsZSBtYXJrZXJzXHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBhZGRNYXJrZXIodm0ubXlNYXA0LCBwb3NpdGlvblszXSk7XHJcbiAgICAgICAgICAgIGFkZE1hcmtlcih2bS5teU1hcDQsIHBvc2l0aW9uWzRdKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIGN1c3RvbSBtYXAgc3R5bGVcclxuICAgICAgICAgIHZhciBNYXBTdHlsZXMgPSBbeydmZWF0dXJlVHlwZSc6J3dhdGVyJywnc3R5bGVycyc6W3sndmlzaWJpbGl0eSc6J29uJ30seydjb2xvcic6JyNiZGQxZjknfV19LHsnZmVhdHVyZVR5cGUnOidhbGwnLCdlbGVtZW50VHlwZSc6J2xhYmVscy50ZXh0LmZpbGwnLCdzdHlsZXJzJzpbeydjb2xvcic6JyMzMzQxNjUnfV19LHtmZWF0dXJlVHlwZTonbGFuZHNjYXBlJyxzdHlsZXJzOlt7Y29sb3I6JyNlOWViZjEnfV19LHtmZWF0dXJlVHlwZToncm9hZC5oaWdod2F5JyxlbGVtZW50VHlwZTonZ2VvbWV0cnknLHN0eWxlcnM6W3tjb2xvcjonI2M1YzZjNid9XX0se2ZlYXR1cmVUeXBlOidyb2FkLmFydGVyaWFsJyxlbGVtZW50VHlwZTonZ2VvbWV0cnknLHN0eWxlcnM6W3tjb2xvcjonI2ZmZid9XX0se2ZlYXR1cmVUeXBlOidyb2FkLmxvY2FsJyxlbGVtZW50VHlwZTonZ2VvbWV0cnknLHN0eWxlcnM6W3tjb2xvcjonI2ZmZid9XX0se2ZlYXR1cmVUeXBlOid0cmFuc2l0JyxlbGVtZW50VHlwZTonZ2VvbWV0cnknLHN0eWxlcnM6W3tjb2xvcjonI2Q4ZGJlMCd9XX0se2ZlYXR1cmVUeXBlOidwb2knLGVsZW1lbnRUeXBlOidnZW9tZXRyeScsc3R5bGVyczpbe2NvbG9yOicjY2ZkNWUwJ31dfSx7ZmVhdHVyZVR5cGU6J2FkbWluaXN0cmF0aXZlJyxzdHlsZXJzOlt7dmlzaWJpbGl0eTonb24nfSx7bGlnaHRuZXNzOjMzfV19LHtmZWF0dXJlVHlwZToncG9pLnBhcmsnLGVsZW1lbnRUeXBlOidsYWJlbHMnLHN0eWxlcnM6W3t2aXNpYmlsaXR5Oidvbid9LHtsaWdodG5lc3M6MjB9XX0se2ZlYXR1cmVUeXBlOidyb2FkJyxzdHlsZXJzOlt7Y29sb3I6JyNkOGRiZTAnLGxpZ2h0bmVzczoyMH1dfV07XHJcbiAgICAgICAgICB2bS5tYXBPcHRpb25zNSA9IHtcclxuICAgICAgICAgICAgem9vbTogMTQsXHJcbiAgICAgICAgICAgIGNlbnRlcjogcG9zaXRpb25bM10sXHJcbiAgICAgICAgICAgIHN0eWxlczogTWFwU3R5bGVzLFxyXG4gICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQLFxyXG4gICAgICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2VcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZ1bmN0aW9uIGFkZE1hcmtlcihtYXAsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb25cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IHZlY3Rvci1tYXAuanMuanNcbiAqIEluaXQgalF1ZXJ5IFZlY3RvciBNYXAgcGx1Z2luXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLm1hcHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCd2ZWN0b3JNYXAnLCB2ZWN0b3JNYXApO1xuXG4gICAgdmVjdG9yTWFwLiRpbmplY3QgPSBbJ1ZlY3Rvck1hcCddO1xuICAgIGZ1bmN0aW9uIHZlY3Rvck1hcCAoVmVjdG9yTWFwKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICBzZXJpZXNEYXRhOiAnPScsXG4gICAgICAgICAgICAgIG1hcmtlcnNEYXRhOiAnPSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBkZWZhdWx0Q29sb3JzID0ge1xuICAgICAgICAgICAgICBtYXJrZXJDb2xvcjogICcjMjNiN2U1JywgICAgICAvLyB0aGUgbWFya2VyIHBvaW50c1xuICAgICAgICAgICAgICBiZ0NvbG9yOiAgICAgICd0cmFuc3BhcmVudCcsICAgICAgLy8gdGhlIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgc2NhbGVDb2xvcnM6ICBbJyM4NzhjOWEnXSwgICAgLy8gdGhlIGNvbG9yIG9mIHRoZSByZWdpb24gaW4gdGhlIHNlcmllXG4gICAgICAgICAgICAgIHJlZ2lvbkZpbGw6ICAgJyNiYmJlYzYnICAgICAgIC8vIHRoZSBiYXNlIHJlZ2lvbiBjb2xvclxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgbWFwSGVpZ2h0ICAgPSBhdHRycy5oZWlnaHQgfHwgJzMwMCcsXG4gICAgICAgICAgICAgIG9wdGlvbnMgICAgID0ge1xuICAgICAgICAgICAgICAgIG1hcmtlckNvbG9yOiAgYXR0cnMubWFya2VyQ29sb3IgIHx8IGRlZmF1bHRDb2xvcnMubWFya2VyQ29sb3IsXG4gICAgICAgICAgICAgICAgYmdDb2xvcjogICAgICBhdHRycy5iZ0NvbG9yICAgICAgfHwgZGVmYXVsdENvbG9ycy5iZ0NvbG9yLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAgICAgICAgYXR0cnMuc2NhbGUgICAgICAgIHx8IDEsXG4gICAgICAgICAgICAgICAgc2NhbGVDb2xvcnM6ICBhdHRycy5zY2FsZUNvbG9ycyAgfHwgZGVmYXVsdENvbG9ycy5zY2FsZUNvbG9ycyxcbiAgICAgICAgICAgICAgICByZWdpb25GaWxsOiAgIGF0dHJzLnJlZ2lvbkZpbGwgICB8fCBkZWZhdWx0Q29sb3JzLnJlZ2lvbkZpbGwsXG4gICAgICAgICAgICAgICAgbWFwTmFtZTogICAgICBhdHRycy5tYXBOYW1lICAgICAgfHwgJ3dvcmxkX21pbGxfZW4nXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgZWxlbWVudC5jc3MoJ2hlaWdodCcsIG1hcEhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgVmVjdG9yTWFwLmluaXQoIGVsZW1lbnQgLCBvcHRpb25zLCBzY29wZS5zZXJpZXNEYXRhLCBzY29wZS5tYXJrZXJzRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiB2ZWN0b3ItbWFwLmpzXHJcbiAqIFNlcnZpY2VzIHRvIGluaXRpYWxpemUgdmVjdG9yIG1hcCBwbHVnaW5cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tYXBzJylcclxuICAgICAgICAuc2VydmljZSgnVmVjdG9yTWFwJywgVmVjdG9yTWFwKTtcclxuXHJcbiAgICBmdW5jdGlvbiBWZWN0b3JNYXAoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0ID0gaW5pdDtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCRlbGVtZW50LCBvcHRzLCBzZXJpZXMsIG1hcmtlcnMpIHtcclxuICAgICAgICAgICRlbGVtZW50LnZlY3Rvck1hcCh7XHJcbiAgICAgICAgICAgIG1hcDogICAgICAgICAgICAgb3B0cy5tYXBOYW1lLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IG9wdHMuYmdDb2xvcixcclxuICAgICAgICAgICAgem9vbU1pbjogICAgICAgICAxLFxyXG4gICAgICAgICAgICB6b29tTWF4OiAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIHpvb21PblNjcm9sbDogICAgZmFsc2UsXHJcbiAgICAgICAgICAgIHJlZ2lvblN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgaW5pdGlhbDoge1xyXG4gICAgICAgICAgICAgICAgJ2ZpbGwnOiAgICAgICAgICAgb3B0cy5yZWdpb25GaWxsLFxyXG4gICAgICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICAgMSxcclxuICAgICAgICAgICAgICAgICdzdHJva2UnOiAgICAgICAgICdub25lJyxcclxuICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAgIDEuNSxcclxuICAgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDFcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGhvdmVyOiB7XHJcbiAgICAgICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC44XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgICAgICAgICAgZmlsbDogJ2JsdWUnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBzZWxlY3RlZEhvdmVyOiB7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb2N1c09uOnsgeDowLjQsIHk6MC42LCBzY2FsZTogb3B0cy5zY2FsZX0sXHJcbiAgICAgICAgICAgIG1hcmtlclN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgaW5pdGlhbDoge1xyXG4gICAgICAgICAgICAgICAgZmlsbDogb3B0cy5tYXJrZXJDb2xvcixcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogb3B0cy5tYXJrZXJDb2xvclxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25SZWdpb25MYWJlbFNob3c6IGZ1bmN0aW9uKGUsIGVsLCBjb2RlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCBzZXJpZXMgJiYgc2VyaWVzW2NvZGVdIClcclxuICAgICAgICAgICAgICAgIGVsLmh0bWwoZWwuaHRtbCgpICsgJzogJyArIHNlcmllc1tjb2RlXSArICcgdmlzaXRvcnMnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWFya2VyczogbWFya2VycyxcclxuICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICByZWdpb25zOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBvcHRzLnNjYWxlQ29sb3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUZ1bmN0aW9uOiAncG9seW5vbWlhbCdcclxuICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiB2bWFwcyxqc1xuICogalZlY3RvciBNYXBzIHN1cHBvcnRcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubWFwcycpXG4gICAgICAgIC5jb250cm9sbGVyKCdWZWN0b3JNYXBDb250cm9sbGVyJywgVmVjdG9yTWFwQ29udHJvbGxlcik7XG5cbiAgICBmdW5jdGlvbiBWZWN0b3JNYXBDb250cm9sbGVyKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIHZtLnNlcmllc0RhdGEgPSB7XG4gICAgICAgICAgICAnQ0EnOiAxMTEwMCwgICAvLyBDYW5hZGFcbiAgICAgICAgICAgICdERSc6IDI1MTAsICAgIC8vIEdlcm1hbnlcbiAgICAgICAgICAgICdGUic6IDM3MTAsICAgIC8vIEZyYW5jZVxuICAgICAgICAgICAgJ0FVJzogNTcxMCwgICAgLy8gQXVzdHJhbGlhXG4gICAgICAgICAgICAnR0InOiA4MzEwLCAgICAvLyBHcmVhdCBCcml0YWluXG4gICAgICAgICAgICAnUlUnOiA5MzEwLCAgICAvLyBSdXNzaWFcbiAgICAgICAgICAgICdCUic6IDY2MTAsICAgIC8vIEJyYXppbFxuICAgICAgICAgICAgJ0lOJzogNzgxMCwgICAgLy8gSW5kaWFcbiAgICAgICAgICAgICdDTic6IDQzMTAsICAgIC8vIENoaW5hXG4gICAgICAgICAgICAnVVMnOiA4MzksICAgICAvLyBVU0FcbiAgICAgICAgICAgICdTQSc6IDQxMCAgICAgIC8vIFNhdWRpIEFyYWJpYVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgdm0ubWFya2Vyc0RhdGEgPSBbXG4gICAgICAgICAgICB7IGxhdExuZzpbNDEuOTAsIDEyLjQ1XSwgIG5hbWU6J1ZhdGljYW4gQ2l0eScgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGF0TG5nOls0My43MywgNy40MV0sICAgbmFtZTonTW9uYWNvJyAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBsYXRMbmc6Wy0wLjUyLCAxNjYuOTNdLCBuYW1lOidOYXVydScgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IGxhdExuZzpbLTguNTEsIDE3OS4yMV0sIG5hbWU6J1R1dmFsdScgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGF0TG5nOls3LjExLDE3MS4wNl0sICAgbmFtZTonTWFyc2hhbGwgSXNsYW5kcycgICAgICB9LFxuICAgICAgICAgICAgeyBsYXRMbmc6WzE3LjMsLTYyLjczXSwgICBuYW1lOidTYWludCBLaXR0cyBhbmQgTmV2aXMnIH0sXG4gICAgICAgICAgICB7IGxhdExuZzpbMy4yLDczLjIyXSwgICAgIG5hbWU6J01hbGRpdmVzJyAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGF0TG5nOlszNS44OCwxNC41XSwgICAgbmFtZTonTWFsdGEnICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBsYXRMbmc6WzQxLjAsLTcxLjA2XSwgICBuYW1lOidOZXcgRW5nbGFuZCcgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IGxhdExuZzpbMTIuMDUsLTYxLjc1XSwgIG5hbWU6J0dyZW5hZGEnICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGF0TG5nOlsxMy4xNiwtNTkuNTVdLCAgbmFtZTonQmFyYmFkb3MnICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBsYXRMbmc6WzE3LjExLC02MS44NV0sICBuYW1lOidBbnRpZ3VhIGFuZCBCYXJidWRhJyAgIH0sXG4gICAgICAgICAgICB7IGxhdExuZzpbLTQuNjEsNTUuNDVdLCAgIG5hbWU6J1NleWNoZWxsZXMnICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGF0TG5nOls3LjM1LDEzNC40Nl0sICAgbmFtZTonUGFsYXUnICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBsYXRMbmc6WzQyLjUsMS41MV0sICAgICBuYW1lOidBbmRvcnJhJyAgICAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdhcHAubWVtYmVycycpXG4gICAgICAuY29udHJvbGxlcignTWVtYmVyc0NvbnRyb2xsZXInLCBNZW1iZXJzQ29udHJvbGxlcilcbiAgICAgIC5jb250cm9sbGVyKCdNZW1iZXJDb250cm9sbGVyJywgTWVtYmVyQ29udHJvbGxlcilcbiAgICAgIC5jb250cm9sbGVyKCdyZWNoYXJnZURpYWxvZ0NvbnRyb2xsZXInLCByZWNoYXJnZURpYWxvZ0NvbnRyb2xsZXIpXG4gICAgICAuY29udHJvbGxlcignYm9udXNEaWFsb2dDb250cm9sbGVyJywgYm9udXNEaWFsb2dDb250cm9sbGVyKVxuICAgIDtcbiAgICAgIFxuICAgIE1lbWJlcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdNZW1iZXInLCAnbmdUYWJsZVBhcmFtcycsICduZ1RhYmxlTEJTZXJ2aWNlJywgJ1N3ZWV0QWxlcnQnLCAncXJjb2RlU2VydmljZScsICdkZWFsU2VydmljZSddO1xuICAgIGZ1bmN0aW9uIE1lbWJlcnNDb250cm9sbGVyKCRzY29wZSwgTWVtYmVyLCBuZ1RhYmxlUGFyYW1zLCBuZ1RhYmxlTEJTZXJ2aWNlLCBTd2VldEFsZXJ0LCBxcmNvZGVTZXJ2aWNlLCBkZWFsU2VydmljZSkge1xuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIFxuICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICRzY29wZS5xcmNvZGVTZXJ2aWNlID0gcXJjb2RlU2VydmljZTtcbiAgICAgICAgdm0ua2V5d29yZCA9IFwiXCI7XG4gICAgICAgIHZtLnRhYmxlUGFyYW1zID0gbmV3IG5nVGFibGVQYXJhbXMoe2NvdW50OiAxMH0sIHtcbiAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IHt3aGVyZTp7c3RhdHVzOntuZTonZGVsZXRlZCd9fSwgaW5jbHVkZTpbJ3d4dXNlciddfVxuICAgICAgICAgICAgaWYodm0ua2V5d29yZCAhPSAnJykge1xuICAgICAgICAgICAgICB2YXIgcXMgPSB7cmVnZXg6IGtleXdvcmR9O1xuICAgICAgICAgICAgICBmaWx0ZXIud2hlcmUub3IgPSBbe1wiZW50aXRpZXMuc2t1Lml0ZW0ubmFtZVwiOnFzfV07XG4gICAgICAgICAgICAgIHBhcmFtcy5wYWdlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdUYWJsZUxCU2VydmljZS5nZXREYXRhKCRkZWZlciwgcGFyYW1zLCBNZW1iZXIsIGZpbHRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uc2VsbCA9IGZ1bmN0aW9uIChtZW1iZXIpIHtcbiAgICAgICAgZGVhbFNlcnZpY2Uub3BlbkRlYWwobWVtYmVyKTtcbiAgICAgICAgJHNjb3BlLiRzdGF0ZS5nbygnYXBwLnNlbGwnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgTWVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnTWVtYmVyJywgJ25nVGFibGVQYXJhbXMnLCAnbmdUYWJsZUxCU2VydmljZScsICdTd2VldEFsZXJ0JywgJ2RlYWxTZXJ2aWNlJywgJ25nRGlhbG9nJ107XG4gICAgZnVuY3Rpb24gTWVtYmVyQ29udHJvbGxlcigkc2NvcGUsIE1lbWJlciwgbmdUYWJsZVBhcmFtcywgbmdUYWJsZUxCU2VydmljZSwgU3dlZXRBbGVydCwgZGVhbFNlcnZpY2UsIG5nRGlhbG9nKSB7XG4gICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgdmFyIG1lbWJlcklkID0gJHNjb3BlLiRzdGF0ZS5wYXJhbXMubWVtYmVySWQ7XG4gICAgICAgICAgICBcbiAgICAgIHZtLmRlYWxUYWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgY291bnQ6IDEwXG4gICAgICB9LCB7XG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgdmFyIG9wdCA9IHt3aGVyZTp7c3RhdHVzOntuZTonZGVsZXRlZCd9fX1cbiAgICAgICAgICBvcHQubGltaXQgPSBwYXJhbXMuY291bnQoKVxuICAgICAgICAgIG9wdC5za2lwID0gKHBhcmFtcy5wYWdlKCktMSkqb3B0LmxpbWl0XG4gICAgICAgICAgTWVtYmVyLmRlYWxzLmNvdW50KHtpZDogbWVtYmVySWQsIHdoZXJlOiBvcHQud2hlcmV9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2bS5kZWFsVGFibGVQYXJhbXMudG90YWwocmVzdWx0LmNvdW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBNZW1iZXIuZGVhbHMoe2lkOiBtZW1iZXJJZCwgZmlsdGVyOm9wdH0sICRkZWZlci5yZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7ICAgICBcbiAgICAgIFxuICAgICAgdm0uZGVwb3NpdFRhYmxlUGFyYW1zID0gbmV3IG5nVGFibGVQYXJhbXMoe1xuICAgICAgICBjb3VudDogMTBcbiAgICAgIH0sIHtcbiAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICB2YXIgb3B0ID0ge1xuICAgICAgICAgICAgd2hlcmU6e3N0YXR1czp7bmU6J2RlbGV0ZWQnfSwgb3I6W3t0eXBlOiAnZGVwb3NpdCd9LCB7Y2F0ZWdvcnk6ICdkZXBvc2l0J31dfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IFsnc2hvcCddXG4gICAgICAgICAgfVxuICAgICAgICAgIG9wdC5saW1pdCA9IHBhcmFtcy5jb3VudCgpXG4gICAgICAgICAgb3B0LnNraXAgPSAocGFyYW1zLnBhZ2UoKS0xKSpvcHQubGltaXRcbiAgICAgICAgICBNZW1iZXIucGF5bWVudHMuY291bnQoe2lkOiBtZW1iZXJJZCwgd2hlcmU6IG9wdC53aGVyZX0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZtLmRlcG9zaXRUYWJsZVBhcmFtcy50b3RhbChyZXN1bHQuY291bnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIE1lbWJlci5wYXltZW50cyh7aWQ6IG1lbWJlcklkLCBmaWx0ZXI6b3B0fSwgJGRlZmVyLnJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdm0uYm9udXNUYWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgY291bnQ6IDEwXG4gICAgICB9LCB7XG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgdmFyIG9wdCA9IHtcbiAgICAgICAgICAgIHdoZXJlOntzdGF0dXM6e25lOidkZWxldGVkJ319LFxuICAgICAgICAgICAgaW5jbHVkZTogW11cbiAgICAgICAgICB9XG4gICAgICAgICAgb3B0LmxpbWl0ID0gcGFyYW1zLmNvdW50KClcbiAgICAgICAgICBvcHQuc2tpcCA9IChwYXJhbXMucGFnZSgpLTEpKm9wdC5saW1pdFxuICAgICAgICAgIE1lbWJlci5ib251c2VzLmNvdW50KHtpZDogbWVtYmVySWQsIHdoZXJlOiBvcHQud2hlcmV9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2bS5ib251c1RhYmxlUGFyYW1zLnRvdGFsKHJlc3VsdC5jb3VudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgTWVtYmVyLmJvbnVzZXMoe2lkOiBtZW1iZXJJZCwgZmlsdGVyOm9wdH0sICRkZWZlci5yZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFjdGl2YXRlKCk7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBcbiAgICAgICAgbWVtYmVySWQgPSAkc2NvcGUuJHN0YXRlLnBhcmFtcy5tZW1iZXJJZDtcblxuICAgICAgICB2bS5tZW1iZXIgPSBNZW1iZXIuZmluZE9uZSh7ZmlsdGVyOiB7XG4gICAgICAgICAgd2hlcmU6IHtpZDogbWVtYmVySWR9LCBcbiAgICAgICAgICBpbmNsdWRlOlsnd3h1c2VyJ11cbiAgICAgICAgfX0pO1xuICAgICAgICBcbiAgICAgICAgdm0uZGVhbFRhYmxlUGFyYW1zLnJlbG9hZCgpO1xuICAgICAgICB2bS5kZXBvc2l0VGFibGVQYXJhbXMucmVsb2FkKCk7XG4gICAgICAgIHZtLmJvbnVzVGFibGVQYXJhbXMucmVsb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHZtLnNlbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlYWxTZXJ2aWNlLm9wZW5EZWFsKHZtLm1lbWJlcik7XG4gICAgICAgICRzY29wZS4kc3RhdGUuZ28oJ2FwcC5zZWxsJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZtLnJlY2hhcmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZ0RpYWxvZy5vcGVuKHsgXG4gICAgICAgICAgdGVtcGxhdGU6ICdyZWNoYXJnZURpYWxvZ0lkJywgXG4gICAgICAgICAgY29udHJvbGxlcjogJ3JlY2hhcmdlRGlhbG9nQ29udHJvbGxlcidcbiAgICAgICAgfSkuY2xvc2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uc2V0Qm9udXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5nRGlhbG9nLm9wZW4oeyBcbiAgICAgICAgICB0ZW1wbGF0ZTogJ2JvbnVzRGlhbG9nSWQnLCBcbiAgICAgICAgICBjb250cm9sbGVyOiAnYm9udXNEaWFsb2dDb250cm9sbGVyJ1xuICAgICAgICB9KS5jbG9zZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZWNoYXJnZURpYWxvZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ25nRGlhbG9nJywgJ01lbWJlcicsICd0b2FzdGVyJywgJ2RlYWxTZXJ2aWNlJ107XG4gICAgZnVuY3Rpb24gcmVjaGFyZ2VEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgbmdEaWFsb2csIE1lbWJlciwgdG9hc3RlciwgZGVhbFNlcnZpY2UpIHtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICB2YXIgbWVtYmVySWQgPSAkc2NvcGUuJHN0YXRlLnBhcmFtcy5tZW1iZXJJZDtcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgbWVtYmVySWQgPSAkc2NvcGUuJHN0YXRlLnBhcmFtcy5tZW1iZXJJZDtcbiAgICAgICAgICAkc2NvcGUubWVtYmVyID0gTWVtYmVyLmZpbmRCeUlkKHtpZDptZW1iZXJJZH0pO1xuICAgICAgICAgICRzY29wZS5kYXRhID0ge1xuICAgICAgICAgICAgdHlwZTogJ2Nhc2gnLCBcbiAgICAgICAgICAgIGFtb3VudDogMCxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnZGVwb3NpdCdcbiAgICAgICAgICB9O1xuICAgICAgICAgICRzY29wZS5wYXlUeXBlID0gZGVhbFNlcnZpY2UucGF5VHlwZTtcbiAgICAgICAgICAkc2NvcGUuY2FzaCA9IHtcbiAgICAgICAgICAgIHBhaWQ6IDAsXG4gICAgICAgICAgICBjaGFuZ2U6IDAsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUub25DaGFuZ2VQYXlUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmKGRhdGEudHlwZSA9PT0gJ2Nhc2gnKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5jb3N0ID0gJHNjb3BlLmRhdGEuYW1vdW50JSRzY29wZS51c2VyLm1lcmNoYW50LmNoYW5nZVJhdGU7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5hbW91bnQgLT0gJHNjb3BlLmRhdGEuY29zdDtcbiAgICAgICAgICAgICRzY29wZS5jb3VudENoYW5nZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5jb3N0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICRzY29wZS5jb3VudENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUuY2FzaC5wYWlkID0gICRzY29wZS5jYXNoLnBhaWQ7XG4gICAgICAgICAgJHNjb3BlLmNhc2guY2hhbmdlID0gJHNjb3BlLmRhdGEuYW1vdW50IC0gJHNjb3BlLmNhc2gucGFpZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYoJHNjb3BlLmRhdGEuYW1vdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIE1lbWJlci5wYXltZW50cy5jcmVhdGUoe2lkOiBtZW1iZXJJZH0sICRzY29wZS5kYXRhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG5nRGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICfmiJDlip8nLCBcIuWujOaIkOWCqOWAvOaTjeS9nFwiKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAn5aSx6LSlJywgXCLlgqjlgLzmk43kvZzmnKrlrozmiJDvvIzor7fph43or5XvvIFcIilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkc2NvcGUuc3VibWl0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgYm9udXNEaWFsb2dDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICduZ0RpYWxvZycsICdNZW1iZXInLCAndG9hc3RlciddO1xuICAgIGZ1bmN0aW9uIGJvbnVzRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsIG5nRGlhbG9nLCBNZW1iZXIsIHRvYXN0ZXIpIHtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICB2YXIgbWVtYmVySWQgPSAkc2NvcGUuJHN0YXRlLnBhcmFtcy5tZW1iZXJJZDtcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgbWVtYmVySWQgPSAkc2NvcGUuJHN0YXRlLnBhcmFtcy5tZW1iZXJJZDtcbiAgICAgICAgICAkc2NvcGUubWVtYmVyID0gTWVtYmVyLmZpbmRCeUlkKHtpZDptZW1iZXJJZH0pO1xuICAgICAgICAgICRzY29wZS5kYXRhID0ge1xuICAgICAgICAgICAgYW1vdW50OiAwLFxuICAgICAgICAgICAgbWVtbzogJ21hbnVhbCdcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuY29uZmlybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZigkc2NvcGUuZGF0YS5hbW91bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYoJHNjb3BlLmRhdGEuYW1vdW50ID4gMCkge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEubWVtbyA9ICdtYW51YWwnO1xuICAgICAgICAgIH0gZWxzZSBpZigkc2NvcGUuZGF0YS5hbW91bnQgPCAwKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5tZW1vID0gJ3dyaXRlb2ZmJztcbiAgICAgICAgICB9XG4gICAgICAgICAgTWVtYmVyLmJvbnVzZXMuY3JlYXRlKHtpZDogbWVtYmVySWR9LCAkc2NvcGUuZGF0YSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBuZ0RpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCAn5oiQ5YqfJywgXCLlrozmiJDlgqjlgLzmk43kvZxcIik7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgJ+Wksei0pScsIFwi5YKo5YC85pON5L2c5pyq5a6M5oiQ77yM6K+36YeN6K+V77yBXCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHNjb3BlLnN1Ym1pdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59KSgpOyIsIi8qKlxuICogQW5ndWxhckpTIGRlZmF1bHQgZmlsdGVyIHdpdGggdGhlIGZvbGxvd2luZyBleHByZXNzaW9uOlxuICogXCJwZXJzb24gaW4gcGVvcGxlIHwgZmlsdGVyOiB7bmFtZTogJHNlbGVjdC5zZWFyY2gsIGFnZTogJHNlbGVjdC5zZWFyY2h9XCJcbiAqIHBlcmZvcm1zIGEgQU5EIGJldHdlZW4gJ25hbWU6ICRzZWxlY3Quc2VhcmNoJyBhbmQgJ2FnZTogJHNlbGVjdC5zZWFyY2gnLlxuICogV2Ugd2FudCB0byBwZXJmb3JtIGEgT1IuXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLm1lbWJlcnMnKVxuICAgICAgICAuZmlsdGVyKCd3eF9zZXgnLCB3eHNleEZpbHRlcilcbiAgICAgICAgLmZpbHRlcignd3hfc3Vic2NyaWJlJywgd3hzdWJzY3JpYmVGaWx0ZXIpXG4gICAgICAgIC5maWx0ZXIoJ2RlcG9zaXRfY2F0ZWdvcnknLCBkZXBvc2l0Y2F0ZWdvcnlGaWx0ZXIpXG4gICAgICAgIC5maWx0ZXIoJ2JvbnVzX21lbW8nLCBib251c01lbW9GaWx0ZXIpXG4gICAgO1xuXG4gICAgZnVuY3Rpb24gd3hzZXhGaWx0ZXIoKSB7XG4gICAgICAgIHZhciB0eXBlID0gWyfkv53lr4YnLCAn55S3JywgJ+WlsyddO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB3eHN1YnNjcmliZUZpbHRlcigpIHtcbiAgICAgIHZhciBzdGF0ZSA9IFsn5pyq5YWz5rOoJywgJ+W3suWFs+azqCddO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGRlcG9zaXRjYXRlZ29yeUZpbHRlcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGVwb3NpdCkge1xuICAgICAgICBpZihkZXBvc2l0LnR5cGUgPT09ICdkZXBvc2l0Jykge1xuICAgICAgICAgIHJldHVybiBkZXBvc2l0LmFtb3VudCA8IDAgPyAn5YKo5YC85raI6LS5Jzon5YKo5YC86YCA5qy+JztcbiAgICAgICAgfSBlbHNlIGlmKGRlcG9zaXQuY2F0ZWdvcnkgPT09ICdkZXBvc2l0Jykge1xuICAgICAgICAgIHJldHVybiBkZXBvc2l0LmFtb3VudCA8IDAgPyAn5o+Q546wJzon5YWF5YC8JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJ+acquefpSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBib251c01lbW9GaWx0ZXIoKSB7XG4gICAgICB2YXIgbWVtbyA9IHtcbiAgICAgICAgcmV3YXJkOiAn5raI6LS556ev5YiGJyxcbiAgICAgICAgdm91Y2g6ICfmtojotLnmirXmiaMnLFxuICAgICAgICBtYW51YWw6ICfmiYvliqjnp6/liIYnLFxuICAgICAgICB3cml0ZW9mZjogJ+aJi+WKqOWHj+iuoScsXG4gICAgICAgIGV4Y2hhbmdlOiAn5YWR5o2iJ1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIG1lbW9ba2V5XTtcbiAgICAgIH1cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5tZW1iZXJzJylcbiAgICAgICAgLnNlcnZpY2UoJ3FyY29kZVNlcnZpY2UnLCBxcmNvZGVTZXJ2aWNlKTtcblxuICAgIHFyY29kZVNlcnZpY2UuJGluamVjdCA9IFsnbmdEaWFsb2cnXTtcbiAgICBmdW5jdGlvbiBxcmNvZGVTZXJ2aWNlKG5nRGlhbG9nKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBcbiAgICAgIHRoaXMuc2hvd1FSQ29kZSA9IHNob3dRUkNvZGU7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHNob3dRUkNvZGUoaW1hZ2V1cmwpIHtcbiAgICAgICAgaW1hZ2V1cmwgPSBpbWFnZXVybCB8fCAnYXBwL2ltZy9xcmNvZGUtZm9yLWdoLmpwZyc7XG4gICAgICAgIG5nRGlhbG9nLm9wZW4oe1xuICAgICAgICAgIHRlbXBsYXRlOiBcIjxpbWcgc3JjPVwiK2ltYWdldXJsK1wiIGNsYXNzPSdpbWctcmVzcG9uc2l2ZSc+XCIsXG4gICAgICAgICAgcGxhaW46IHRydWUsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCdcbiAgICAgICAgfSk7ICAgIFxuICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAubW9kdWxlKCdhcHAubXlzaG9wJywgW10pXG4gICAgICAuY29udHJvbGxlcignTXlTaG9wQ29udHJvbGxlcicsIE15U2hvcENvbnRyb2xsZXIpXG4gICAgICAuY29udHJvbGxlcignU2hvcHNDb250cm9sbGVyJywgU2hvcHNDb250cm9sbGVyKVxuICAgICAgLmNvbnRyb2xsZXIoJ1Nob3BBZGRDb250cm9sbGVyJywgU2hvcEFkZENvbnRyb2xsZXIpO1xuICAgICAgICBcbiAgICBNeVNob3BDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdlZGl0YWJsZU9wdGlvbnMnLCAnZWRpdGFibGVUaGVtZXMnLCAnU2hvcCcsICdNZXJjaGFudCddO1xuICAgIGZ1bmN0aW9uIE15U2hvcENvbnRyb2xsZXIoJHNjb3BlLCBlZGl0YWJsZU9wdGlvbnMsIGVkaXRhYmxlVGhlbWVzLCBTaG9wLCBNZXJjaGFudCkge1xuICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgQU1hcC5zZXJ2aWNlKCdBTWFwLkRpc3RyaWN0U2VhcmNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGlzdHJpY3RTZWFyY2ggPSBuZXcgQU1hcC5EaXN0cmljdFNlYXJjaCh7XG4gICAgICAgICAgbGV2ZWwgOiAnY291bnRyeScsXG4gICAgICAgICAgc3ViZGlzdHJpY3QgOiAzICAgIFxuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgZGlzdHJpY3RTZWFyY2guc2VhcmNoKCfkuK3lm70nLCBmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHtcbiAgICAgICAgICB2bS5wcm92aW5jZXMgPSByZXN1bHQuZGlzdHJpY3RMaXN0WzBdLmRpc3RyaWN0TGlzdDtcbiAgICAgICAgICAvLyAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGFjdGl2YXRlKCk7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBcbiAgICAgICAgZWRpdGFibGVPcHRpb25zLnRoZW1lID0gJ2JzMyc7XG4gICAgICAgIFxuICAgICAgICBlZGl0YWJsZVRoZW1lcy5iczMuaW5wdXRDbGFzcyA9ICdpbnB1dC1zbSc7XG4gICAgICAgIGVkaXRhYmxlVGhlbWVzLmJzMy5idXR0b25zQ2xhc3MgPSAnYnRuLXNtJztcbiAgICAgICAgZWRpdGFibGVUaGVtZXMuYnMzLnN1Ym1pdFRwbCA9ICc8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiPjxzcGFuIGNsYXNzPVwiZmEgZmEtY2hlY2tcIj48L3NwYW4+PC9idXR0b24+JztcbiAgICAgICAgZWRpdGFibGVUaGVtZXMuYnMzLmNhbmNlbFRwbCA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwiJGZvcm0uJGNhbmNlbCgpXCI+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZmEgZmEtdGltZXMgdGV4dC1tdXRlZFwiPjwvc3Bhbj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPic7XG4gICAgICAgIFxuICAgICAgICB2bS5zaG9wID0gJHNjb3BlLnVzZXIuc2hvcDtcbiAgICAgICAgdm0ubWVyY2hhbnQgPSAkc2NvcGUudXNlci5tZXJjaGFudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0udXBkYXRlID0gZnVuY3Rpb24gKG9iaiwga2V5LCBkYXRhKSB7XG4gICAgICAgIHZtW29ial1ba2V5XSA9IGRhdGEubmFtZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uc2F2ZVNob3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNob3AudXBzZXJ0KHZtLnNob3ApO1xuICAgICAgfVxuICAgICAgXG4gICAgICB2bS5zYXZlTWVyY2hhbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1lcmNoYW50LnVwc2VydCh2bS5tZXJjaGFudCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIFNob3BzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnbmdUYWJsZScsICdTaG9wJ107XG4gICAgZnVuY3Rpb24gU2hvcHNDb250cm9sbGVyKCRzY29wZSwgbmdUYWJsZSwgU2hvcCkge1xuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIFxuICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXG4gICAgICAkc2NvcGUuZmlsdGVyID0ge3RleHQ6ICcnfVxuICAgICAgJHNjb3BlLnRhYmxlUGFyYW1zID0gbmV3IG5nVGFibGVQYXJhbXMoe1xuICAgICAgICBjb3VudDogMTAsXG4gICAgICAgIGZpbHRlcjogJHNjb3BlLmZpbHRlci50ZXh0XG4gICAgICB9LCB7XG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgdmFyIG9wdCA9IHtvcmRlcjogJ3N1YnNjcmliZV90aW1lIERFU0MnfVxuICAgICAgICAgIG9wdC5saW1pdCA9IHBhcmFtcy5jb3VudCgpXG4gICAgICAgICAgb3B0LnNraXAgPSAocGFyYW1zLnBhZ2UoKS0xKSpvcHQubGltaXRcbiAgICAgICAgICBvcHQud2hlcmUgPSB7fVxuICAgICAgICAgIGlmKCRzY29wZS5maWx0ZXIudGV4dCAhPSAnJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmZpbHRlci50ZXh0KTtcbiAgICAgICAgICAgIC8vIHZhciBxcyA9IHtsaWtlOiAnJScrJHNjb3BlLmZpbHRlci50ZXh0KyclJ307XG4gICAgICAgICAgICB2YXIgcXMgPSB7cmVnZXg6ICRzY29wZS5maWx0ZXIudGV4dH07XG4gICAgICAgICAgICBvcHQud2hlcmUub3IgPSBbe25pY2tuYW1lOnFzfSwge3JlbWFyazpxc31dO1xuICAgICAgICAgICAgb3B0LnNraXAgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBTa3UuY291bnQoe3doZXJlOiBvcHQud2hlcmV9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAkc2NvcGUudGFibGVQYXJhbXMudG90YWwocmVzdWx0LmNvdW50KVxuICAgICAgICAgICAgU2t1LmZpbmQoe2ZpbHRlcjpvcHR9LCAkZGVmZXIucmVzb2x2ZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KSAgIFxuICAgIH1cbiAgICBcbiAgICBTaG9wQWRkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnU2hvcCddO1xuICAgIGZ1bmN0aW9uIFNob3BBZGRDb250cm9sbGVyKCRzY29wZSwgU2hvcCkge1xuICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIFxuICAgICAgd2luZG93LlBhcnNsZXlWYWxpZGF0b3Iuc2V0TG9jYWxlKCd6aF9jbicpO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgJHNjb3BlLmVudGl0eSA9IHtcbiAgICAgICAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgICAgICAgIG5hbWU6IFwiaVBob25lNlMgUGx1c1wiLFxuICAgICAgICAgIHNrdXM6IFt7YmFyY29kZTpcIjEyM1wiLCBwcmljZTogNTI4OCwgbW9kZWw6IFwiMTZHXCJ9XVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBcbiAgICAgICRzY29wZS5zYXZlQW5kTW9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIH1cbiAgICB9ICAgIFxufSkoKTsiLCIvKipcbiAqIEFuZ3VsYXJKUyBkZWZhdWx0IGZpbHRlciB3aXRoIHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbjpcbiAqIFwicGVyc29uIGluIHBlb3BsZSB8IGZpbHRlcjoge25hbWU6ICRzZWxlY3Quc2VhcmNoLCBhZ2U6ICRzZWxlY3Quc2VhcmNofVwiXG4gKiBwZXJmb3JtcyBhIEFORCBiZXR3ZWVuICduYW1lOiAkc2VsZWN0LnNlYXJjaCcgYW5kICdhZ2U6ICRzZWxlY3Quc2VhcmNoJy5cbiAqIFdlIHdhbnQgdG8gcGVyZm9ybSBhIE9SLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5teXNob3AnKVxuICAgICAgICAuZmlsdGVyKCdpdGVtX3R5cGUyJywgaXRlbVR5cGVGaWx0ZXIyKTtcblxuICAgIGZ1bmN0aW9uIGl0ZW1UeXBlRmlsdGVyMigpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB7XG4gICAgICAgICAgZW50aXR5OiBcIuWunuS9k+WVhuWTgVwiLFxuICAgICAgICAgIHNlcnZpY2U6IFwi5pyN5Yqh6aG555uuXCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogbmF2YmFyLXNlYXJjaC5qc1xuICogTmF2YmFyIHNlYXJjaCB0b2dnbGVyICogQXV0byBkaXNtaXNzIG9uIEVTQyBrZXlcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubmF2c2VhcmNoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2VhcmNoT3BlbicsIHNlYXJjaE9wZW4pXG4gICAgICAgIC5kaXJlY3RpdmUoJ3NlYXJjaERpc21pc3MnLCBzZWFyY2hEaXNtaXNzKTtcblxuICAgIC8vXG4gICAgLy8gZGlyZWN0aXZlcyBkZWZpbml0aW9uXG4gICAgLy8gXG4gICAgXG4gICAgZnVuY3Rpb24gc2VhcmNoT3BlbiAoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzZWFyY2hPcGVuQ29udHJvbGxlcixcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlYXJjaERpc21pc3MgKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgY29udHJvbGxlcjogc2VhcmNoRGlzbWlzc0NvbnRyb2xsZXIsXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIFxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gQ29udHJsbGVyIGRlZmluaXRpb25cbiAgICAvLyBcbiAgICBcbiAgICBzZWFyY2hPcGVuQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnTmF2U2VhcmNoJ107XG4gICAgZnVuY3Rpb24gc2VhcmNoT3BlbkNvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQsIE5hdlNlYXJjaCkge1xuICAgICAgJGVsZW1lbnRcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pXG4gICAgICAgIC5vbignY2xpY2snLCBOYXZTZWFyY2gudG9nZ2xlKTtcbiAgICB9XG5cbiAgICBzZWFyY2hEaXNtaXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnTmF2U2VhcmNoJ107XG4gICAgZnVuY3Rpb24gc2VhcmNoRGlzbWlzc0NvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQsIE5hdlNlYXJjaCkge1xuICAgICAgXG4gICAgICB2YXIgaW5wdXRTZWxlY3RvciA9ICcubmF2YmFyLWZvcm0gaW5wdXRbdHlwZT1cInRleHRcIl0nO1xuXG4gICAgICAkKGlucHV0U2VsZWN0b3IpXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9KVxuICAgICAgICAub24oJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSAvLyBFU0NcbiAgICAgICAgICAgIE5hdlNlYXJjaC5kaXNtaXNzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgIC8vIGNsaWNrIGFueXdoZXJlIGNsb3NlcyB0aGUgc2VhcmNoXG4gICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBOYXZTZWFyY2guZGlzbWlzcyk7XG4gICAgICAvLyBkaXNtaXNzYWJsZSBvcHRpb25zXG4gICAgICAkZWxlbWVudFxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSlcbiAgICAgICAgLm9uKCdjbGljaycsIE5hdlNlYXJjaC5kaXNtaXNzKTtcbiAgICB9XG5cbn0pKCk7XG5cbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBuYXYtc2VhcmNoLmpzXG4gKiBTZXJ2aWNlcyB0byBzaGFyZSBuYXZiYXIgc2VhcmNoIGZ1bmN0aW9uc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4gXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAubmF2c2VhcmNoJylcbiAgICAgICAgLnNlcnZpY2UoJ05hdlNlYXJjaCcsIE5hdlNlYXJjaCk7XG5cbiAgICBmdW5jdGlvbiBOYXZTZWFyY2goKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlID0gdG9nZ2xlO1xuICAgICAgICB0aGlzLmRpc21pc3MgPSBkaXNtaXNzO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICB2YXIgbmF2YmFyRm9ybVNlbGVjdG9yID0gJ2Zvcm0ubmF2YmFyLWZvcm0nO1xuXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgICAgICB2YXIgbmF2YmFyRm9ybSA9ICQobmF2YmFyRm9ybVNlbGVjdG9yKTtcblxuICAgICAgICAgIG5hdmJhckZvcm0udG9nZ2xlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgaXNPcGVuID0gbmF2YmFyRm9ybS5oYXNDbGFzcygnb3BlbicpO1xuICAgICAgICAgIFxuICAgICAgICAgIG5hdmJhckZvcm0uZmluZCgnaW5wdXQnKVtpc09wZW4gPyAnZm9jdXMnIDogJ2JsdXInXSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAgICAgICAkKG5hdmJhckZvcm1TZWxlY3RvcilcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnb3BlbicpIC8vIENsb3NlIGNvbnRyb2xcbiAgICAgICAgICAgIC5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLmJsdXIoKSAvLyByZW1vdmUgZm9jdXNcbiAgICAgICAgICAgIC52YWwoJycpIC8vIEVtcHR5IGlucHV0XG4gICAgICAgICAgICA7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBkZW1vLW5vdGlmeS5qc1xyXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciBub3RpZnlcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLm5vdGlmeScpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ05vdGlmeURlbW9DdHJsJywgTm90aWZ5RGVtb0N0cmwpO1xyXG5cclxuICAgIE5vdGlmeURlbW9DdHJsLiRpbmplY3QgPSBbJ05vdGlmeScsICckdGltZW91dCddO1xyXG4gICAgZnVuY3Rpb24gTm90aWZ5RGVtb0N0cmwoTm90aWZ5LCAkdGltZW91dCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICB2bS5tc2dIdG1sID0gJzxlbSBjbGFzcz1cImZhIGZhLWNoZWNrXCI+PC9lbT4gTWVzc2FnZSB3aXRoIGljb24uLic7XHJcblxyXG4gICAgICAgICAgdm0ubm90aWZ5TXNnID0gJ1NvbWUgbWVzc2FnZXMgaGVyZS4uJztcclxuICAgICAgICAgIHZtLm5vdGlmeU9wdHMgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogJ2RhbmdlcicsXHJcbiAgICAgICAgICAgIHBvczogJ2JvdHRvbS1jZW50ZXInXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIFNlcnZpY2UgdXNhZ2UgZXhhbXBsZVxyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIE5vdGlmeS5hbGVydCggXHJcbiAgICAgICAgICAgICAgICAnVGhpcyBpcyBhIGN1c3RvbSBtZXNzYWdlIGZyb20gbm90aWZ5Li4nLCBcclxuICAgICAgICAgICAgICAgIHtzdGF0dXM6ICdzdWNjZXNzJ31cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBub3RpZnkuanNcbiAqIERpcmVjdGl2ZSBmb3Igbm90aWZ5IHBsdWdpblxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5ub3RpZnknKVxuICAgICAgICAuZGlyZWN0aXZlKCdub3RpZnknLCBub3RpZnkpO1xuXG4gICAgbm90aWZ5LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnTm90aWZ5J107XG4gICAgZnVuY3Rpb24gbm90aWZ5ICgkd2luZG93LCBOb3RpZnkpIHtcblxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICc9J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQpIHtcblxuICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIE5vdGlmeS5hbGVydChzY29wZS5tZXNzYWdlLCBzY29wZS5vcHRpb25zKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59KSgpO1xuXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBub3RpZnkuanNcclxuICogQ3JlYXRlIGEgbm90aWZpY2F0aW9ucyB0aGF0IGZhZGUgb3V0IGF1dG9tYXRpY2FsbHkuXHJcbiAqIEJhc2VkIG9uIE5vdGlmeSBhZGRvbiBmcm9tIFVJS2l0IChodHRwOi8vZ2V0dWlraXQuY29tL2RvY3MvYWRkb25zX25vdGlmeS5odG1sKVxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAubm90aWZ5JylcclxuICAgICAgICAuc2VydmljZSgnTm90aWZ5JywgTm90aWZ5KTtcclxuXHJcbiAgICBOb3RpZnkuJGluamVjdCA9IFsnJHRpbWVvdXQnXTtcclxuICAgIGZ1bmN0aW9uIE5vdGlmeSgkdGltZW91dCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsZXJ0ID0gbm90aWZ5QWxlcnQ7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbm90aWZ5QWxlcnQobXNnLCBvcHRzKSB7XHJcbiAgICAgICAgICAgIGlmICggbXNnICkge1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkLm5vdGlmeShtc2csIG9wdHMgfHwge30pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG5cclxuLyoqXHJcbiAqIE5vdGlmeSBBZGRvbiBkZWZpbml0aW9uIGFzIGpRdWVyeSBwbHVnaW5cclxuICogQWRhcHRlZCB2ZXJzaW9uIHRvIHdvcmsgd2l0aCBCb290c3RyYXAgY2xhc3Nlc1xyXG4gKiBNb3JlIGluZm9ybWF0aW9uIGh0dHA6Ly9nZXR1aWtpdC5jb20vZG9jcy9hZGRvbnNfbm90aWZ5Lmh0bWxcclxuICovXHJcbihmdW5jdGlvbigkKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBjb250YWluZXJzID0ge30sXHJcbiAgICAgICAgbWVzc2FnZXMgICA9IHt9LFxyXG4gICAgICAgIG5vdGlmeSAgICAgPSAgZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgICAgIGlmICgkLnR5cGUob3B0aW9ucykgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID0geyBtZXNzYWdlOiBvcHRpb25zIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKG9wdGlvbnMsICQudHlwZShhcmd1bWVudHNbMV0pID09PSAnc3RyaW5nJyA/IHtzdGF0dXM6YXJndW1lbnRzWzFdfSA6IGFyZ3VtZW50c1sxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgTWVzc2FnZShvcHRpb25zKSkuc2hvdygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xvc2VBbGwgID0gZnVuY3Rpb24oZ3JvdXAsIGluc3RhbnRseSl7XHJcbiAgICAgICAgICAgIHZhciBpZDtcclxuICAgICAgICAgICAgaWYoZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGZvcihpZCBpbiBtZXNzYWdlcykgeyBpZihncm91cD09PW1lc3NhZ2VzW2lkXS5ncm91cCkgbWVzc2FnZXNbaWRdLmNsb3NlKGluc3RhbnRseSk7IH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcihpZCBpbiBtZXNzYWdlcykgeyBtZXNzYWdlc1tpZF0uY2xvc2UoaW5zdGFudGx5KTsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIHZhciBNZXNzYWdlID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgLy8gdmFyICR0aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTWVzc2FnZS5kZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy51dWlkICAgID0gJ0lEJysobmV3IERhdGUoKS5nZXRUaW1lKCkpKydSQU5EJysoTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDAwMDApKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSAkKFtcclxuICAgICAgICAgICAgLy8gQGdlZWRtbzogYWxlcnQtZGlzbWlzc2FibGUgZW5hYmxlcyBicyBjbG9zZSBpY29uXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidWstbm90aWZ5LW1lc3NhZ2UgYWxlcnQtZGlzbWlzc2FibGVcIj4nLFxyXG4gICAgICAgICAgICAgICAgJzxhIGNsYXNzPVwiY2xvc2VcIj4mdGltZXM7PC9hPicsXHJcbiAgICAgICAgICAgICAgICAnPGRpdj4nK3RoaXMub3B0aW9ucy5tZXNzYWdlKyc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAnPC9kaXY+J1xyXG4gICAgICAgIF0uam9pbignJykpLmRhdGEoJ25vdGlmeU1lc3NhZ2UnLCB0aGlzKTtcclxuICAgICAgICAvLyBzdGF0dXNcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ2FsZXJ0IGFsZXJ0LScrdGhpcy5vcHRpb25zLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudHN0YXR1cyA9IHRoaXMub3B0aW9ucy5zdGF0dXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0aGlzLm9wdGlvbnMuZ3JvdXA7XHJcbiAgICAgICAgbWVzc2FnZXNbdGhpcy51dWlkXSA9IHRoaXM7XHJcbiAgICAgICAgaWYoIWNvbnRhaW5lcnNbdGhpcy5vcHRpb25zLnBvc10pIHtcclxuICAgICAgICAgICAgY29udGFpbmVyc1t0aGlzLm9wdGlvbnMucG9zXSA9ICQoJzxkaXYgY2xhc3M9XCJ1ay1ub3RpZnkgdWstbm90aWZ5LScrdGhpcy5vcHRpb25zLnBvcysnXCI+PC9kaXY+JykuYXBwZW5kVG8oJ2JvZHknKS5vbignY2xpY2snLCAnLnVrLW5vdGlmeS1tZXNzYWdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnbm90aWZ5TWVzc2FnZScpLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChNZXNzYWdlLnByb3RvdHlwZSwge1xyXG4gICAgICAgIHV1aWQ6IGZhbHNlLFxyXG4gICAgICAgIGVsZW1lbnQ6IGZhbHNlLFxyXG4gICAgICAgIHRpbW91dDogZmFsc2UsXHJcbiAgICAgICAgY3VycmVudHN0YXR1czogJycsXHJcbiAgICAgICAgZ3JvdXA6IGZhbHNlLFxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbdGhpcy5vcHRpb25zLnBvc10uc2hvdygpLnByZXBlbmQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICAgICAgdmFyIG1hcmdpbmJvdHRvbSA9IHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoJ21hcmdpbi1ib3R0b20nKSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY3NzKHsnb3BhY2l0eSc6MCwgJ21hcmdpbi10b3AnOiAtMSp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSwgJ21hcmdpbi1ib3R0b20nOjB9KS5hbmltYXRlKHsnb3BhY2l0eSc6MSwgJ21hcmdpbi10b3AnOiAwLCAnbWFyZ2luLWJvdHRvbSc6bWFyZ2luYm90dG9tfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5vcHRpb25zLnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VmbiA9IGZ1bmN0aW9uKCl7ICR0aGlzLmNsb3NlKCk7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoY2xvc2VmbiwgJHRoaXMub3B0aW9ucy50aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5lbGVtZW50LmhvdmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsgY2xlYXJUaW1lb3V0KCR0aGlzLnRpbWVvdXQpOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsgJHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoY2xvc2VmbiwgJHRoaXMub3B0aW9ucy50aW1lb3V0KTsgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oaW5zdGFudGx5KSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyAgICA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighY29udGFpbmVyc1skdGhpcy5vcHRpb25zLnBvc10uY2hpbGRyZW4oKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyc1skdGhpcy5vcHRpb25zLnBvc10uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbJHRoaXMudXVpZF07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZih0aGlzLnRpbWVvdXQpIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG4gICAgICAgICAgICBpZihpbnN0YW50bHkpIHtcclxuICAgICAgICAgICAgICAgIGZpbmFsaXplKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYW5pbWF0ZSh7J29wYWNpdHknOjAsICdtYXJnaW4tdG9wJzogLTEqIHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLCAnbWFyZ2luLWJvdHRvbSc6MH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiBmdW5jdGlvbihodG1sKXtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudC5maW5kKCc+ZGl2Jyk7XHJcbiAgICAgICAgICAgIGlmKCFodG1sKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmh0bWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250YWluZXIuaHRtbChodG1sKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXM6IGZ1bmN0aW9uKHN0YXR1cykge1xyXG4gICAgICAgICAgICBpZighc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50c3RhdHVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygnYWxlcnQgYWxlcnQtJyt0aGlzLmN1cnJlbnRzdGF0dXMpLmFkZENsYXNzKCdhbGVydCBhbGVydC0nK3N0YXR1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudHN0YXR1cyA9IHN0YXR1cztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBNZXNzYWdlLmRlZmF1bHRzID0ge1xyXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgICAgIHN0YXR1czogJ25vcm1hbCcsXHJcbiAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICBncm91cDogbnVsbCxcclxuICAgICAgICBwb3M6ICd0b3AtY2VudGVyJ1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJC5ub3RpZnkgICAgICAgICAgPSBub3RpZnk7XHJcbiAgICAkLm5vdGlmeS5tZXNzYWdlICA9IE1lc3NhZ2U7XHJcbiAgICAkLm5vdGlmeS5jbG9zZUFsbCA9IGNsb3NlQWxsO1xyXG4gICAgXHJcbiAgICByZXR1cm4gbm90aWZ5O1xyXG59KGpRdWVyeSkpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogYWNjZXNzLWxvZ2luLmpzXG4gKiBEZW1vIGZvciBsb2dpbiBhcGlcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFnZXMnKVxuICAgICAgICAuY29udHJvbGxlcignTG9naW5Gb3JtQ29udHJvbGxlcicsIExvZ2luRm9ybUNvbnRyb2xsZXIpO1xuXG4gICAgTG9naW5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc3RhdGUnLCAnVXNlcicsICckcm9vdFNjb3BlJ107XG4gICAgZnVuY3Rpb24gTG9naW5Gb3JtQ29udHJvbGxlcigkc3RhdGUsIFVzZXIsICRyb290U2NvcGUpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAvLyBiaW5kIGhlcmUgYWxsIGRhdGEgZnJvbSB0aGUgZm9ybVxuICAgICAgICAgIHZtLmFjY291bnQgPSB7XG4gICAgICAgICAgICByZWFsbTogJ21lcmNoYW50JyxcbiAgICAgICAgICAgIHJlbWVtYmVyOiB0cnVlXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBwbGFjZSB0aGUgbWVzc2FnZSBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICAgIHZtLmF1dGhNc2cgPSAnJztcblxuICAgICAgICAgIHZtLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5hdXRoTXNnID0gJyc7XG5cbiAgICAgICAgICAgIGlmKHZtLmxvZ2luRm9ybS4kdmFsaWQpIHtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFVzZXJcbiAgICAgICAgICAgICAgICAubG9naW4odm0uYWNjb3VudCwgZnVuY3Rpb24gKGFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ1VzZXIubG9naW5lZCcpO1xuICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuZGFzaGJvYXJkJyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB2bS5hdXRoTXNnID0gZXJyb3IuZGF0YS5lcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gc2V0IGFzIGRpcnR5IGlmIHRoZSB1c2VyIGNsaWNrIGRpcmVjdGx5IHRvIGxvZ2luIHNvIHdlIHNob3cgdGhlIHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgICAgICAgICAgLypqc2hpbnQgLVcxMDYqL1xuICAgICAgICAgICAgICB2bS5sb2dpbkZvcm0uYWNjb3VudF91c2VybmFtZS4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICB2bS5sb2dpbkZvcm0uYWNjb3VudF9wYXNzd29yZC4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGFjY2Vzcy1yZWdpc3Rlci5qc1xuICogRGVtbyBmb3IgcmVnaXN0ZXIgYWNjb3VudCBhcGlcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFnZXMnKVxuICAgICAgICAuY29udHJvbGxlcignUmVnaXN0ZXJGb3JtQ29udHJvbGxlcicsIFJlZ2lzdGVyRm9ybUNvbnRyb2xsZXIpO1xuXG4gICAgUmVnaXN0ZXJGb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzdGF0ZScsICdVc2VyJywgJyRmaWx0ZXInXTtcbiAgICBmdW5jdGlvbiBSZWdpc3RlckZvcm1Db250cm9sbGVyKCRyb290U2NvcGUsICRzdGF0ZSwgVXNlciwgJGZpbHRlcikge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIC8vIGJpbmQgaGVyZSBhbGwgZGF0YSBmcm9tIHRoZSBmb3JtXG4gICAgICAgICAgdm0uYWNjb3VudCA9IHtcbiAgICAgICAgICAgIHJlYWxtOiAnbWVyY2hhbnQnLFxuICAgICAgICAgICAgcm9sZTogJ293bmVyJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdm0uYWdyZWVkID0gdHJ1ZTtcbiAgICAgICAgICAvLyBwbGFjZSB0aGUgbWVzc2FnZSBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICAgIHZtLmF1dGhNc2cgPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgIHZtLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5hdXRoTXNnID0gJyc7XG5cbiAgICAgICAgICAgIGlmKHZtLnJlZ2lzdGVyRm9ybS4kdmFsaWQpIHtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHZtLmFjY291bnQuZW1haWwgPSB2bS5hY2NvdW50LnVzZXJuYW1lK1wiQGZhbmthaHVpLmNvbVwiO1xuICAgICAgICAgICAgICB2bS5hY2NvdW50LnBob25lID0gdm0uYWNjb3VudC51c2VybmFtZTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFVzZXJcbiAgICAgICAgICAgICAgICAuY3JlYXRlKHZtLmFjY291bnQsIGZ1bmN0aW9uIChhY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICBVc2VyXG4gICAgICAgICAgICAgICAgICAgIC5sb2dpbih7dXNlcm5hbWU6IHZtLmFjY291bnQudXNlcm5hbWUsIHBhc3N3b3JkOiB2bS5hY2NvdW50LnBhc3N3b3JkfSlcbiAgICAgICAgICAgICAgICAgICAgLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdVc2VyLmxvZ2luZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5kYXNoYm9hcmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB2bS5hdXRoTXNnID0gJGZpbHRlcigncmVnaXN0ZXJfZXJyb3InKShlcnJvci5kYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gc2V0IGFzIGRpcnR5IGlmIHRoZSB1c2VyIGNsaWNrIGRpcmVjdGx5IHRvIGxvZ2luIHNvIHdlIHNob3cgdGhlIHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgICAgICAgICAgLypqc2hpbnQgLVcxMDYqL1xuICAgICAgICAgICAgICB2bS5yZWdpc3RlckZvcm0uYWNjb3VudF91c2VybmFtZS4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICB2bS5yZWdpc3RlckZvcm0uYWNjb3VudF9wYXNzd29yZC4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICB2bS5yZWdpc3RlckZvcm0uYWNjb3VudF9hZ3JlZWQuJGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKipcbiAqIEFuZ3VsYXJKUyBkZWZhdWx0IGZpbHRlciB3aXRoIHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbjpcbiAqIFwicGVyc29uIGluIHBlb3BsZSB8IGZpbHRlcjoge25hbWU6ICRzZWxlY3Quc2VhcmNoLCBhZ2U6ICRzZWxlY3Quc2VhcmNofVwiXG4gKiBwZXJmb3JtcyBhIEFORCBiZXR3ZWVuICduYW1lOiAkc2VsZWN0LnNlYXJjaCcgYW5kICdhZ2U6ICRzZWxlY3Quc2VhcmNoJy5cbiAqIFdlIHdhbnQgdG8gcGVyZm9ybSBhIE9SLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5wYWdlcycpXG4gICAgICAgIC5maWx0ZXIoJ3JlZ2lzdGVyX2Vycm9yJywgcmVnaXN0ZXJFcnJvckZpbHRlcilcbiAgICA7XG4gICAgXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJFcnJvckZpbHRlcigpIHtcbiAgICAgICAgLy8gXCJUaGUgYG1lcmNoYW50YCBpbnN0YW5jZSBpcyBub3QgdmFsaWQuIERldGFpbHM6IGBuYW1lYCBuYW1lIGV4aXN0ICh2YWx1ZTogXCJmYW5rYWh1aVwiKS5cIlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgaWYoL01lcmNoYW50IG5hbWUgZXhpc3QvLnRlc3QobXNnKSkgcmV0dXJuIFwi5ZWG5oi35ZCN5a2X5bey57uP5a2Y5ZyoXCI7XG4gICAgICAgIGlmKC9Vc2VyIGFscmVhZHkgZXhpc3RzLy50ZXN0KG1zZykpIHJldHVybiBcIueUqOaIt+WQjeW3sue7j+WtmOWcqFwiO1xuICAgICAgICBlbHNlIHJldHVybiBtc2c7XG4gICAgICB9XG4gICAgfVxufSkoKTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ29sbGFwc2UgcGFuZWxzICogW3BhbmVsLWNvbGxhcHNlXVxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAucGFuZWxzJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdwYW5lbENvbGxhcHNlJywgcGFuZWxDb2xsYXBzZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcGFuZWxDb2xsYXBzZSAoKSB7XHJcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyR0aW1lb3V0JywgJyRsb2NhbFN0b3JhZ2UnXTtcclxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQsICR0aW1lb3V0LCAkbG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgIHZhciBzdG9yYWdlS2V5TmFtZSA9ICdwYW5lbFN0YXRlJztcclxuXHJcbiAgICAgIC8vIFByZXBhcmUgdGhlIHBhbmVsIHRvIGJlIGNvbGxhcHNpYmxlXHJcbiAgICAgIHZhciAkZWxlbSAgID0gJCgkZWxlbWVudCksXHJcbiAgICAgICAgICBwYXJlbnQgID0gJGVsZW0uY2xvc2VzdCgnLnBhbmVsJyksIC8vIGZpbmQgdGhlIGZpcnN0IHBhcmVudCBwYW5lbFxyXG4gICAgICAgICAgcGFuZWxJZCA9IHBhcmVudC5hdHRyKCdpZCcpO1xyXG5cclxuICAgICAgLy8gTG9hZCB0aGUgc2F2ZWQgc3RhdGUgaWYgZXhpc3RzXHJcbiAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBsb2FkUGFuZWxTdGF0ZSggcGFuZWxJZCApO1xyXG4gICAgICBpZiAoIHR5cGVvZiBjdXJyZW50U3RhdGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlW3BhbmVsSWRdID0gY3VycmVudFN0YXRlOyB9LFxyXG4gICAgICAgICAgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBiaW5kIGV2ZW50cyB0byBzd2l0Y2ggaWNvbnNcclxuICAgICAgJGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNhdmVQYW5lbFN0YXRlKCBwYW5lbElkLCAhJHNjb3BlW3BhbmVsSWRdICk7XHJcblxyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgLy8gQ29udHJvbGxlciBoZWxwZXJzXHJcbiAgICAgIGZ1bmN0aW9uIHNhdmVQYW5lbFN0YXRlKGlkLCBzdGF0ZSkge1xyXG4gICAgICAgIGlmKCFpZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciBkYXRhID0gYW5ndWxhci5mcm9tSnNvbigkbG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXlOYW1lXSk7XHJcbiAgICAgICAgaWYoIWRhdGEpIHsgZGF0YSA9IHt9OyB9XHJcbiAgICAgICAgZGF0YVtpZF0gPSBzdGF0ZTtcclxuICAgICAgICAkbG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXlOYW1lXSA9IGFuZ3VsYXIudG9Kc29uKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIGxvYWRQYW5lbFN0YXRlKGlkKSB7XHJcbiAgICAgICAgaWYoIWlkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKCRsb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleU5hbWVdKTtcclxuICAgICAgICBpZihkYXRhKSB7XHJcbiAgICAgICAgICByZXR1cm4gZGF0YVtpZF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogRGlzbWlzcyBwYW5lbHMgKiBbcGFuZWwtZGlzbWlzc11cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5wYW5lbHMnKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BhbmVsRGlzbWlzcycsIHBhbmVsRGlzbWlzcyk7XHJcblxyXG4gICAgZnVuY3Rpb24gcGFuZWxEaXNtaXNzICgpIHtcclxuXHJcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJHEnLCAnVXRpbHMnXTtcclxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQsICRxLCBVdGlscykge1xyXG4gICAgICB2YXIgcmVtb3ZlRXZlbnQgICA9ICdwYW5lbC1yZW1vdmUnLFxyXG4gICAgICAgICAgcmVtb3ZlZEV2ZW50ICA9ICdwYW5lbC1yZW1vdmVkJztcclxuXHJcbiAgICAgICRlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAvLyBmaW5kIHRoZSBmaXJzdCBwYXJlbnQgcGFuZWxcclxuICAgICAgICB2YXIgcGFyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcucGFuZWwnKTtcclxuXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudCgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xyXG4gICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ29tbXVuaWNhdGUgZXZlbnQgZGVzdHJveWluZyBwYW5lbFxyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KHJlbW92ZUV2ZW50LCBwYXJlbnQuYXR0cignaWQnKSwgZGVmZXJyZWQpO1xyXG4gICAgICAgICAgcHJvbWlzZS50aGVuKGRlc3Ryb3lNaWRkbGV3YXJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJ1biB0aGUgYW5pbWF0aW9uIGJlZm9yZSBkZXN0cm95IHRoZSBwYW5lbFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lNaWRkbGV3YXJlKCkge1xyXG4gICAgICAgICAgaWYoVXRpbHMuc3VwcG9ydC5hbmltYXRpb24pIHtcclxuICAgICAgICAgICAgcGFyZW50LmFuaW1vKHthbmltYXRpb246ICdib3VuY2VPdXQnfSwgZGVzdHJveVBhbmVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgZGVzdHJveVBhbmVsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95UGFuZWwoKSB7XHJcblxyXG4gICAgICAgICAgdmFyIGNvbCA9IHBhcmVudC5wYXJlbnQoKTtcclxuICAgICAgICAgIHBhcmVudC5yZW1vdmUoKTtcclxuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcGFyZW50IGlmIGl0IGlzIGEgcm93IGFuZCBpcyBlbXB0eSBhbmQgbm90IGEgc29ydGFibGUgKHBvcnRsZXQpXHJcbiAgICAgICAgICBjb2xcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIChlbC5pcygnW2NsYXNzKj1cImNvbC1cIl06bm90KC5zb3J0YWJsZSknKSAmJiBlbC5jaGlsZHJlbignKicpLmxlbmd0aCA9PT0gMCk7XHJcbiAgICAgICAgICB9KS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAvLyBDb21tdW5pY2F0ZSBldmVudCBkZXN0cm95ZWQgcGFuZWxcclxuICAgICAgICAgICRzY29wZS4kZW1pdChyZW1vdmVkRXZlbnQsIHBhcmVudC5hdHRyKCdpZCcpKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG5cclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIFJlZnJlc2ggcGFuZWxzXHJcbiAqIFtwYW5lbC1yZWZyZXNoXSAqIFtkYXRhLXNwaW5uZXI9XCJzdGFuZGFyZFwiXVxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnBhbmVscycpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgncGFuZWxSZWZyZXNoJywgcGFuZWxSZWZyZXNoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwYW5lbFJlZnJlc2ggKCkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHNjb3BlOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnXTtcclxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIgKCRzY29wZSwgJGVsZW1lbnQpIHtcclxuICAgICAgdmFyIHJlZnJlc2hFdmVudCAgID0gJ3BhbmVsLXJlZnJlc2gnLFxyXG4gICAgICAgICAgd2hpcmxDbGFzcyAgICAgPSAnd2hpcmwnLFxyXG4gICAgICAgICAgZGVmYXVsdFNwaW5uZXIgPSAnc3RhbmRhcmQnO1xyXG5cclxuICAgICAgLy8gY2F0Y2ggY2xpY2tzIHRvIHRvZ2dsZSBwYW5lbCByZWZyZXNoXHJcbiAgICAgICRlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgJHRoaXMgICA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIHBhbmVsICAgPSAkdGhpcy5wYXJlbnRzKCcucGFuZWwnKS5lcSgwKSxcclxuICAgICAgICAgICAgc3Bpbm5lciA9ICR0aGlzLmRhdGEoJ3NwaW5uZXInKSB8fCBkZWZhdWx0U3Bpbm5lclxyXG4gICAgICAgICAgICA7XHJcblxyXG4gICAgICAgIC8vIHN0YXJ0IHNob3dpbmcgdGhlIHNwaW5uZXJcclxuICAgICAgICBwYW5lbC5hZGRDbGFzcyh3aGlybENsYXNzICsgJyAnICsgc3Bpbm5lcik7XHJcblxyXG4gICAgICAgIC8vIEVtaXQgZXZlbnQgd2hlbiByZWZyZXNoIGNsaWNrZWRcclxuICAgICAgICAkc2NvcGUuJGVtaXQocmVmcmVzaEV2ZW50LCBwYW5lbC5hdHRyKCdpZCcpKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gbGlzdGVuIHRvIHJlbW92ZSBzcGlubmVyXHJcbiAgICAgICRzY29wZS4kb24oJ3JlbW92ZVNwaW5uZXInLCByZW1vdmVTcGlubmVyKTtcclxuXHJcbiAgICAgIC8vIG1ldGhvZCB0byBjbGVhciB0aGUgc3Bpbm5lciB3aGVuIGRvbmVcclxuICAgICAgZnVuY3Rpb24gcmVtb3ZlU3Bpbm5lciAoZXYsIGlkKSB7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBuZXdpZCA9IGlkLmNoYXJBdCgwKSA9PT0gJyMnID8gaWQgOiAoJyMnK2lkKTtcclxuICAgICAgICBhbmd1bGFyXHJcbiAgICAgICAgICAuZWxlbWVudChuZXdpZClcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcyh3aGlybENsYXNzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuXHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlIHBhbmVsLXRvb2xzLmpzXG4gKiBEaXJlY3RpdmUgdG9vbHMgdG8gY29udHJvbCBwYW5lbHMuIFxuICogQWxsb3dzIGNvbGxhcHNlLCByZWZyZXNoIGFuZCBkaXNtaXNzIChyZW1vdmUpXG4gKiBTYXZlcyBwYW5lbCBzdGF0ZSBpbiBicm93c2VyIHN0b3JhZ2VcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAucGFuZWxzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGFuZWx0b29sJywgcGFuZWx0b29sKTtcblxuICAgIHBhbmVsdG9vbC4kaW5qZWN0ID0gWyckY29tcGlsZScsICckdGltZW91dCddO1xuICAgIGZ1bmN0aW9uIHBhbmVsdG9vbCAoJGNvbXBpbGUsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgICB2YXIgdGVtcGxhdGVzID0ge1xuICAgICAgICAgICAgLyoganNoaW50IG11bHRpc3RyOiB0cnVlICovXG4gICAgICAgICAgICBjb2xsYXBzZTonPGEgaHJlZj1cIiNcIiBwYW5lbC1jb2xsYXBzZT1cIlwiIHRvb2x0aXA9XCJDb2xsYXBzZSBQYW5lbFwiIG5nLWNsaWNrPVwie3twYW5lbElkfX0gPSAhe3twYW5lbElkfX1cIj4gXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBuZy1zaG93PVwie3twYW5lbElkfX1cIiBjbGFzcz1cImZhIGZhLXBsdXNcIj48L2VtPiBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGVtIG5nLXNob3c9XCIhe3twYW5lbElkfX1cIiBjbGFzcz1cImZhIGZhLW1pbnVzXCI+PC9lbT4gXFxcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+JyxcbiAgICAgICAgICAgIGRpc21pc3M6ICc8YSBocmVmPVwiI1wiIHBhbmVsLWRpc21pc3M9XCJcIiB0b29sdGlwPVwiQ2xvc2UgUGFuZWxcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS10aW1lc1wiPjwvZW0+XFxcbiAgICAgICAgICAgICAgICAgICAgIDwvYT4nLFxuICAgICAgICAgICAgcmVmcmVzaDogJzxhIGhyZWY9XCIjXCIgcGFuZWwtcmVmcmVzaD1cIlwiIGRhdGEtc3Bpbm5lcj1cInt7c3Bpbm5lcn19XCIgdG9vbHRpcD1cIlJlZnJlc2ggUGFuZWxcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1yZWZyZXNoXCI+PC9lbT5cXFxuICAgICAgICAgICAgICAgICAgICAgPC9hPidcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHRvb2xzID0gc2NvcGUucGFuZWxUb29scyB8fCBhdHRycztcbiAgICAgIFxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5odG1sKGdldFRlbXBsYXRlKGVsZW1lbnQsIHRvb2xzICkpLnNob3coKTtcbiAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdwdWxsLXJpZ2h0Jyk7XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlKCBlbGVtLCBhdHRycyApe1xuICAgICAgICAgICAgdmFyIHRlbXAgPSAnJztcbiAgICAgICAgICAgIGF0dHJzID0gYXR0cnMgfHwge307XG4gICAgICAgICAgICBpZihhdHRycy50b29sQ29sbGFwc2UpXG4gICAgICAgICAgICAgIHRlbXAgKz0gdGVtcGxhdGVzLmNvbGxhcHNlLnJlcGxhY2UoL3t7cGFuZWxJZH19L2csIChlbGVtLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2lkJykpICk7XG4gICAgICAgICAgICBpZihhdHRycy50b29sRGlzbWlzcylcbiAgICAgICAgICAgICAgdGVtcCArPSB0ZW1wbGF0ZXMuZGlzbWlzcztcbiAgICAgICAgICAgIGlmKGF0dHJzLnRvb2xSZWZyZXNoKVxuICAgICAgICAgICAgICB0ZW1wICs9IHRlbXBsYXRlcy5yZWZyZXNoLnJlcGxhY2UoL3t7c3Bpbm5lcn19L2csIGF0dHJzLnRvb2xSZWZyZXNoKTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wO1xuICAgICAgICAgIH1cbiAgICAgICAgfS8vIGxpbmtcbiAgICB9IFxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGRlbW8tcGFuZWxzLmpzXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciBwYW5lbCBhY3Rpb25zXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnBhbmVscycpXG4gICAgICAgIC5jb250cm9sbGVyKCdQYW5lbHNDdHJsJywgUGFuZWxzQ3RybCk7XG5cbiAgICBQYW5lbHNDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckdGltZW91dCddO1xuICAgIGZ1bmN0aW9uIFBhbmVsc0N0cmwoJHNjb3BlLCAkdGltZW91dCkge1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgICAgICAgLy8gUEFORUwgQ09MTEFQU0UgRVZFTlRTXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbiAgICAgICAgICAvLyBXZSBjYW4gdXNlIHBhbmVsIGlkIG5hbWUgZm9yIHRoZSBib29sZWFuIGZsYWcgdG8gW3VuXWNvbGxhcHNlIHRoZSBwYW5lbFxuICAgICAgICAgICRzY29wZS4kd2F0Y2goJ3BhbmVsRGVtbzEnLGZ1bmN0aW9uKG5ld1ZhbCl7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFuZWxEZW1vMSBjb2xsYXBzZWQ6ICcgKyBuZXdWYWwpO1xuXG4gICAgICAgICAgfSk7XG5cblxuICAgICAgICAgIC8vIFBBTkVMIERJU01JU1MgRVZFTlRTXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbiAgICAgICAgICAvLyBCZWZvcmUgcmVtb3ZlIHBhbmVsXG4gICAgICAgICAgJHNjb3BlLiRvbigncGFuZWwtcmVtb3ZlJywgZnVuY3Rpb24oZXZlbnQsIGlkLCBkZWZlcnJlZCl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYW5lbCAjJyArIGlkICsgJyByZW1vdmluZycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIZXJlIGlzIG9ibGlnYXRvcnkgdG8gY2FsbCB0aGUgcmVzb2x2ZSgpIGlmIHdlIHByZXRlbmQgdG8gcmVtb3ZlIHRoZSBwYW5lbCBmaW5hbGx5XG4gICAgICAgICAgICAvLyBOb3QgY2FsbGluZyByZXNvbHZlKCkgd2lsbCBOT1QgcmVtb3ZlIHRoZSBwYW5lbFxuICAgICAgICAgICAgLy8gSXQncyB1cCB0byB5b3VyIGFwcCB0byBkZWNpZGUgaWYgcGFuZWwgc2hvdWxkIGJlIHJlbW92ZWQgb3Igbm90XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBQYW5lbCByZW1vdmVkICggb25seSBpZiBhYm92ZSB3YXMgcmVzb2x2ZWQoKSApXG4gICAgICAgICAgJHNjb3BlLiRvbigncGFuZWwtcmVtb3ZlZCcsIGZ1bmN0aW9uKGV2ZW50LCBpZCl7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYW5lbCAjJyArIGlkICsgJyByZW1vdmVkJyk7XG5cbiAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgLy8gUEFORUwgUkVGUkVTSCBFVkVOVFNcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuICAgICAgICAgICRzY29wZS4kb24oJ3BhbmVsLXJlZnJlc2gnLCBmdW5jdGlvbihldmVudCwgaWQpIHtcbiAgICAgICAgICAgIHZhciBzZWNzID0gMztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgZHVyaW5nICcgKyBzZWNzICsncyAjJytpZCk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSBsaXN0ZW4gZm9yIHRvIHJlbW92ZSB0aGUgc3Bpbm5lciBcbiAgICAgICAgICAgICAgLy8gYWZ0ZXIgd2UgZW5kIHVwIHRvIHBlcmZvcm0gb3duIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3JlbW92ZVNwaW5uZXInLCBpZCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGVkICMnICsgaWQpO1xuXG4gICAgICAgICAgICB9LCAzMDAwKTtcblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gUEFORUxTIFZJQSBORy1SRVBFQVRcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuICAgICAgICAgICRzY29wZS5wYW5lbHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAncGFuZWxSZXBlYXQxJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQYW5lbCBUaXRsZSAxJyxcbiAgICAgICAgICAgICAgYm9keTogJ051bGxhIGVnZXQgbG9yZW0gbGVvLCBzaXQgYW1ldCBlbGVtZW50dW0gbG9yZW0uICdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAncGFuZWxSZXBlYXQyJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQYW5lbCBUaXRsZSAyJyxcbiAgICAgICAgICAgICAgYm9keTogJ051bGxhIGVnZXQgbG9yZW0gbGVvLCBzaXQgYW1ldCBlbGVtZW50dW0gbG9yZW0uICdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAncGFuZWxSZXBlYXQzJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQYW5lbCBUaXRsZSAzJyxcbiAgICAgICAgICAgICAgYm9keTogJ051bGxhIGVnZXQgbG9yZW0gbGVvLCBzaXQgYW1ldCBlbGVtZW50dW0gbG9yZW0uICdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICB9IC8vUGFuZWxzQ3RybFxuXG59KSgpO1xuXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIERyYWcgYW5kIGRyb3AgYW55IHBhbmVsIGJhc2VkIG9uIGpRdWVyeVVJIHBvcnRsZXRzXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnBhbmVscycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BvcnRsZXQnLCBwb3J0bGV0KTtcblxuICAgIHBvcnRsZXQuJGluamVjdCA9IFsnJHRpbWVvdXQnLCAnJGxvY2FsU3RvcmFnZSddO1xuICAgIGZ1bmN0aW9uIHBvcnRsZXQgKCR0aW1lb3V0LCAkbG9jYWxTdG9yYWdlKSB7XG4gICAgICB2YXIgc3RvcmFnZUtleU5hbWUgPSAncG9ydGxldFN0YXRlJztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogbGlua1xuICAgICAgfTtcblxuICAgICAgLy8vLy8vLy8vLy8vL1xuXG4gICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgXG4gICAgICAgIC8vIG5vdCBjb21wYXRpYmxlIHdpdGgganF1ZXJ5IHNvcnRhYmxlXG4gICAgICAgIGlmKCEkLmZuLnNvcnRhYmxlKSByZXR1cm47XG5cbiAgICAgICAgZWxlbWVudC5zb3J0YWJsZSh7XG4gICAgICAgICAgY29ubmVjdFdpdGg6ICAgICAgICAgICdbcG9ydGxldF0nLCAvLyBzYW1lIGxpa2UgZGlyZWN0aXZlIFxuICAgICAgICAgIGl0ZW1zOiAgICAgICAgICAgICAgICAnZGl2LnBhbmVsJyxcbiAgICAgICAgICBoYW5kbGU6ICAgICAgICAgICAgICAgJy5wb3J0bGV0LWhhbmRsZXInLFxuICAgICAgICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAwLjcsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6ICAgICAgICAgICdwb3J0bGV0IGJveC1wbGFjZWhvbGRlcicsXG4gICAgICAgICAgY2FuY2VsOiAgICAgICAgICAgICAgICcucG9ydGxldC1jYW5jZWwnLFxuICAgICAgICAgIGZvcmNlUGxhY2Vob2xkZXJTaXplOiB0cnVlLFxuICAgICAgICAgIGlmcmFtZUZpeDogICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0b2xlcmFuY2U6ICAgICAgICAgICAgJ3BvaW50ZXInLFxuICAgICAgICAgIGhlbHBlcjogICAgICAgICAgICAgICAnb3JpZ2luYWwnLFxuICAgICAgICAgIHJldmVydDogICAgICAgICAgICAgICAyMDAsXG4gICAgICAgICAgZm9yY2VIZWxwZXJTaXplOiAgICAgIHRydWUsXG4gICAgICAgICAgdXBkYXRlOiAgICAgICAgICAgICAgIHNhdmVQb3J0bGV0T3JkZXIsXG4gICAgICAgICAgY3JlYXRlOiAgICAgICAgICAgICAgIGxvYWRQb3J0bGV0T3JkZXJcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBzYXZlUG9ydGxldE9yZGVyKGV2ZW50LyosIHVpKi8pIHtcbiAgICAgICAgdmFyIHNlbGYgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHZhciBkYXRhID0gYW5ndWxhci5mcm9tSnNvbigkbG9jYWxTdG9yYWdlW3N0b3JhZ2VLZXlOYW1lXSk7XG4gICAgICAgIFxuICAgICAgICBpZighZGF0YSkgeyBkYXRhID0ge307IH1cblxuICAgICAgICBkYXRhW3NlbGYuaWRdID0gJChzZWxmKS5zb3J0YWJsZSgndG9BcnJheScpO1xuXG4gICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRsb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleU5hbWVdID0gYW5ndWxhci50b0pzb24oZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbG9hZFBvcnRsZXRPcmRlcihldmVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgdmFyIGRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKCRsb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleU5hbWVdKTtcblxuICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgXG4gICAgICAgICAgdmFyIHBvcmxldElkID0gc2VsZi5pZCxcbiAgICAgICAgICAgICAgcGFuZWxzICAgPSBkYXRhW3BvcmxldElkXTtcblxuICAgICAgICAgIGlmKHBhbmVscykge1xuICAgICAgICAgICAgdmFyIHBvcnRsZXQgPSAkKCcjJytwb3JsZXRJZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQuZWFjaChwYW5lbHMsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgJCgnIycrdmFsdWUpLmFwcGVuZFRvKHBvcnRsZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH1cblxufSkoKTtcbiAiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5wcmVsb2FkZXInKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3ByZWxvYWRlcicsIHByZWxvYWRlcik7XHJcblxyXG4gICAgcHJlbG9hZGVyLiRpbmplY3QgPSBbJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRxJ107XHJcbiAgICBmdW5jdGlvbiBwcmVsb2FkZXIgKCRhbmltYXRlLCAkdGltZW91dCwgJHEpIHtcclxuXHJcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQUMnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXHJcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcmVsb2FkZXItcHJvZ3Jlc3NcIj4nICtcclxuICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcmVsb2FkZXItcHJvZ3Jlc3MtYmFyXCIgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgJ25nLXN0eWxlPVwie3dpZHRoOiBsb2FkQ291bnRlciArIFxcJyVcXCd9XCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgJzwvZGl2PidcclxuICAgICAgICAgICAgLFxyXG4gICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAvLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsKSB7XHJcblxyXG4gICAgICAgICAgc2NvcGUubG9hZENvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAgIHZhciBjb3VudGVyICA9IDAsXHJcbiAgICAgICAgICAgICAgdGltZW91dDtcclxuXHJcbiAgICAgICAgICAvLyBkaXNhYmxlcyBzY3JvbGxiYXJcclxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgICAvLyBlbnN1cmUgY2xhc3MgaXMgcHJlc2VudCBmb3Igc3R5bGluZ1xyXG4gICAgICAgICAgZWwuYWRkQ2xhc3MoJ3ByZWxvYWRlcicpO1xyXG5cclxuICAgICAgICAgIGFwcFJlYWR5KCkudGhlbihlbmRDb3VudGVyKTtcclxuXHJcbiAgICAgICAgICB0aW1lb3V0ID0gJHRpbWVvdXQoc3RhcnRDb3VudGVyKTtcclxuXHJcbiAgICAgICAgICAvLy8vLy8vXHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gc3RhcnRDb3VudGVyKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IDEwMCAtIGNvdW50ZXI7XHJcbiAgICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyICsgKDAuMDE1ICogTWF0aC5wb3coMSAtIE1hdGguc3FydChyZW1haW5pbmcpLCAyKSk7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5sb2FkQ291bnRlciA9IHBhcnNlSW50KGNvdW50ZXIsIDEwKTtcclxuXHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSAkdGltZW91dChzdGFydENvdW50ZXIsIDIwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBlbmRDb3VudGVyKCkge1xyXG5cclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUubG9hZENvdW50ZXIgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgIC8vIGFuaW1hdGUgcHJlbG9hZGVyIGhpZGluZ1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsLCAncHJlbG9hZGVyLWhpZGRlbicpO1xyXG4gICAgICAgICAgICAgIC8vIHJldG9yZSBzY3JvbGxiYXJcclxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJycpO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGFwcFJlYWR5KCkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICB2YXIgdmlld3NMb2FkZWQgPSAwO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRvZXNuJ3Qgc3luYyB3aXRoIHRoZSByZWFsIGFwcCByZWFkeVxyXG4gICAgICAgICAgICAvLyBhIGN1c3RvbSBldmVudCBtdXN0IGJlIHVzZWQgaW5zdGVhZFxyXG4gICAgICAgICAgICB2YXIgb2ZmID0gc2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgdmlld3NMb2FkZWQgKys7XHJcbiAgICAgICAgICAgICAgLy8gd2Uga25vdyB0aGVyZSBhcmUgYXQgbGVhc3QgdHdvIHZpZXdzIHRvIGJlIGxvYWRlZCBcclxuICAgICAgICAgICAgICAvLyBiZWZvcmUgdGhlIGFwcCBpcyByZWFkeSAoMS1pbmRleC5odG1sIDItYXBwKi5odG1sKVxyXG4gICAgICAgICAgICAgIGlmICggdmlld3NMb2FkZWQgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdpdGggcmVzb2x2ZSB0aGlzIGZpcmVzIG9ubHkgb25jZVxyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgb2ZmKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSAvL2xpbmtcclxuICAgIH1cclxuXHJcbn0pKCk7IiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogaGVscGVycy5qc1xyXG4gKiBQcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIGZvciByb3V0ZXMgZGVmaW5pdGlvblxyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnJvdXRlcycpXHJcbiAgICAgICAgLnByb3ZpZGVyKCdSb3V0ZUhlbHBlcnMnLCBSb3V0ZUhlbHBlcnNQcm92aWRlcilcclxuICAgICAgICA7XHJcblxyXG4gICAgUm91dGVIZWxwZXJzUHJvdmlkZXIuJGluamVjdCA9IFsnQVBQX1JFUVVJUkVTJ107XHJcbiAgICBmdW5jdGlvbiBSb3V0ZUhlbHBlcnNQcm92aWRlcihBUFBfUkVRVUlSRVMpIHtcclxuXHJcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC8vIHByb3ZpZGVyIGFjY2VzcyBsZXZlbFxyXG4gICAgICAgIGJhc2VwYXRoOiBiYXNlcGF0aCxcclxuICAgICAgICByZXNvbHZlRm9yOiByZXNvbHZlRm9yLFxyXG4gICAgICAgIC8vIGNvbnRyb2xsZXIgYWNjZXNzIGxldmVsXHJcbiAgICAgICAgJGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBiYXNlcGF0aDogYmFzZXBhdGgsXHJcbiAgICAgICAgICAgIHJlc29sdmVGb3I6IHJlc29sdmVGb3JcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0IGhlcmUgdGhlIGJhc2Ugb2YgdGhlIHJlbGF0aXZlIHBhdGhcclxuICAgICAgLy8gZm9yIGFsbCBhcHAgdmlld3NcclxuICAgICAgZnVuY3Rpb24gYmFzZXBhdGgodXJpKSB7XHJcbiAgICAgICAgcmV0dXJuICdhcHAvdmlld3MvJyArIHVyaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2VuZXJhdGVzIGEgcmVzb2x2ZSBvYmplY3QgYnkgcGFzc2luZyBzY3JpcHQgbmFtZXNcclxuICAgICAgLy8gcHJldmlvdXNseSBjb25maWd1cmVkIGluIGNvbnN0YW50LkFQUF9SRVFVSVJFU1xyXG4gICAgICBmdW5jdGlvbiByZXNvbHZlRm9yKCkge1xyXG4gICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZGVwczogWyckb2NMYXp5TG9hZCcsJyRxJywgZnVuY3Rpb24gKCRvY0xMLCAkcSkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGEgcHJvbWlzZSBjaGFpbiBmb3IgZWFjaCBhcmd1bWVudFxyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oMSk7IC8vIGVtcHR5IHByb21pc2VcclxuICAgICAgICAgICAgZm9yKHZhciBpPTAsIGxlbj1fYXJncy5sZW5ndGg7IGkgPCBsZW47IGkgKyspe1xyXG4gICAgICAgICAgICAgIHByb21pc2UgPSBhbmRUaGVuKF9hcmdzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZXMgcHJvbWlzZSB0byBjaGFpbiBkeW5hbWljYWxseVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhbmRUaGVuKF9hcmcpIHtcclxuICAgICAgICAgICAgICAvLyBhbHNvIHN1cHBvcnQgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlXHJcbiAgICAgICAgICAgICAgaWYodHlwZW9mIF9hcmcgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oX2FyZyk7XHJcbiAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzIGEgbW9kdWxlLCBwYXNzIHRoZSBuYW1lLiBJZiBub3QsIHBhc3MgdGhlIGFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRUb0xvYWQgPSBnZXRSZXF1aXJlZChfYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW1wbGUgZXJyb3IgY2hlY2tcclxuICAgICAgICAgICAgICAgICAgICBpZighd2hhdFRvTG9hZCkgcmV0dXJuICQuZXJyb3IoJ1JvdXRlIHJlc29sdmU6IEJhZCByZXNvdXJjZSBuYW1lIFsnICsgX2FyZyArICddJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluYWxseSwgcmV0dXJuIGEgcHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkb2NMTC5sb2FkKCB3aGF0VG9Mb2FkICk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGFuZCByZXR1cm5zIHJlcXVpcmVkIGRhdGFcclxuICAgICAgICAgICAgLy8gYW5hbHl6ZSBtb2R1bGUgaXRlbXMgd2l0aCB0aGUgZm9ybSBbbmFtZTogJycsIGZpbGVzOiBbXV1cclxuICAgICAgICAgICAgLy8gYW5kIGFsc28gc2ltcGxlIGFycmF5IG9mIHNjcmlwdCBmaWxlcyAoZm9yIG5vdCBhbmd1bGFyIGpzKVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRSZXF1aXJlZChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgaWYgKEFQUF9SRVFVSVJFUy5tb2R1bGVzKVxyXG4gICAgICAgICAgICAgICAgICBmb3IodmFyIG0gaW4gQVBQX1JFUVVJUkVTLm1vZHVsZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZihBUFBfUkVRVUlSRVMubW9kdWxlc1ttXS5uYW1lICYmIEFQUF9SRVFVSVJFUy5tb2R1bGVzW21dLm5hbWUgPT09IG5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQUF9SRVFVSVJFUy5tb2R1bGVzW21dO1xyXG4gICAgICAgICAgICAgIHJldHVybiBBUFBfUkVRVUlSRVMuc2NyaXB0cyAmJiBBUFBfUkVRVUlSRVMuc2NyaXB0c1tuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH1dfTtcclxuICAgICAgfSAvLyByZXNvbHZlRm9yXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcblxyXG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBjb25maWcuanNcclxuICogQXBwIHJvdXRlcyBhbmQgcmVzb3VyY2VzIGNvbmZpZ3VyYXRpb25cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAucm91dGVzJylcclxuICAgICAgICAuY29uZmlnKHJvdXRlc0NvbmZpZyk7XHJcblxyXG4gICAgcm91dGVzQ29uZmlnLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICdSb3V0ZUhlbHBlcnNQcm92aWRlciddO1xyXG4gICAgZnVuY3Rpb24gcm91dGVzQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBoZWxwZXIpe1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGZvbGxvd2luZyB0byB0cnVlIHRvIGVuYWJsZSB0aGUgSFRNTDUgTW9kZVxyXG4gICAgICAgIC8vIFlvdSBtYXkgaGF2ZSB0byBzZXQgPGJhc2U+IHRhZyBpbiBpbmRleCBhbmQgYSByb3V0aW5nIGNvbmZpZ3VyYXRpb24gaW4geW91ciBzZXJ2ZXJcclxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBkZWZhdWx0cyB0byBkYXNoYm9hcmRcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXBwL2Rhc2hib2FyZCcpO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIEFwcGxpY2F0aW9uIFJvdXRlc1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hcHAnLFxyXG4gICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2FwcC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2Zhc3RjbGljaycsICdtb2Rlcm5penInLCAnaWNvbnMnLCAnc2NyZWVuZnVsbCcsICdhbmltbycsICdzcGFya2xpbmVzJywgJ3NsaW1zY3JvbGwnLCAnY2xhc3N5bG9hZGVyJywgJ3RvYXN0ZXInLCAnd2hpcmwnLCAnbW9tZW50JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5kYXNoYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Rhc2hib2FyZCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdEYXNoYm9hcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Rhc2hib2FyZC5odG1sJyksXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXIgYXMgZGFzaCcsXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2Zsb3QtY2hhcnQnLCdmbG90LWNoYXJ0LXBsdWdpbnMnLCAnd2VhdGhlci1pY29ucycpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuc2VsbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvc2VsbCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdzZWxsJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdzZWxsLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnU2VsbENvbnRyb2xsZXIgYXMgc2VsbCcsXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nVGFibGUnLCAnbmdEaWFsb2cnLCAnb2l0b3plcm8ubmdTd2VldEFsZXJ0JywgJ2xvYWRlcnMuY3NzJywgJ3NwaW5raXQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm1lbWJlcnMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL21lbWJlcnMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTWVtYmVycycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnbWVtYmVycy5odG1sJyksXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01lbWJlcnNDb250cm9sbGVyIGFzIG1lbWJlcnMnLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1RhYmxlJywgJ25nVGFibGVFeHBvcnQnLCAnbmdEaWFsb2cnLCAnb2l0b3plcm8ubmdTd2VldEFsZXJ0JywgJ3NwaW5raXQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm1lbWJlcicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbWVtYmVycy86bWVtYmVySWQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTWVtYmVyIERldGFpbCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnbWVtYmVyLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWVtYmVyQ29udHJvbGxlciBhcyBtZW1iZXInLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1RhYmxlJywgJ25nRGlhbG9nJywgJ29pdG96ZXJvLm5nU3dlZXRBbGVydCcsICdzcGlua2l0JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5kZWFscycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZGVhbHMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRGVhbHMnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2RlYWxzLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbmdUYWJsZScsICduZ0RpYWxvZycsICdvaXRvemVyby5uZ1N3ZWV0QWxlcnQnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZGVhbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZGVhbHMvOmRlYWxJZCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdEZWFsJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdkZWFsLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGVhbENvbnRyb2xsZXIgYXMgZGMnLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1RhYmxlJywgJ25nRGlhbG9nJywgJ29pdG96ZXJvLm5nU3dlZXRBbGVydCcsICdzcGlua2l0JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jb3N0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jb3N0JyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0Nvc3QnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Nvc3QuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1RhYmxlJywgJ25nVGFibGVFeHBvcnQnLCAnbmdEaWFsb2cnLCAnb2l0b3plcm8ubmdTd2VldEFsZXJ0JywgJ3NwaW5raXQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLml0ZW0nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2l0ZW0nLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnSXRlbScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnaXRlbS5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nVGFibGUnLCAnbmdUYWJsZUV4cG9ydCcsICduZ0RpYWxvZycsICdvaXRvemVyby5uZ1N3ZWV0QWxlcnQnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuaXRlbS1hZGQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2l0ZW0tYWRkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0l0ZW0gQWRkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdpdGVtLWFkZC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ3BhcnNsZXknKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmNhcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NhcmQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnQ2FyZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnY2FyZC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nVGFibGUnLCAnbmdUYWJsZUV4cG9ydCcsICduZ0RpYWxvZycsICdvaXRvemVyby5uZ1N3ZWV0QWxlcnQnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuY2FtcGFpZ24nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NhbXBhaWduJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0NhbXBhaWduJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdjYW1wYWlnbi5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nVGFibGUnLCAnbmdUYWJsZUV4cG9ydCcsICduZ0RpYWxvZycsICdvaXRvemVyby5uZ1N3ZWV0QWxlcnQnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubXlzaG9wJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9teXNob3AnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTXlTaG9wJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdteXNob3AuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCd4ZWRpdGFibGUnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnNldHRpbmcnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3NldHRpbmcnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnU2V0dGluZycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnc2V0dGluZy5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nVGFibGUnLCAnbmdUYWJsZUV4cG9ydCcsICduZ0RpYWxvZycsICdvaXRvemVyby5uZ1N3ZWV0QWxlcnQnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAud2lkZ2V0cycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvd2lkZ2V0cycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdXaWRnZXRzJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd3aWRnZXRzLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbG9hZEdvb2dsZU1hcHNKUycsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbG9hZEdvb2dsZU1hcHMoKTsgfSwgJ3VpLm1hcCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuYnV0dG9ucycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYnV0dG9ucycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdCdXR0b25zJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdidXR0b25zLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmNvbG9ycycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvY29sb3JzJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0NvbG9ycycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnY29sb3JzLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmxvY2FsaXphdGlvbicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbG9jYWxpemF0aW9uJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0xvY2FsaXphdGlvbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnbG9jYWxpemF0aW9uLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmluZmluaXRlLXNjcm9sbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvaW5maW5pdGUtc2Nyb2xsJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0luZmluaXRlIFNjcm9sbCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnaW5maW5pdGUtc2Nyb2xsLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignaW5maW5pdGUtc2Nyb2xsJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5uYXZ0cmVlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9uYXZ0cmVlJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ05hdiBUcmVlJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCduYXYtdHJlZS5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2FuZ3VsYXJCb290c3RyYXBOYXZUcmVlJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5uZXN0YWJsZScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbmVzdGFibGUnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTmVzdGFibGUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ25lc3RhYmxlLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbmctbmVzdGFibGUnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnNvcnRhYmxlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9zb3J0YWJsZScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdTb3J0YWJsZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnc29ydGFibGUuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdodG1sU29ydGFibGUnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm5vdGlmaWNhdGlvbnMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL25vdGlmaWNhdGlvbnMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTm90aWZpY2F0aW9ucycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnbm90aWZpY2F0aW9ucy5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXJvdXNlbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvY2Fyb3VzZWwnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnQ2Fyb3VzZWwnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Nhcm91c2VsLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignYW5ndWxhci1jYXJvdXNlbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubmdkaWFsb2cnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL25nZGlhbG9nJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ25nRGlhbG9nJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCduZ2RpYWxvZy5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogYW5ndWxhci5leHRlbmQoaGVscGVyLnJlc29sdmVGb3IoJ25nRGlhbG9nJykse1xyXG4gICAgICAgICAgICAgICAgdHBsOiBmdW5jdGlvbigpIHsgcmV0dXJuIHsgcGF0aDogaGVscGVyLmJhc2VwYXRoKCduZ2RpYWxvZy10ZW1wbGF0ZS5odG1sJykgfTsgfVxyXG4gICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdEaWFsb2dJbnRyb0N0cmwnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuc3dlZXRhbGVydCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnL3N3ZWV0YWxlcnQnLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1N3ZWV0QWxlcnQnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdzd2VldGFsZXJ0Lmh0bWwnKSxcclxuICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ29pdG96ZXJvLm5nU3dlZXRBbGVydCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAudG91cicsIHtcclxuICAgICAgICAgICAgdXJsOiAnL3RvdXInLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1RvdXInLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd0b3VyLmh0bWwnKSxcclxuICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2JtLmJzVG91cicpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuaW50ZXJhY3Rpb24nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2ludGVyYWN0aW9uJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0ludGVyYWN0aW9uJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdpbnRlcmFjdGlvbi5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5zcGlubmVycycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvc3Bpbm5lcnMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnU3Bpbm5lcnMnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3NwaW5uZXJzLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbG9hZGVycy5jc3MnLCAnc3BpbmtpdCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZHJvcGRvd24tYW5pbWF0aW9ucycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZHJvcGRvd24tYW5pbWF0aW9ucycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdEcm9wZG93biBBbmltYXRpb25zJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdkcm9wZG93bi1hbmltYXRpb25zLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnBhbmVscycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcGFuZWxzJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1BhbmVscycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgncGFuZWxzLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnBvcnRsZXRzJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9wb3J0bGV0cycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdQb3J0bGV0cycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgncG9ydGxldHMuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdqcXVlcnktdWknLCAnanF1ZXJ5LXVpLXdpZGdldHMnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hcHMtZ29vZ2xlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9tYXBzLWdvb2dsZScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdNYXBzIEdvb2dsZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnbWFwcy1nb29nbGUuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdsb2FkR29vZ2xlTWFwc0pTJywgZnVuY3Rpb24oKSB7IHJldHVybiBsb2FkR29vZ2xlTWFwcygpOyB9LCAndWkubWFwJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5tYXBzLXZlY3RvcicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbWFwcy12ZWN0b3InLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTWFwcyBWZWN0b3InLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ21hcHMtdmVjdG9yLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVmVjdG9yTWFwQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm1hcCcsXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ3ZlY3Rvci1tYXAnLCAndmVjdG9yLW1hcC1tYXBzJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5ncmlkJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9ncmlkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0dyaWQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2dyaWQuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZ3JpZC1tYXNvbnJ5Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9ncmlkLW1hc29ucnknLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnR3JpZCBNYXNvbnJ5JyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdncmlkLW1hc29ucnkuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZ3JpZC1tYXNvbnJ5LWRlY2snLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2dyaWQtbWFzb25yeS1kZWNrJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0dyaWQgTWFzb25yeScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZ3JpZC1tYXNvbnJ5LWRlY2suaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdzcGlua2l0JywgJ2Frb2VuaWcuZGVja2dyaWQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnR5cG8nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3R5cG8nLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnVHlwbycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgndHlwby5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5pY29ucy1mb250Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pY29ucy1mb250JyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0ljb25zIEZvbnQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2ljb25zLWZvbnQuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdpY29ucycpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuaWNvbnMtd2VhdGhlcicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvaWNvbnMtd2VhdGhlcicsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdJY29ucyBXZWF0aGVyJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdpY29ucy13ZWF0aGVyLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignd2VhdGhlci1pY29ucycsICdza3ljb25zJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5mb3JtLXN0YW5kYXJkJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9mb3JtLXN0YW5kYXJkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0Zvcm0gU3RhbmRhcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Zvcm0tc3RhbmRhcmQuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ybS1leHRlbmRlZCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZm9ybS1leHRlbmRlZCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdGb3JtIEV4dGVuZGVkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3JtLWV4dGVuZGVkLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignY29sb3JwaWNrZXIubW9kdWxlJywgJ2NvZGVtaXJyb3InLCAndGFnaW5wdXQnLCdpbnB1dG1hc2snLCdsb2NhbHl0aWNzLmRpcmVjdGl2ZXMnLCAndWkuYm9vdHN0cmFwLXNsaWRlcicsICduZ1dpZycsICdmaWxlc3R5bGUnLCAndGV4dEFuZ3VsYXInKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmZvcm0tdmFsaWRhdGlvbicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZm9ybS12YWxpZGF0aW9uJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0Zvcm0gVmFsaWRhdGlvbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZm9ybS12YWxpZGF0aW9uLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcigndWkuc2VsZWN0JywgJ3RhZ2lucHV0JywnaW5wdXRtYXNrJywnbG9jYWx5dGljcy5kaXJlY3RpdmVzJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5mb3JtLXBhcnNsZXknLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Zvcm0tcGFyc2xleScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdGb3JtIFZhbGlkYXRpb24gLSBQYXJzbGV5JyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3JtLXBhcnNsZXkuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdwYXJzbGV5JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5mb3JtLXdpemFyZCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZm9ybS13aXphcmQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRm9ybSBXaXphcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Zvcm0td2l6YXJkLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcigncGFyc2xleScpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ybS11cGxvYWQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Zvcm0tdXBsb2FkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0Zvcm0gdXBsb2FkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3JtLXVwbG9hZC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2FuZ3VsYXJGaWxlVXBsb2FkJywgJ2ZpbGVzdHlsZScpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ybS14ZWRpdGFibGUnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Zvcm0teGVkaXRhYmxlJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3JtLXhlZGl0YWJsZS5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ3hlZGl0YWJsZScpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ybS1pbWFnZWNyb3AnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Zvcm0taW1hZ2Vjcm9wJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3JtLWltYWdlY3JvcC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nSW1nQ3JvcCcsICdmaWxlc3R5bGUnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmZvcm0tdWlzZWxlY3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2Zvcm0tdWlzZWxlY3QnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Zvcm0tdWlzZWxlY3QuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1aVNlbGVjdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Vpc2VsJyxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcigndWkuc2VsZWN0JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jaGFydC1mbG90Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jaGFydC1mbG90JyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0NoYXJ0IEZsb3QnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2NoYXJ0LWZsb3QuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdmbG90LWNoYXJ0JywnZmxvdC1jaGFydC1wbHVnaW5zJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jaGFydC1yYWRpYWwnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NoYXJ0LXJhZGlhbCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdDaGFydCBSYWRpYWwnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2NoYXJ0LXJhZGlhbC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2NsYXNzeWxvYWRlcicsICd1aS5rbm9iJywgJ2Vhc3lwaWVjaGFydCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuY2hhcnQtanMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NoYXJ0LWpzJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0NoYXJ0IEpTJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdjaGFydC1qcy5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2NoYXJ0anMnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmNoYXJ0LXJpY2tzaGF3Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jaGFydC1yaWNrc2hhdycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdDaGFydCBSaWNrc2hhdycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnY2hhcnQtcmlja3NoYXcuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdhbmd1bGFyLXJpY2tzaGF3JylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jaGFydC1tb3JyaXMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NoYXJ0LW1vcnJpcycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdDaGFydCBNb3JyaXMnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2NoYXJ0LW1vcnJpcy5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ21vcnJpcycpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuY2hhcnQtY2hhcnRpc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NoYXJ0LWNoYXJ0aXN0JyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0NoYXJ0IENoYXJ0aXN0JyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdjaGFydC1jaGFydGlzdC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2FuZ3VsYXItY2hhcnRpc3QnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnRhYmxlLXN0YW5kYXJkJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy90YWJsZS1zdGFuZGFyZCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdUYWJsZSBTdGFuZGFyZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgndGFibGUtc3RhbmRhcmQuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAudGFibGUtZXh0ZW5kZWQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3RhYmxlLWV4dGVuZGVkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1RhYmxlIEV4dGVuZGVkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd0YWJsZS1leHRlbmRlZC5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC50YWJsZS1kYXRhdGFibGUnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3RhYmxlLWRhdGF0YWJsZScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdUYWJsZSBEYXRhdGFibGUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3RhYmxlLWRhdGF0YWJsZS5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2RhdGF0YWJsZXMnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnRhYmxlLXhlZGl0YWJsZScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvdGFibGUteGVkaXRhYmxlJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd0YWJsZS14ZWRpdGFibGUuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCd4ZWRpdGFibGUnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnRhYmxlLW5ndGFibGUnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3RhYmxlLW5ndGFibGUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3RhYmxlLW5ndGFibGUuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1RhYmxlJywgJ25nVGFibGVFeHBvcnQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnRhYmxlLW5nZ3JpZCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvdGFibGUtbmdncmlkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd0YWJsZS1uZy1ncmlkLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbmdHcmlkJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC50YWJsZS11aWdyaWQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3RhYmxlLXVpZ3JpZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgndGFibGUtdWlncmlkLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcigndWkuZ3JpZCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAudGFibGUtYW5ndWxhcmdyaWQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3RhYmxlLWFuZ3VsYXJncmlkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCd0YWJsZS1hbmd1bGFyZ3JpZC5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2FuZ3VsYXJHcmlkJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC50aW1lbGluZScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvdGltZWxpbmUnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnVGltZWxpbmUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3RpbWVsaW5lLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmNhbGVuZGFyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jYWxlbmRhcicsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdDYWxlbmRhcicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnY2FsZW5kYXIuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdqcXVlcnktdWknLCAnanF1ZXJ5LXVpLXdpZGdldHMnLCAnZnVsbGNhbGVuZGFyJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5pbnZvaWNlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pbnZvaWNlJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0ludm9pY2UnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2ludm9pY2UuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuc2VhcmNoJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9zZWFyY2gnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnU2VhcmNoJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdzZWFyY2guaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdsb2NhbHl0aWNzLmRpcmVjdGl2ZXMnLCAndWkuYm9vdHN0cmFwLXNsaWRlcicpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAudG9kbycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvdG9kbycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdUb2RvIExpc3QnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3RvZG8uaHRtbCcpLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUb2RvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndG9kbydcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5wcm9maWxlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9wcm9maWxlJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1Byb2ZpbGUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3Byb2ZpbGUuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdsb2FkR29vZ2xlTWFwc0pTJywgZnVuY3Rpb24oKSB7IHJldHVybiBsb2FkR29vZ2xlTWFwcygpOyB9LCAndWkubWFwJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5jb2RlLWVkaXRvcicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvY29kZS1lZGl0b3InLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2NvZGUtZWRpdG9yLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29kZUVkaXRvckNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NvZGVyJyxcclxuICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgIGRlcHM6IGhlbHBlci5yZXNvbHZlRm9yKCdjb2RlbWlycm9yJywgJ3VpLmNvZGVtaXJyb3InLCAnY29kZW1pcnJvci1tb2Rlcy13ZWInLCAnYW5ndWxhckJvb3RzdHJhcE5hdlRyZWUnKS5kZXBzLFxyXG4gICAgICAgICAgICAgICAgICBmaWxldHJlZTogWydMb2FkVHJlZVNlcnZpY2UnLCBmdW5jdGlvbiAoTG9hZFRyZWVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTG9hZFRyZWVTZXJ2aWNlLmdldCgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC50ZW1wbGF0ZScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvdGVtcGxhdGUnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnQmxhbmsgVGVtcGxhdGUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ3RlbXBsYXRlLmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmRvY3VtZW50YXRpb24nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2RvY3VtZW50YXRpb24nLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRG9jdW1lbnRhdGlvbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZG9jdW1lbnRhdGlvbi5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2ZsYXRkb2MnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC8vIEZvcnVtXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ydW0nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2ZvcnVtJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0ZvcnVtJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3J1bS5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5mb3J1bS10b3BpY3MnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2ZvcnVtL3RvcGljcy86Y2F0aWQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRm9ydW0gVG9waWNzJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdmb3J1bS10b3BpY3MuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZm9ydW0tZGlzY3Vzc2lvbicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZm9ydW0vZGlzY3Vzc2lvbi86dG9waWQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnRm9ydW0gRGlzY3Vzc2lvbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZm9ydW0tZGlzY3Vzc2lvbi5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAvLyBCbG9nXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuYmxvZycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYmxvZycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdCbG9nJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdibG9nLmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignYW5ndWxhci1qcWNsb3VkJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5ibG9nLXBvc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Bvc3QnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnUG9zdCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnYmxvZy1wb3N0Lmh0bWwnKSxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignYW5ndWxhci1qcWNsb3VkJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpY2xlcycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYXJ0aWNsZXMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnQXJ0aWNsZXMnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2Jsb2ctYXJ0aWNsZXMuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdkYXRhdGFibGVzJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpY2xlLXZpZXcnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2FydGljbGUvOmlkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0FydGljbGUgVmlldycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnYmxvZy1hcnRpY2xlLXZpZXcuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCd1aS5zZWxlY3QnLCAndGV4dEFuZ3VsYXInKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC8vIGVDb21tZXJjZVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm9yZGVycycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvb3JkZXJzJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ09yZGVycycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZWNvbW1lcmNlLW9yZGVycy5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2RhdGF0YWJsZXMnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm9yZGVyLXZpZXcnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL29yZGVyLXZpZXcnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnT3JkZXIgVmlldycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZWNvbW1lcmNlLW9yZGVyLXZpZXcuaHRtbCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAucHJvZHVjdHMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdlY29tbWVyY2UtcHJvZHVjdHMuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdkYXRhdGFibGVzJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5wcm9kdWN0LXZpZXcnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Byb2R1Y3QvOmlkJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1Byb2R1Y3QgVmlldycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZWNvbW1lcmNlLXByb2R1Y3Qtdmlldy5odG1sJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAvLyBNYWlsYm94XHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubWFpbGJveCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbWFpbGJveCcsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdNYWlsYm94JyxcclxuICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdtYWlsYm94Lmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm1haWxib3guZm9sZGVyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9mb2xkZXIvOmZvbGRlcicsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdNYWlsYm94JyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdtYWlsYm94LWluYm94Lmh0bWwnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm1haWxib3gudmlldycsIHtcclxuICAgICAgICAgICAgICB1cmwgOiAnL3ttaWQ6WzAtOV17MSw0fX0nLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnVmlldyBtYWlsJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogaGVscGVyLmJhc2VwYXRoKCdtYWlsYm94LXZpZXcuaHRtbCcpLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCduZ1dpZycpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubWFpbGJveC5jb21wb3NlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jb21wb3NlJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ01haWxib3gnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ21haWxib3gtY29tcG9zZS5odG1sJyksXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ25nV2lnJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gTXVsdGlwbGUgbGV2ZWwgZXhhbXBsZVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm11bHRpbGV2ZWwnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL211bHRpbGV2ZWwnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTXVsdGlsZXZlbCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8aDM+TXVsdGlsZXZlbCBWaWV3czwvaDM+JyArICc8ZGl2IGNsYXNzPVwibGVhZCBiYSBwXCI+VmlldyBAIFRvcCBMZXZlbCAnICsgJzxkaXYgdWktdmlldz1cIlwiPjwvZGl2PiA8L2Rpdj4nXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubXVsdGlsZXZlbC5sZXZlbDEnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2xldmVsMScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdNdWx0aWxldmVsIC0gTGV2ZWwxJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJsZWFkIGJhIHBcIj5WaWV3IEAgTGV2ZWwgMScgKyAnPGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+IDwvZGl2PidcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5tdWx0aWxldmVsLmxldmVsMS5pdGVtJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ011bHRpbGV2ZWwgLSBMZXZlbDEnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImxlYWQgYmEgcFwiPiBNZW51IGl0ZW0gQCBMZXZlbCAxPC9kaXY+J1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLm11bHRpbGV2ZWwubGV2ZWwxLmxldmVsMicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbGV2ZWwyJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ011bHRpbGV2ZWwgLSBMZXZlbDInLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImxlYWQgYmEgcFwiPlZpZXcgQCBMZXZlbCAyJyAgKyAnPGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+IDwvZGl2PidcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5tdWx0aWxldmVsLmxldmVsMS5sZXZlbDIubGV2ZWwzJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9sZXZlbDMnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiAnTXVsdGlsZXZlbCAtIExldmVsMycsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibGVhZCBiYSBwXCI+VmlldyBAIExldmVsIDMnICsgJzxkaXYgdWktdmlldz1cIlwiPjwvZGl2PiA8L2Rpdj4nXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAubXVsdGlsZXZlbC5sZXZlbDEubGV2ZWwyLmxldmVsMy5pdGVtJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ011bHRpbGV2ZWwgLSBMZXZlbDMgSXRlbScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibGVhZCBiYSBwXCI+IE1lbnUgaXRlbSBAIExldmVsIDM8L2Rpdj4nXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIFNpbmdsZSBQYWdlIFJvdXRlc1xyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgIC5zdGF0ZSgncGFnZScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcGFnZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGFnZXMvcGFnZS5odG1sJyxcclxuICAgICAgICAgICAgICByZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcignbW9kZXJuaXpyJywgJ2ljb25zJyksXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFwcC5sYXlvdXQuaXNCb3hlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdwYWdlLmxvZ2luJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9sb2dpbicsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdMb2dpbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGFnZXMvbG9naW4uaHRtbCdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ3BhZ2UucmVnaXN0ZXInLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9wYWdlcy9yZWdpc3Rlci5odG1sJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgncGFnZS5yZWNvdmVyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZWNvdmVyJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ1JlY292ZXInLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3BhZ2VzL3JlY292ZXIuaHRtbCdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ3BhZ2UubG9jaycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvbG9jaycsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdMb2NrJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9wYWdlcy9sb2NrLmh0bWwnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnN0YXRlKCdwYWdlLjQwNCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvNDA0JyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ05vdCBGb3VuZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGFnZXMvNDA0Lmh0bWwnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIEhvcml6b250YWwgbGF5b3V0XHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAtaCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYXBwLWgnLFxyXG4gICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoICdhcHAtaC5odG1sJyApLFxyXG4gICAgICAgICAgICAgIHJlc29sdmU6IGhlbHBlci5yZXNvbHZlRm9yKCdmYXN0Y2xpY2snLCAnbW9kZXJuaXpyJywgJ2ljb25zJywgJ3NjcmVlbmZ1bGwnLCAnYW5pbW8nLCAnc3BhcmtsaW5lcycsICdzbGltc2Nyb2xsJywgJ2NsYXNzeWxvYWRlcicsICd0b2FzdGVyJywgJ3doaXJsJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC1oLmRhc2hib2FyZF92MicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvZGFzaGJvYXJkX3YyJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0Rhc2hib2FyZCB2MicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGhlbHBlci5iYXNlcGF0aCgnZGFzaGJvYXJkX3YyLmh0bWwnKSxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGFzaGJvYXJkVjJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdkYXNoMicsXHJcbiAgICAgICAgICAgICAgcmVzb2x2ZTogaGVscGVyLnJlc29sdmVGb3IoJ2Zsb3QtY2hhcnQnLCdmbG90LWNoYXJ0LXBsdWdpbnMnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBDVVNUT00gUkVTT0xWRVNcclxuICAgICAgICAgIC8vICAgQWRkIHlvdXIgb3duIHJlc29sdmVzIHByb3BlcnRpZXNcclxuICAgICAgICAgIC8vICAgZm9sbG93aW5nIHRoaXMgb2JqZWN0IGV4dGVuZFxyXG4gICAgICAgICAgLy8gICBtZXRob2RcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAvLyAuc3RhdGUoJ2FwcC5zb21lcm91dGUnLCB7XHJcbiAgICAgICAgICAvLyAgIHVybDogJy9zb21lX3VybCcsXHJcbiAgICAgICAgICAvLyAgIHRlbXBsYXRlVXJsOiAncGF0aF90b190ZW1wbGF0ZS5odG1sJyxcclxuICAgICAgICAgIC8vICAgY29udHJvbGxlcjogJ3NvbWVDb250cm9sbGVyJyxcclxuICAgICAgICAgIC8vICAgcmVzb2x2ZTogYW5ndWxhci5leHRlbmQoXHJcbiAgICAgICAgICAvLyAgICAgaGVscGVyLnJlc29sdmVGb3IoKSwge1xyXG4gICAgICAgICAgLy8gICAgIC8vIFlPVVIgUkVTT0xWRVMgR08gSEVSRVxyXG4gICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgIC8vICAgKVxyXG4gICAgICAgICAgLy8gfSlcclxuICAgICAgICAgIDtcclxuXHJcbiAgICB9IC8vIHJvdXRlc0NvbmZpZ1xyXG5cclxufSkoKTtcclxuXHJcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zYWxlcycpXG4gICAgICAgIC5zZXJ2aWNlKCdkZWFsU2VydmljZScsIGRlYWxTZXJ2aWNlKVxuICAgICAgICAuc2VydmljZSgncmV0dXJuU2VydmljZScsIHJldHVyblNlcnZpY2UpXG4gICAgO1xuXG4gICAgZGVhbFNlcnZpY2UuJGluamVjdCA9IFsnRGVhbCcsICdTa3UnLCAnbmdEaWFsb2cnLCAnJHJvb3RTY29wZSddO1xuICAgIGZ1bmN0aW9uIGRlYWxTZXJ2aWNlKERlYWwsIFNrdSwgbmdEaWFsb2csICRyb290U2NvcGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdGhpcy5vcGVuRGVhbCA9IG9wZW5EZWFsO1xuICAgICAgdGhpcy5xdWVyeVNrdXMgPSBxdWVyeVNrdXM7XG4gICAgICB0aGlzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG4gICAgICB0aGlzLnN1YnN0cmFjdE9uZSA9IHN1YnN0cmFjdE9uZTtcbiAgICAgIHRoaXMuY291bnRUb3RhbCA9IGNvdW50VG90YWw7XG4gICAgICB0aGlzLmNoZWNrb3V0ID0gY2hlY2tvdXQ7IFxuICAgICAgdGhpcy5vbkNoYW5nZVBheVR5cGUgPSBvbkNoYW5nZVBheVR5cGU7XG4gICAgICB0aGlzLmNvdW50Q2hhbmdlID0gY291bnRDaGFuZ2U7XG4gICAgICB0aGlzLnBheSA9IHBheTtcbiAgICAgIHRoaXMucGF5VHlwZSA9IHtcbiAgICAgICAgZGVwb3NpdDogXCLkvJrlkZjlgqjlgLxcIixcbiAgICAgICAgY2FzaDogXCLnjrDph5HmlK/ku5hcIixcbiAgICAgICAgYmFua2NhcmQ6IFwi5Yi35Y2h5pSv5LuYXCIsXG4gICAgICAgIHd4cGF5OiBcIuW+ruS/oeaUr+S7mFwiLFxuICAgICAgICBhbGlwYXk6IFwi5pSv5LuY5a6dXCJcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIG9wZW5EZWFsKG1lbWJlcikge1xuICAgICAgICBzZWxmLmRlYWwgPSB7XG4gICAgICAgICAgZW50aXRpZXM6IFtdLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiAwLFxuICAgICAgICAgIHRvdGFsUXR5OiAwLFxuICAgICAgICAgIG1lbWJlcjogbWVtYmVyLFxuICAgICAgICAgIHN0YXR1czogJ29wZW5lZCcsXG4gICAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKVxuICAgICAgICB9XG4gICAgICAgIHNlbGYuc2VsZWN0ZWRTa3UgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5U2t1cyAodmFsKSB7XG4gICAgICAgIHJldHVybiBTa3UuZmluZCh7ZmlsdGVyOnt3aGVyZTp7YmFyY29kZTp7cmVnZXg6IHZhbH19fSwgbGltaXQ6IDEwfSlcbiAgICAgICAgLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNrdXMpIHtcbiAgICAgICAgICByZXR1cm4gc2t1cztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyICgpIHtcbiAgICAgICAgaWYoc2VsZi5zZWxlY3RlZFNrdSAmJiBzZWxmLnNlbGVjdGVkU2t1IGluc3RhbmNlb2YgU2t1KSB7XG4gICAgICAgICAgdmFyIGVudGl0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5kZWFsLmVudGl0aWVzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYoZS5za3UuYmFyY29kZSA9PT0gc2VsZi5zZWxlY3RlZFNrdS5iYXJjb2RlKXtcbiAgICAgICAgICAgICAgZS5xdHkrKztcbiAgICAgICAgICAgICAgZW50aXR5ID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZighZW50aXR5KSB7XG4gICAgICAgICAgICBlbnRpdHkgPSB7XG4gICAgICAgICAgICAgIHNrdTogc2VsZi5zZWxlY3RlZFNrdSxcbiAgICAgICAgICAgICAgcXR5OiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5kZWFsLmVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5zZWxlY3RlZFNrdSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gc3Vic3RyYWN0T25lIChlbnRpdHksIGluZGV4KSB7XG4gICAgICAgIGVudGl0eS5xdHktLTtcbiAgICAgICAgaWYoZW50aXR5LnF0eSA9PT0gMCkge1xuICAgICAgICAgIHNlbGYuZGVhbC5lbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGZ1bmN0aW9uIGNvdW50VG90YWwgKCkge1xuICAgICAgICBzZWxmLmRlYWwudG90YWxBbW91bnQgPSAwO1xuICAgICAgICBzZWxmLmRlYWwudG90YWxRdHkgPSAwO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5kZWFsLmVudGl0aWVzLCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgc2VsZi5kZWFsLnRvdGFsUXR5ICs9IGVudGl0eS5xdHk7XG4gICAgICAgICAgc2VsZi5kZWFsLnRvdGFsQW1vdW50ICs9IGVudGl0eS5xdHkqZW50aXR5LnNrdS5wcmljZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxmLmRlYWwudG90YWxBbW91bnQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGNoZWNrb3V0ICgpIHtcbiAgICAgICAgc2VsZi5kZWFsLnBheW1lbnQgPSB7dHlwZTogJ2Nhc2gnfTtcbiAgICAgICAgaWYoc2VsZi5kZWFsLm1lbWJlcikge1xuICAgICAgICAgIHNlbGYuZGVhbC5tZW1iZXJJZCA9IHNlbGYuZGVhbC5tZW1iZXIuaWQ7XG4gICAgICAgICAgc2VsZi5kZWFsLmRpc2NvdW50QW1vdW50ID0gc2VsZi5kZWFsLnRvdGFsQW1vdW50KigxMDAtc2VsZi5kZWFsLm1lbWJlci5kaXNjb3VudCkvMTAwO1xuICAgICAgICAgIGlmKCRyb290U2NvcGUudXNlci5tZXJjaGFudC5lbmFibGVCb251c0JpZCkge1xuICAgICAgICAgICAgc2VsZi5kZWFsLmJvbnVzVm91Y2hBbW91bnQgPSBNYXRoLnJvdW5kKHNlbGYuZGVhbC5tZW1iZXIuYm9udXMvJHJvb3RTY29wZS51c2VyLm1lcmNoYW50LmJvbnVzQmlkUmF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuZGVhbC5kaXNjb3VudEFtb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5kZWFsLmZlZSA9IHNlbGYuZGVhbC50b3RhbEFtb3VudC1zZWxmLmRlYWwuZGlzY291bnRBbW91bnQ7XG4gICAgICAgIGlmKHNlbGYuZGVhbC5tZW1iZXIpIHtcbiAgICAgICAgICBpZigkcm9vdFNjb3BlLnVzZXIubWVyY2hhbnQuZW5hYmxlQm9udXNCaWQpIHtcbiAgICAgICAgICAgIGlmKHNlbGYuZGVhbC5ib251c1ZvdWNoQW1vdW50ID4gc2VsZi5kZWFsLmZlZSkge1xuICAgICAgICAgICAgICBzZWxmLmRlYWwuYm9udXNWb3VjaEFtb3VudCA9IHNlbGYuZGVhbC5mZWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmRlYWwuZmVlIC09IHNlbGYuZGVhbC5ib251c1ZvdWNoQW1vdW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihzZWxmLmRlYWwubWVtYmVyLmJhbGFuY2UgPj0gc2VsZi5kZWFsLmZlZSkge1xuICAgICAgICAgICAgc2VsZi5kZWFsLnBheW1lbnQudHlwZSA9ICdkZXBvc2l0JztcbiAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBvbkNoYW5nZVBheVR5cGUoKTtcbiAgICAgICAgXG4gICAgICAgIG5nRGlhbG9nLm9wZW4oeyBcbiAgICAgICAgICB0ZW1wbGF0ZTogJ2NoZWNrb3V0RGlhbG9nSWQnLCBcbiAgICAgICAgICBjb250cm9sbGVyOiAnY2hlY2tvdXREaWFsb2dDb250cm9sbGVyJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gb25DaGFuZ2VQYXlUeXBlKCkge1xuICAgICAgICBzZWxmLmRlYWwucGF5bWVudC5hbW91bnQgPSBzZWxmLmRlYWwuZmVlO1xuICAgICAgICBpZihzZWxmLmRlYWwucGF5bWVudC50eXBlID09PSAnY2FzaCcpIHtcbiAgICAgICAgICBzZWxmLmRlYWwucGF5bWVudC5jaGFuZ2UgPSBzZWxmLmRlYWwuZmVlJSRyb290U2NvcGUudXNlci5tZXJjaGFudC5jaGFuZ2VSYXRlO1xuICAgICAgICAgIHNlbGYuZGVhbC5wYXltZW50LmFtb3VudCAtPSBzZWxmLmRlYWwucGF5bWVudC5jaGFuZ2U7XG4gICAgICAgICAgY291bnRDaGFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIGlmKHNlbGYuZGVhbC5wYXltZW50LnR5cGUgPT09ICdkZXBvc2l0Jykge1xuICAgICAgICAgIHNlbGYuZGVhbC5wYXltZW50LmFtb3VudCA9IDAtc2VsZi5kZWFsLmZlZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmRlYWwucGF5bWVudC5hbW91bnQgPSBzZWxmLmRlYWwuZmVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGNvdW50Q2hhbmdlKCkge1xuICAgICAgICBpZihzZWxmLmRlYWwucGF5bWVudC50eXBlID09PSAnY2FzaCcpIHtcbiAgICAgICAgICBzZWxmLmNhc2ggPSBzZWxmLmNhc2ggfHwge307XG4gICAgICAgICAgc2VsZi5jYXNoLnBhaWQgPSBzZWxmLmNhc2gucGFpZCB8fCBzZWxmLmRlYWwucGF5bWVudC5hbW91bnQ7XG4gICAgICAgICAgc2VsZi5jYXNoLmNoYW5nZSA9IHNlbGYuZGVhbC5wYXltZW50LmFtb3VudCAtIHNlbGYuY2FzaC5wYWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGZ1bmN0aW9uIHBheSgpIHtcbiAgICAgICAgc2VsZi5kZWFsLnN0YXR1cyA9ICdjbG9zZWQnO1xuICAgICAgICBkZWxldGUgc2VsZi5kZWFsLm1lbWJlcjtcbiAgICAgICAgcmV0dXJuIERlYWwuY3JlYXRlKHNlbGYuZGVhbCkuJHByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuU2VydmljZS4kaW5qZWN0ID0gWydEZWFsJywgJ1NrdScsICduZ0RpYWxvZycsICckcm9vdFNjb3BlJ107XG4gICAgZnVuY3Rpb24gcmV0dXJuU2VydmljZShEZWFsLCBTa3UsIG5nRGlhbG9nLCAkcm9vdFNjb3BlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHRoaXMub3BlblJldHVybiA9IG9wZW5SZXR1cm47XG4gICAgICB0aGlzLmNoZWNrb3V0ID0gY2hlY2tvdXQ7XG4gICAgICB0aGlzLmRvUmV0dXJuID0gZG9SZXR1cm47XG4gICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIG9wZW5SZXR1cm4oZGVhbCkge1xuICAgICAgICBzZWxmLmRlYWwgPSBkZWFsO1xuICAgICAgICBzZWxmLnBvc3REYXRhID0ge1xuICAgICAgICAgIGVudGl0aWVzOiBbXSxcbiAgICAgICAgICB0b3RhbEFtb3VudDogMCxcbiAgICAgICAgICB0b3RhbFF0eTogMCxcbiAgICAgICAgICBzdGF0dXM6ICdvcGVuZWQnLFxuICAgICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBjb3VudCgpIHtcbiAgICAgICAgc2VsZi5wb3N0RGF0YS50b3RhbEFtb3VudCA9IDA7XG4gICAgICAgIHNlbGYucG9zdERhdGEudG90YWxRdHkgPSAwO1xuICAgICAgICBzZWxmLnBvc3REYXRhLmVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgIHNlbGYucG9zdERhdGEudG90YWxBbW91bnQgKz0gZW50aXR5LnF0eSplbnRpdHkuc2t1LnByaWNlO1xuICAgICAgICAgIHNlbGYucG9zdERhdGEudG90YWxRdHkgKz0gZW50aXR5LnF0eTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5wb3N0RGF0YS5kaXNjb3VudEFtb3VudCA9IDA7XG4gICAgICAgIGlmKHNlbGYuZGVhbC5tZW1iZXIpIHtcbiAgICAgICAgICBzZWxmLnBvc3REYXRhLmRpc2NvdW50QW1vdW50ID0gc2VsZi5wb3N0RGF0YS50b3RhbEFtb3VudCooMTAwLXNlbGYuZGVhbC5tZW1iZXIuZGlzY291bnQpLzEwMDsgICAgICAgICAgIH1cbiAgICAgICAgc2VsZi5wb3N0RGF0YS5mZWUgPSBzZWxmLnBvc3REYXRhLnRvdGFsQW1vdW50IC0gc2VsZi5wb3N0RGF0YS5kaXNjb3VudEFtb3VudDtcbiAgICAgICAgc2VsZi5wb3N0RGF0YS5wYXltZW50LmFtb3VudCA9IHNlbGYucG9zdERhdGEuZmVlO1xuICAgICAgICBpZihzZWxmLnBvc3REYXRhLnBheW1lbnQudHlwZSA9PT0gJ2Nhc2gnKSB7XG4gICAgICAgICAgc2VsZi5wb3N0RGF0YS5wYXltZW50LmNoYW5nZSA9IHNlbGYucG9zdERhdGEuZmVlJSRyb290U2NvcGUudXNlci5tZXJjaGFudC5jaGFuZ2VSYXRlO1xuICAgICAgICAgIHNlbGYucG9zdERhdGEucGF5bWVudC5hbW91bnQgLT0gc2VsZi5wb3N0RGF0YS5wYXltZW50LmNoYW5nZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBmdW5jdGlvbiBjaGVja291dChlbnRpdHkpIHtcbiAgICAgICAgc2VsZi5wb3N0RGF0YS5wYXltZW50ID0ge3R5cGU6IHNlbGYuZGVhbC5wYXltZW50LnR5cGV9O1xuICAgICAgICBcbiAgICAgICAgdmFyIGVudGl0aWVzID0gc2VsZi5kZWFsLmVudGl0aWVzO1xuICAgICAgICBpZihlbnRpdHkpIGVudGl0aWVzID0gW2VudGl0eV07XG4gICAgICAgIFxuICAgICAgICBzZWxmLnBvc3REYXRhLmVudGl0aWVzID0gW107XG4gICAgICAgIGVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgIHZhciBlID0gIHtcbiAgICAgICAgICAgIHNrdTogZW50aXR5LnNrdSxcbiAgICAgICAgICAgIHF0eTogZW50aXR5LnF0eSAtIGVudGl0eS5yZXR1cm5lZFF0eVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihlLnF0eSA+IDApIHNlbGYucG9zdERhdGEuZW50aXRpZXMucHVzaChlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb3VudCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5nRGlhbG9nLm9wZW4oeyBcbiAgICAgICAgICB0ZW1wbGF0ZTogJ2NoZWNrb3V0UmV0dXJuRGlhbG9nSWQnLCBcbiAgICAgICAgICBjb250cm9sbGVyOiAnY2hlY2tvdXRSZXR1cm5EaWFsb2dDb250cm9sbGVyJ1xuICAgICAgICB9KS5jbG9zZVByb21pc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGRvUmV0dXJuKCkge1xuICAgICAgICBzZWxmLnBvc3REYXRhLnN0YXR1cyA9ICdjbG9zZWQnO1xuICAgICAgICByZXR1cm4gRGVhbC5yZXR1cm5zLmNyZWF0ZSh7aWQ6IHNlbGYuZGVhbC5pZH0sIHNlbGYucG9zdERhdGEpLiRwcm9taXNlO1xuICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnYXBwLnNhbGVzJylcbiAgICAgIC5jb250cm9sbGVyKCdTZWxsQ29udHJvbGxlcicsIFNlbGxDb250cm9sbGVyKVxuICAgICAgLmNvbnRyb2xsZXIoJ2NoZWNrb3V0RGlhbG9nQ29udHJvbGxlcicsIGNoZWNrb3V0RGlhbG9nQ29udHJvbGxlcilcbiAgICAgIC5jb250cm9sbGVyKCdEZWFsc0NvbnRyb2xsZXInLCBEZWFsc0NvbnRyb2xsZXIpXG4gICAgICAuY29udHJvbGxlcignRGVhbENvbnRyb2xsZXInLCBEZWFsQ29udHJvbGxlcilcbiAgICAgIC5jb250cm9sbGVyKCdjaGVja291dFJldHVybkRpYWxvZ0NvbnRyb2xsZXInLCBjaGVja291dFJldHVybkRpYWxvZ0NvbnRyb2xsZXIpXG4gICAgO1xuICAgICAgXG4gICAgU2VsbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ2RlYWxTZXJ2aWNlJywgJ0NoZWNraW4nXTtcbiAgICBmdW5jdGlvbiBTZWxsQ29udHJvbGxlcigkc2NvcGUsIGRlYWxTZXJ2aWNlLCBDaGVja2luKSB7XG4gICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICAgICAgXG4gICAgICBhY3RpdmF0ZSgpO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgJHNjb3BlLmRlYWxTZXJ2aWNlID0gZGVhbFNlcnZpY2U7XG4gICAgICAgIGlmKCFkZWFsU2VydmljZS5kZWFsKSB7XG4gICAgICAgICAgZGVhbFNlcnZpY2Uub3BlbkRlYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ0hFQ0tJTlxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbiAgICAgICAgdm0uY2hlY2tpbnMgPSBDaGVja2luLmZpbmQoe2ZpbHRlcjp7XG4gICAgICAgICAgd2hlcmU6IHttZXJjaGFudElkOiAkc2NvcGUudXNlci5zaG9wSWR9LFxuICAgICAgICAgIGluY2x1ZGU6IFt7bWVtYmVyOiAnd3h1c2VyJ31dLFxuICAgICAgICAgIGxpbWl0OiAxMCwgXG4gICAgICAgICAgb3JkZXI6ICdjcmVhdGVkIERFU0MnXG4gICAgICAgIH19KTtcbiAgICAgICAgXG4gICAgICAgIHZtLnRlbXBsYXRlVXJsID0gJ2NoZWNraW5zVGVtcGxhdGUuaHRtbCc7XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgY2hlY2tvdXREaWFsb2dDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICduZ0RpYWxvZycsICdkZWFsU2VydmljZScsICd0b2FzdGVyJ107XG4gICAgZnVuY3Rpb24gY2hlY2tvdXREaWFsb2dDb250cm9sbGVyKCRzY29wZSwgbmdEaWFsb2csIGRlYWxTZXJ2aWNlLCB0b2FzdGVyKSB7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgJHNjb3BlLmRlYWxTZXJ2aWNlID0gZGVhbFNlcnZpY2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICRzY29wZS5jb25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRlYWxTZXJ2aWNlLnBheSgpLnRoZW4oZnVuY3Rpb24gKGRlYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG5nRGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICBkZWFsU2VydmljZS5vcGVuRGVhbCgpO1xuICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCAn5oiQ5YqfJywgXCLlrozmiJDkuqTmmJNcIik7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgJ+Wksei0pScsIFwi5Lqk5piT5pyq5a6M5oiQ77yM6K+36YeN6K+V77yBXCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHNjb3BlLnN1Ym1pdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIERlYWxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnRGVhbCcsICduZ1RhYmxlUGFyYW1zJywgJ25nVGFibGVMQlNlcnZpY2UnXTtcbiAgICBmdW5jdGlvbiBEZWFsc0NvbnRyb2xsZXIoJHNjb3BlLCBEZWFsLCBuZ1RhYmxlUGFyYW1zLCBuZ1RhYmxlTEJTZXJ2aWNlKSB7XG4gICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgXG4gICAgICBhY3RpdmF0ZSgpO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgdm0ua2V5d29yZCA9IFwiXCI7XG4gICAgICAgIHZtLnRhYmxlUGFyYW1zID0gbmV3IG5nVGFibGVQYXJhbXMoe2NvdW50OiAxMH0sIHtcbiAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IHt3aGVyZTp7c3RhdHVzOntuZTonZGVsZXRlZCd9fSwgaW5jbHVkZTpbXX1cbiAgICAgICAgICAgIGlmKHZtLmtleXdvcmQgIT0gJycpIHtcbiAgICAgICAgICAgICAgdmFyIHFzID0ge3JlZ2V4OiBrZXl3b3JkfTtcbiAgICAgICAgICAgICAgZmlsdGVyLndoZXJlLm9yID0gW3tcImVudGl0aWVzLnNrdS5pdGVtLm5hbWVcIjpxc31dO1xuICAgICAgICAgICAgICBwYXJhbXMucGFnZSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5nVGFibGVMQlNlcnZpY2UuZ2V0RGF0YSgkZGVmZXIsIHBhcmFtcywgRGVhbCwgZmlsdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBEZWFsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnRGVhbCcsICduZ1RhYmxlUGFyYW1zJywgJ25nVGFibGVMQlNlcnZpY2UnLCAncmV0dXJuU2VydmljZSddO1xuICAgIGZ1bmN0aW9uIERlYWxDb250cm9sbGVyKCRzY29wZSwgRGVhbCwgbmdUYWJsZVBhcmFtcywgbmdUYWJsZUxCU2VydmljZSwgcmV0dXJuU2VydmljZSkge1xuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIFxuICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIHZtLnJldHVyblNrdSA9IHt9O1xuICAgICAgICB2bS5kZWFsID0gRGVhbC5maW5kT25lKHtmaWx0ZXI6e1xuICAgICAgICAgIHdoZXJlOiB7aWQ6ICRzY29wZS4kc3RhdGUucGFyYW1zLmRlYWxJZH0sXG4gICAgICAgICAgaW5jbHVkZTpbJ3JldHVybnMnLCAnYm9udXNlcyddXG4gICAgICAgIH19KTtcbiAgICAgICAgdm0uZGVhbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZWFsKSB7XG4gICAgICAgICAgdm0uZGVhbC5lbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgIGVudGl0eS5yZXR1cm5lZFF0eSA9IDA7XG4gICAgICAgICAgICB2bS5yZXR1cm5Ta3VbZW50aXR5LnNrdS5pZF0gPSBlbnRpdHk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYodm0uZGVhbC5yZXR1cm5zICYmIHZtLmRlYWwucmV0dXJucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2bS5kZWFsLnJldHVybnMuZm9yRWFjaChmdW5jdGlvbiAocmV0KSB7XG4gICAgICAgICAgICAgIHJldC5lbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXR1cm5FbnRpdHkpIHtcbiAgICAgICAgICAgICAgICB2bS5yZXR1cm5Ta3VbcmV0dXJuRW50aXR5LnNrdS5pZF0ucmV0dXJuZWRRdHkgKz0gcmV0dXJuRW50aXR5LnF0eTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZtLnJldHVybiA9IHZtLmRlYWwucmV0dXJuc1swXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0ucmV0dXJuID0ge2VudGl0aWVzOltdfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuU2VydmljZS5vcGVuUmV0dXJuKHZtLmRlYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdm0uZ29SZXR1cm4gPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgIHJldHVyblNlcnZpY2UuY2hlY2tvdXQoZW50aXR5KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tvdXRSZXR1cm5EaWFsb2dDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICduZ0RpYWxvZycsICdyZXR1cm5TZXJ2aWNlJywgJ3RvYXN0ZXInXTtcbiAgICBmdW5jdGlvbiBjaGVja291dFJldHVybkRpYWxvZ0NvbnRyb2xsZXIoJHNjb3BlLCBuZ0RpYWxvZywgcmV0dXJuU2VydmljZSwgdG9hc3Rlcikge1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICRzY29wZS5yZXR1cm5TZXJ2aWNlID0gcmV0dXJuU2VydmljZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuU2VydmljZS5kb1JldHVybigpLnRoZW4oZnVuY3Rpb24gKHJldCkge1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgbmdEaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ+aIkOWKnycsIFwi5a6M5oiQ6YCA5qy+6YCA6LSnXCIpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICflpLHotKUnLCBcIumAgOasvumAgOi0p+acquWujOaIkO+8jOivt+mHjeivle+8gVwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRzY29wZS5zdWJtaXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxufSkoKTsiLCIvKipcbiAqIEFuZ3VsYXJKUyBkZWZhdWx0IGZpbHRlciB3aXRoIHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbjpcbiAqIFwicGVyc29uIGluIHBlb3BsZSB8IGZpbHRlcjoge25hbWU6ICRzZWxlY3Quc2VhcmNoLCBhZ2U6ICRzZWxlY3Quc2VhcmNofVwiXG4gKiBwZXJmb3JtcyBhIEFORCBiZXR3ZWVuICduYW1lOiAkc2VsZWN0LnNlYXJjaCcgYW5kICdhZ2U6ICRzZWxlY3Quc2VhcmNoJy5cbiAqIFdlIHdhbnQgdG8gcGVyZm9ybSBhIE9SLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zYWxlcycpXG4gICAgICAgIC5maWx0ZXIoJ2RlYWxfc3RhdHVzJywgZGVhbFN0YXR1c0ZpbHRlcilcbiAgICAgICAgLmZpbHRlcigncGF5bWVudF90eXBlJywgcGF5bWVudFR5cGVGaWx0ZXIpXG4gICAgO1xuXG4gICAgcGF5bWVudFR5cGVGaWx0ZXIuJGluamVjdCA9IFsnZGVhbFNlcnZpY2UnXTtcbiAgICBmdW5jdGlvbiBwYXltZW50VHlwZUZpbHRlcihkZWFsU2VydmljZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGRlYWxTZXJ2aWNlLnBheVR5cGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRlYWxTdGF0dXNGaWx0ZXIuJGluamVjdCA9IFtdO1xuICAgIGZ1bmN0aW9uIGRlYWxTdGF0dXNGaWx0ZXIoKSB7XG4gICAgICB2YXIgZGljID0ge1xuICAgICAgICBjbG9zZWQ6ICflt7LlrozmiJAnXG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gZGljW2tleV07XG4gICAgICB9XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnYXBwLnNldHRpbmdzJylcbiAgICAgIC5jb250cm9sbGVyKCdTZXR0aW5nQ29udHJvbGxlcicsIFNldHRpbmdDb250cm9sbGVyKVxuICBcbiAgU2V0dGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnTWVyY2hhbnQnLCAnU2hvcCcsICdNZW1iZXInLCAndG9hc3RlciddO1xuICBmdW5jdGlvbiBTZXR0aW5nQ29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsIE1lcmNoYW50LCBTaG9wLCBNZW1iZXIsIHRvYXN0ZXIpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLmluZHVzdHJ5ID0ge1xuICAgICAgXCJJVOenkeaKgFwiOiB7XG4gICAgICAgIFwi5LqS6IGU572RL+eUteWtkOWVhuWKoVwiOiBcIjFcIixcbiAgICAgICAgXCJJVOi9r+S7tuS4juacjeWKoVwiOiBcIjJcIixcbiAgICAgICAgXCJJVOehrOS7tuS4juiuvuWkh1wiOiBcIjNcIixcbiAgICAgICAgXCLnlLXlrZDmioDmnK9cIjogXCI0XCIsXG4gICAgICAgIFwi6YCa5L+h5LiO6L+Q6JCl5ZWGXCI6IFwiNVwiLFxuICAgICAgICBcIue9kee7nOa4uOaIj1wiOiBcIjZcIlxuICAgICAgfSxcbiAgICAgIFwi6YeR6J6N5LiaXCI6IHtcbiAgICAgICAgXCLpk7booYxcIjogXCI3XCIsXG4gICAgICAgIFwi5Z+66YeRfOeQhui0onzkv6HmiZhcIjogXCI4XCIsXG4gICAgICAgIFwi5L+d6ZmpXCI6IFwiOVwiXG4gICAgICB9LFxuICAgICAgXCLppJDppa5cIjoge1xuICAgICAgICBcIumkkOmlrlwiOiBcIjEwXCJcbiAgICAgIH0sXG4gICAgICBcIumFkuW6l+aXhea4uFwiOiB7XG4gICAgICAgIFwi6YWS5bqXXCI6IFwiMTFcIixcbiAgICAgICAgXCLml4XmuLhcIjogXCIxMlwiXG4gICAgICB9LFxuICAgICAgXCLov5DovpPkuI7ku5PlgqhcIjoge1xuICAgICAgICBcIuW/q+mAklwiOiBcIjEzXCIsXG4gICAgICAgIFwi54mp5rWBXCI6IFwiMTRcIixcbiAgICAgICAgXCLku5PlgqhcIjogXCIxNVwiXG4gICAgICB9LFxuICAgICAgXCLmlZnogrJcIjoge1xuICAgICAgICBcIuWfueiurVwiOiBcIjE2XCIsXG4gICAgICAgIFwi6Zmi5qChXCI6IFwiMTdcIlxuICAgICAgfSxcbiAgICAgIFwi5pS/5bqc5LiO5YWs5YWx5LqL5LiaXCI6IHtcbiAgICAgICAgXCLlrabmnK/np5HnoJRcIjogXCIxOFwiLFxuICAgICAgICBcIuS6pOitplwiOiBcIjE5XCIsXG4gICAgICAgIFwi5Y2a54mp6aaGXCI6IFwiMjBcIixcbiAgICAgICAgXCLlhazlhbHkuovkuJp86Z2e55uI5Yip5py65p6EXCI6IFwiMjFcIlxuICAgICAgfSxcbiAgICAgIFwi5Yy76I2v5oqk55CGXCI6IHtcbiAgICAgICAgXCLljLvoja/ljLvnlpdcIjogXCIyMlwiLFxuICAgICAgICBcIuaKpOeQhue+juWuuVwiOiBcIjIzXCIsXG4gICAgICAgIFwi5L+d5YGl5LiO5Y2r55SfXCI6IFwiMjRcIlxuICAgICAgfSxcbiAgICAgIFwi5Lqk6YCa5bel5YW3XCI6IHtcbiAgICAgICAgXCLmsb3ovabnm7jlhbNcIjogXCIyNVwiLFxuICAgICAgICBcIuaRqeaJmOi9puebuOWFs1wiOiBcIjI2XCIsXG4gICAgICAgIFwi54Gr6L2m55u45YWzXCI6IFwiMjdcIixcbiAgICAgICAgXCLpo57mnLrnm7jlhbNcIjogXCIyOFwiXG4gICAgICB9LFxuICAgICAgXCLmiL/lnLDkuqdcIjoge1xuICAgICAgICBcIuW7uuetkVwiOiBcIjI5XCIsXG4gICAgICAgIFwi54mp5LiaXCI6IFwiMzBcIlxuICAgICAgfSxcbiAgICAgIFwi5raI6LS55ZOBXCI6IHtcbiAgICAgICAgXCLmtojotLnlk4FcIjogXCIzMVwiXG4gICAgICB9LFxuICAgICAgXCLllYbkuJrmnI3liqFcIjoge1xuICAgICAgICBcIuazleW+i1wiOiBcIjMyXCIsXG4gICAgICAgIFwi5Lya5bGVXCI6IFwiMzNcIixcbiAgICAgICAgXCLkuK3ku4vmnI3liqFcIjogXCIzNFwiLFxuICAgICAgICBcIuiupOivgVwiOiBcIjM1XCIsXG4gICAgICAgIFwi5a6h6K6hXCI6IFwiMzZcIlxuICAgICAgfSxcbiAgICAgIFwi5paH5L2T5aix5LmQXCI6IHtcbiAgICAgICAgXCLkvKDlqpJcIjogXCIzN1wiLFxuICAgICAgICBcIuS9k+iCslwiOiBcIjM4XCIsXG4gICAgICAgIFwi5aix5LmQ5LyR6ZeyXCI6IFwiMzlcIlxuICAgICAgfSxcbiAgICAgIFwi5Y2w5Yi3XCI6IHtcbiAgICAgICAgXCLljbDliLdcIjogXCI0MFwiXG4gICAgICB9LFxuICAgICAgXCLlhbblroNcIjoge1xuICAgICAgICBcIuWFtuWug1wiOiBcIjQxXCJcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYWN0aXZldGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2ZXRlKCkge1xuICAgICAgdm0ud3hnaCA9IE1lcmNoYW50LnByb3RvdHlwZSRfX2dldF9fd3hnaCh7aWQ6ICRzY29wZS51c2VyLm1lcmNoYW50SWQsIHJlZnJlc2g6IHRydWV9KTtcbiAgICB9XG5cbiAgICB2bS51cGRhdGUgPSBmdW5jdGlvbiAoaXNTaG9wKSB7XG4gICAgICB2YXIgbW9kZWwgPSBNZXJjaGFudDtcbiAgICAgIHZhciBkYXRhID0gJHNjb3BlLnVzZXIubWVyY2hhbnQ7XG4gICAgICBpZihpc1Nob3ApIHtcbiAgICAgICAgZGF0YSA9ICRzY29wZS51c2VyLnNob3A7XG4gICAgICAgIG1vZGVsID0gU2hvcDtcbiAgICAgIH1cbiAgICAgIG1vZGVsLnVwZGF0ZSh7d2hlcmU6IHtpZDogZGF0YS5pZH19LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3VsdCwgcmVzKSB7XG4gICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ+aIkOWKnycsIFwi6K6+572u5bey57uP5L+d5a2YXCIpO1xuICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgIHRvYXN0ZXIucG9wKCdlcnJvcicsICflpLHotKUnLCBcIuiuvue9ruacquaIkOWKn++8jOivt+mHjeivle+8gVwiKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHZtLmFkZE1lbWJlckxldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxldmVscyA9ICRzY29wZS51c2VyLm1lcmNoYW50Lm1lbWJlckxldmVscyB8fCBbXTtcbiAgICAgIHZhciBsYXN0ID0gbGV2ZWxzLmxlbmd0aCA+IDAgJiYgbGV2ZWxzW2xldmVscy5sZW5ndGgtMV0gfHwge3VwcGVyOiAtMX07XG4gICAgICBsZXZlbHMucHVzaCh7bG93ZXI6IGxhc3QudXBwZXIrMSwgdXBwZXI6IGxhc3QudXBwZXIrMTAwMCwgZGlzY291bnQ6MTAwLCBuYW1lOiAnVklQJ30pO1xuICAgICAgaWYoISRzY29wZS51c2VyLm1lcmNoYW50Lm1lbWJlckxldmVscykgJHNjb3BlLnVzZXIubWVyY2hhbnQubWVtYmVyTGV2ZWxzID0gbGV2ZWxzO1xuICAgIH1cbiAgICBcbiAgICB2bS51cGRhZXRlTWVtYmVyTGV2ZWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgJHNjb3BlLnVzZXIubWVyY2hhbnQubWVtYmVyTGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIE1lbWJlci51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7bWVyY2hhbnRJZDokc2NvcGUudXNlci5tZXJjaGFudC5pZCwgdG90YWxCb251czoge2d0ZTogbGV2ZWwubG93ZXIsIGx0ZTogbGV2ZWwudXBwZXJ9fVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZGlzY291bnQ6IGxldmVsLmRpc2NvdW50LCBsZXZlbDogbGV2ZWwubmFtZVxuICAgICAgICB9LCBmdW5jdGlvbiBzdWNlc3MocmVzdWx0LCByZXMpIHtcbiAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsICfmiJDlip8nLCBcIuabtOaWsOWFqOS9k+S8muWRmOetiee6p+WujOaIkFwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IocmVzKSB7XG4gICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgJ+Wksei0pScsIFwi5pu05paw5YWo5L2T5Lya5ZGY562J57qn5pyq5oiQ5Yqf77yM6K+36YeN6K+V77yBXCIpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgICAgICAgICAgXG4gICAgdm0udXBkYXRlV3hnaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZtLnVwZGF0ZSgpO1xuICAgICAgTWVyY2hhbnQudXBkYXRlV3hnaCh7XG4gICAgICAgIGlkOiB2bS53eGdoLmlkLFxuICAgICAgICBhcHBpZDogdm0ud3hnaC5hcHBpZCxcbiAgICAgICAgYXBwc2VjcmV0OiB2bS53eGdoLmFwcHNlY3JldCxcbiAgICAgICAgaW5kdXN0cnk6ICRzY29wZS51c2VyLm1lcmNoYW50LmluZHVzdHJ5XG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgJ+aIkOWKnycsIFwi5b6u5L+h5YWs5LyX5Y+36K6+572u5bey57uP5L+d5a2YXCIpO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCAn5aSx6LSlJywgXCLorr7nva7mnKrmiJDlip/vvIzor7fph43or5XvvIFcIilcbiAgICAgIH0pO1xuICAgIH0gXG4gIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuc2V0dGluZ3MnKVxyXG4gICAgICAgIC5ydW4oc2V0dGluZ3NSdW4pO1xyXG5cclxuICAgIHNldHRpbmdzUnVuLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGxvY2FsU3RvcmFnZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldHRpbmdzUnVuKCRyb290U2NvcGUsICRsb2NhbFN0b3JhZ2Upe1xyXG5cclxuICAgICAgLy8gR2xvYmFsIFNldHRpbmdzXHJcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAkcm9vdFNjb3BlLmFwcCA9IHtcclxuICAgICAgICBuYW1lOiAn5rOb5Y2h5rGHV2ViUE9TJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ+WcqOe6v+aUtumTtuezu+e7nycsXHJcbiAgICAgICAgeWVhcjogKChuZXcgRGF0ZSgpKS5nZXRGdWxsWWVhcigpKSxcclxuICAgICAgICBsYXlvdXQ6IHtcclxuICAgICAgICAgIGlzRml4ZWQ6IHRydWUsXHJcbiAgICAgICAgICBpc0NvbGxhcHNlZDogZmFsc2UsXHJcbiAgICAgICAgICBpc0JveGVkOiBmYWxzZSxcclxuICAgICAgICAgIGlzUlRMOiBmYWxzZSxcclxuICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxyXG4gICAgICAgICAgaXNGbG9hdDogZmFsc2UsXHJcbiAgICAgICAgICBhc2lkZUhvdmVyOiBmYWxzZSxcclxuICAgICAgICAgIHRoZW1lOiBcImFwcC9jc3MvdGhlbWUtZS5jc3NcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXNlRnVsbExheW91dDogZmFsc2UsXHJcbiAgICAgICAgaGlkZGVuRm9vdGVyOiBmYWxzZSxcclxuICAgICAgICBvZmZzaWRlYmFyT3BlbjogZmFsc2UsXHJcbiAgICAgICAgYXNpZGVUb2dnbGVkOiBmYWxzZSxcclxuICAgICAgICB2aWV3QW5pbWF0aW9uOiAnbmctZmFkZUluVXAnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXR1cCB0aGUgbGF5b3V0IG1vZGVcclxuICAgICAgJHJvb3RTY29wZS5hcHAubGF5b3V0Lmhvcml6b250YWwgPSAoICRyb290U2NvcGUuJHN0YXRlUGFyYW1zLmxheW91dCA9PT0gJ2FwcC1oJykgO1xyXG5cclxuICAgICAgLy8gUmVzdG9yZSBsYXlvdXQgc2V0dGluZ3NcclxuICAgICAgaWYoIGFuZ3VsYXIuaXNEZWZpbmVkKCRsb2NhbFN0b3JhZ2UubGF5b3V0KSApXHJcbiAgICAgICAgJHJvb3RTY29wZS5hcHAubGF5b3V0ID0gJGxvY2FsU3RvcmFnZS5sYXlvdXQ7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICAkbG9jYWxTdG9yYWdlLmxheW91dCA9ICRyb290U2NvcGUuYXBwLmxheW91dDtcclxuXHJcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKCdhcHAubGF5b3V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRsb2NhbFN0b3JhZ2UubGF5b3V0ID0gJHJvb3RTY29wZS5hcHAubGF5b3V0O1xyXG4gICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgIC8vIENsb3NlIHN1Ym1lbnUgd2hlbiBzaWRlYmFyIGNoYW5nZSBmcm9tIGNvbGxhcHNlZCB0byBub3JtYWxcclxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goJ2FwcC5sYXlvdXQuaXNDb2xsYXBzZWQnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmKCBuZXdWYWx1ZSA9PT0gZmFsc2UgKVxyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjbG9zZVNpZGViYXJNZW51Jyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IHNpZGViYXItbWVudS5qc1xyXG4gKiBIYW5kbGUgc2lkZWJhciBjb2xsYXBzaWJsZSBlbGVtZW50c1xyXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnNpZGViYXInKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdTaWRlYmFyQ29udHJvbGxlcicsIFNpZGViYXJDb250cm9sbGVyKTtcclxuXHJcbiAgICBTaWRlYmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnU2lkZWJhckxvYWRlcicsICdVdGlscyddO1xyXG4gICAgZnVuY3Rpb24gU2lkZWJhckNvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIFNpZGViYXJMb2FkZXIsICBVdGlscykge1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgdmFyIGNvbGxhcHNlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICAgIC8vIGRlbW86IHdoZW4gc3dpdGNoIGZyb20gY29sbGFwc2UgdG8gaG92ZXIsIGNsb3NlIGFsbCBpdGVtc1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kd2F0Y2goJ2FwcC5sYXlvdXQuYXNpZGVIb3ZlcicsIGZ1bmN0aW9uKG9sZFZhbCwgbmV3VmFsKXtcclxuICAgICAgICAgICAgaWYgKCBuZXdWYWwgPT09IGZhbHNlICYmIG9sZFZhbCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIGNsb3NlQWxsQnV0KC0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgIC8vIExvYWQgbWVudSBmcm9tIGpzb24gZmlsZVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgU2lkZWJhckxvYWRlci5nZXRNZW51KHNpZGViYXJSZWFkeSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZ1bmN0aW9uIHNpZGViYXJSZWFkeShpdGVtcykge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVudUl0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSGFuZGxlIHNpZGViYXIgYW5kIGNvbGxhcHNlIGl0ZW1zXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICBcclxuICAgICAgICAgICRzY29wZS5nZXRNZW51SXRlbVByb3BDbGFzc2VzID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGl0ZW0uaGVhZGluZyA/ICduYXYtaGVhZGluZycgOiAnJykgK1xyXG4gICAgICAgICAgICAgICAgICAgKGlzQWN0aXZlKGl0ZW0pID8gJyBhY3RpdmUnIDogJycpIDtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLmFkZENvbGxhcHNlID0gZnVuY3Rpb24oJGluZGV4LCBpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbGxhcHNlTGlzdFskaW5kZXhdID0gJHJvb3RTY29wZS5hcHAubGF5b3V0LmFzaWRlSG92ZXIgPyB0cnVlIDogIWlzQWN0aXZlKGl0ZW0pO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuaXNDb2xsYXBzZSA9IGZ1bmN0aW9uKCRpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNvbGxhcHNlTGlzdFskaW5kZXhdKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLnRvZ2dsZUNvbGxhcHNlID0gZnVuY3Rpb24oJGluZGV4LCBpc1BhcmVudEl0ZW0pIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGxhcHNlZCBzaWRlYmFyIGRvZXNuJ3QgdG9nZ2xlIGRyb2RvcHduXHJcbiAgICAgICAgICAgIGlmKCBVdGlscy5pc1NpZGViYXJDb2xsYXBzZWQoKSB8fCAkcm9vdFNjb3BlLmFwcC5sYXlvdXQuYXNpZGVIb3ZlciApIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBpdGVtIGluZGV4IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiggYW5ndWxhci5pc0RlZmluZWQoIGNvbGxhcHNlTGlzdFskaW5kZXhdICkgKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCAhICRzY29wZS5sYXN0RXZlbnRGcm9tQ2hpbGQgKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsYXBzZUxpc3RbJGluZGV4XSA9ICFjb2xsYXBzZUxpc3RbJGluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNsb3NlQWxsQnV0KCRpbmRleCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCBpc1BhcmVudEl0ZW0gKSB7XHJcbiAgICAgICAgICAgICAgY2xvc2VBbGxCdXQoLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUubGFzdEV2ZW50RnJvbUNoaWxkID0gaXNDaGlsZCgkaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gQ29udHJvbGxlciBoZWxwZXJzXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGl0ZW0gYW5kIGNoaWxkcmVuIGFjdGl2ZSBzdGF0ZVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0FjdGl2ZShpdGVtKSB7XHJcblxyXG4gICAgICAgICAgICAgIGlmKCFpdGVtKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgIGlmKCAhaXRlbS5zcmVmIHx8IGl0ZW0uc3JlZiA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm91bmRBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtLnN1Ym1lbnUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGlzQWN0aXZlKHZhbHVlKSkgZm91bmRBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRBY3RpdmU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGUuaXMoaXRlbS5zcmVmKSB8fCAkc3RhdGUuaW5jbHVkZXMoaXRlbS5zcmVmKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xvc2VBbGxCdXQoaW5kZXgpIHtcclxuICAgICAgICAgICAgICBpbmRleCArPSAnJztcclxuICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gY29sbGFwc2VMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihpbmRleCA8IDAgfHwgaW5kZXguaW5kZXhPZihpKSA8IDApXHJcbiAgICAgICAgICAgICAgICAgIGNvbGxhcHNlTGlzdFtpXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0NoaWxkKCRpbmRleCkge1xyXG4gICAgICAgICAgICAgIC8qanNoaW50IC1XMDE4Ki9cclxuICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZiAkaW5kZXggPT09ICdzdHJpbmcnKSAmJiAhKCRpbmRleC5pbmRleE9mKCctJykgPCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIH0gLy8gYWN0aXZhdGVcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IHNpZGViYXIuanNcclxuICogV3JhcHMgdGhlIHNpZGViYXIgYW5kIGhhbmRsZXMgY29sbGFwc2VkIHN0YXRlXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAuc2lkZWJhcicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2lkZWJhcicsIHNpZGViYXIpO1xyXG5cclxuICAgIHNpZGViYXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckdGltZW91dCcsICckd2luZG93JywgJ1V0aWxzJ107XHJcbiAgICBmdW5jdGlvbiBzaWRlYmFyICgkcm9vdFNjb3BlLCAkdGltZW91dCwgJHdpbmRvdywgVXRpbHMpIHtcclxuICAgICAgICB2YXIgJHdpbiA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KTtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICAvLyBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBjb250cm9sbGVyOiBDb250cm9sbGVyLFxyXG4gICAgICAgICAgICAvLyBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxuYXYgY2xhc3M9XCJzaWRlYmFyXCIgbmctdHJhbnNjbHVkZT48L25hdj4nLFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlXHJcbiAgICAgICAgICAgIC8vIHNjb3BlOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHJcbiAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gJHJvb3RTY29wZS4kc3RhdGUuY3VycmVudC5uYW1lO1xyXG4gICAgICAgICAgdmFyICRzaWRlYmFyID0gZWxlbWVudDtcclxuXHJcbiAgICAgICAgICB2YXIgZXZlbnROYW1lID0gVXRpbHMuaXNUb3VjaCgpID8gJ2NsaWNrJyA6ICdtb3VzZWVudGVyJyA7XHJcbiAgICAgICAgICB2YXIgc3ViTmF2ID0gJCgpO1xyXG5cclxuICAgICAgICAgICRzaWRlYmFyLm9uKCBldmVudE5hbWUsICcubmF2ID4gbGknLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIGlmKCBVdGlscy5pc1NpZGViYXJDb2xsYXBzZWQoKSB8fCAkcm9vdFNjb3BlLmFwcC5sYXlvdXQuYXNpZGVIb3ZlciApIHtcclxuXHJcbiAgICAgICAgICAgICAgc3ViTmF2LnRyaWdnZXIoJ21vdXNlbGVhdmUnKTtcclxuICAgICAgICAgICAgICBzdWJOYXYgPSB0b2dnbGVNZW51SXRlbSggJCh0aGlzKSwgJHNpZGViYXIpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBVc2VkIHRvIGRldGVjdCBjbGljayBhbmQgdG91Y2ggZXZlbnRzIG91dHNpZGUgdGhlIHNpZGViYXIgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgc2lkZWJhckFkZEJhY2tkcm9wKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgc2NvcGUuJG9uKCdjbG9zZVNpZGViYXJNZW51JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZsb2F0aW5nTmF2KCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBOb3JtYWxpemUgc3RhdGUgd2hlbiByZXNpemUgdG8gbW9iaWxlXHJcbiAgICAgICAgICAkd2luLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYoICEgVXRpbHMuaXNNb2JpbGUoKSApXHJcbiAgICAgICAgICBcdGFzaWRlVG9nZ2xlT2ZmKCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBBZGp1c3RtZW50IG9uIHJvdXRlIGNoYW5nZXNcclxuICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHRvU3RhdGUubmFtZTtcclxuICAgICAgICAgICAgLy8gSGlkZSBzaWRlYmFyIGF1dG9tYXRpY2FsbHkgb24gbW9iaWxlXHJcbiAgICAgICAgICAgIGFzaWRlVG9nZ2xlT2ZmKCk7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2Nsb3NlU2lkZWJhck1lbnUnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgXHQgIC8vIEF1dG9jbG9zZSB3aGVuIGNsaWNrIG91dHNpZGUgdGhlIHNpZGViYXJcclxuICAgICAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2lkZWJhckFueWNsaWNrQ2xvc2UpICkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKCcud3JhcHBlcicpO1xyXG4gICAgICAgICAgICB2YXIgc2JjbGlja0V2ZW50ID0gJ2NsaWNrLnNpZGViYXInO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kd2F0Y2goJ2FwcC5hc2lkZVRvZ2dsZWQnLCB3YXRjaEV4dGVybmFsQ2xpY2tzKTtcclxuXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8vLy8vXHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gd2F0Y2hFeHRlcm5hbENsaWNrcyhuZXdWYWwpIHtcclxuICAgICAgICAgICAgLy8gaWYgc2lkZWJhciBiZWNvbWVzIHZpc2libGVcclxuICAgICAgICAgICAgaWYgKCBuZXdWYWwgPT09IHRydWUgKSB7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXsgLy8gcmVuZGVyIGFmdGVyIGN1cnJlbnQgZGlnZXN0IGN5Y2xlXHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLm9uKHNiY2xpY2tFdmVudCwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBjaGlsZCBvZiBzaWRlYmFyXHJcbiAgICAgICAgICAgICAgICAgIGlmKCAhICQoZS50YXJnZXQpLnBhcmVudHMoJy5hc2lkZScpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICBhc2lkZVRvZ2dsZU9mZigpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBkZXR0YWNoIGV2ZW50XHJcbiAgICAgICAgICAgICAgd3JhcHBlci5vZmYoc2JjbGlja0V2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGFzaWRlVG9nZ2xlT2ZmKCkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmFwcC5hc2lkZVRvZ2dsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYoIXNjb3BlLiQkcGhhc2UpIHNjb3BlLiRhcHBseSgpOyAvLyBhbnRpLXBhdHRlcm4gYnV0IHNvbWV0aW1lcyBuZWNlc3NhcnlcclxuICAgICAgXHQgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaWRlYmFyQWRkQmFja2Ryb3AoKSB7XHJcbiAgICAgICAgICB2YXIgJGJhY2tkcm9wID0gJCgnPGRpdi8+JywgeyAnY2xhc3MnOiAnZHJvcGRvd24tYmFja2Ryb3AnfSApO1xyXG4gICAgICAgICAgJGJhY2tkcm9wLmluc2VydEFmdGVyKCcuYXNpZGUtaW5uZXInKS5vbignY2xpY2sgbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlRmxvYXRpbmdOYXYoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT3BlbiB0aGUgY29sbGFwc2Ugc2lkZWJhciBzdWJtZW51IGl0ZW1zIHdoZW4gb24gdG91Y2ggZGV2aWNlcyBcclxuICAgICAgICAvLyAtIGRlc2t0b3Agb25seSBvcGVucyBvbiBob3ZlclxyXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvdWNoSXRlbSgkZWxlbWVudCl7XHJcbiAgICAgICAgICAkZWxlbWVudFxyXG4gICAgICAgICAgICAuc2libGluZ3MoJ2xpJylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdvcGVuJylcclxuICAgICAgICAgICAgLmVuZCgpXHJcbiAgICAgICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlcyBob3ZlciB0byBvcGVuIGl0ZW1zIHVuZGVyIGNvbGxhcHNlZCBtZW51XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlTWVudUl0ZW0oJGxpc3RJdGVtLCAkc2lkZWJhcikge1xyXG5cclxuICAgICAgICAgIHJlbW92ZUZsb2F0aW5nTmF2KCk7XHJcblxyXG4gICAgICAgICAgdmFyIHVsID0gJGxpc3RJdGVtLmNoaWxkcmVuKCd1bCcpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiggIXVsLmxlbmd0aCApIHJldHVybiAkKCk7XHJcbiAgICAgICAgICBpZiggJGxpc3RJdGVtLmhhc0NsYXNzKCdvcGVuJykgKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVRvdWNoSXRlbSgkbGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICByZXR1cm4gJCgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciAkYXNpZGUgPSAkKCcuYXNpZGUnKTtcclxuICAgICAgICAgIHZhciAkYXNpZGVJbm5lciA9ICQoJy5hc2lkZS1pbm5lcicpOyAvLyBmb3IgdG9wIG9mZnNldCBjYWxjdWxhdGlvblxyXG4gICAgICAgICAgLy8gZmxvYXQgYXNpZGUgdXNlcyBleHRyYSBwYWRkaW5nIG9uIGFzaWRlXHJcbiAgICAgICAgICB2YXIgbWFyID0gcGFyc2VJbnQoICRhc2lkZUlubmVyLmNzcygncGFkZGluZy10b3AnKSwgMCkgKyBwYXJzZUludCggJGFzaWRlLmNzcygncGFkZGluZy10b3AnKSwgMCk7XHJcbiAgICAgICAgICB2YXIgc3ViTmF2ID0gdWwuY2xvbmUoKS5hcHBlbmRUbyggJGFzaWRlICk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRvZ2dsZVRvdWNoSXRlbSgkbGlzdEl0ZW0pO1xyXG5cclxuICAgICAgICAgIHZhciBpdGVtVG9wID0gKCRsaXN0SXRlbS5wb3NpdGlvbigpLnRvcCArIG1hcikgLSAkc2lkZWJhci5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgIHZhciB2d0hlaWdodCA9ICR3aW4uaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgc3ViTmF2XHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnbmF2LWZsb2F0aW5nJylcclxuICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246ICRyb290U2NvcGUuYXBwLmxheW91dC5pc0ZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgdG9wOiAgICAgIGl0ZW1Ub3AsXHJcbiAgICAgICAgICAgICAgYm90dG9tOiAgIChzdWJOYXYub3V0ZXJIZWlnaHQodHJ1ZSkgKyBpdGVtVG9wID4gdndIZWlnaHQpID8gMCA6ICdhdXRvJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzdWJOYXYub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdG9nZ2xlVG91Y2hJdGVtKCRsaXN0SXRlbSk7XHJcbiAgICAgICAgICAgIHN1Yk5hdi5yZW1vdmUoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBzdWJOYXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVGbG9hdGluZ05hdigpIHtcclxuICAgICAgICAgICQoJy5kcm9wZG93bi1iYWNrZHJvcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJCgnLnNpZGViYXItc3VibmF2Lm5hdi1mbG9hdGluZycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJCgnLnNpZGViYXIgbGkub3BlbicpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0pKCk7XHJcblxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zaWRlYmFyJylcclxuICAgICAgICAuc2VydmljZSgnU2lkZWJhckxvYWRlcicsIFNpZGViYXJMb2FkZXIpO1xyXG5cclxuICAgIFNpZGViYXJMb2FkZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcclxuICAgIGZ1bmN0aW9uIFNpZGViYXJMb2FkZXIoJGh0dHApIHtcclxuICAgICAgICB0aGlzLmdldE1lbnUgPSBnZXRNZW51O1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1lbnUob25SZWFkeSwgb25FcnJvcikge1xyXG4gICAgICAgICAgdmFyIG1lbnVKc29uID0gJ3NlcnZlci9zaWRlYmFyLW1lbnUuanNvbicsXHJcbiAgICAgICAgICAgICAgbWVudVVSTCAgPSBtZW51SnNvbiArICc/dj0nICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsgLy8ganVtcHMgY2FjaGVcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICBvbkVycm9yID0gb25FcnJvciB8fCBmdW5jdGlvbigpIHsgYWxlcnQoJ0ZhaWx1cmUgbG9hZGluZyBtZW51Jyk7IH07XHJcblxyXG4gICAgICAgICAgJGh0dHBcclxuICAgICAgICAgICAgLmdldChtZW51VVJMKVxyXG4gICAgICAgICAgICAuc3VjY2VzcyhvblJlYWR5KVxyXG4gICAgICAgICAgICAuZXJyb3Iob25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC5zaWRlYmFyJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1VzZXJCbG9ja0NvbnRyb2xsZXInLCBVc2VyQmxvY2tDb250cm9sbGVyKTtcblxuICAgIFVzZXJCbG9ja0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuICAgIGZ1bmN0aW9uIFVzZXJCbG9ja0NvbnRyb2xsZXIoJHJvb3RTY29wZSkge1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICRyb290U2NvcGUudXNlciA9ICRyb290U2NvcGUudXNlciB8fCB7XG4gICAgICAgICAgICBuYW1lOiAgICAgJ0pvaG4nLFxuICAgICAgICAgICAgam9iOiAgICAgICduZy1kZXZlbG9wZXInLFxuICAgICAgICAgICAgcGljdHVyZTogICdhcHAvaW1nL3VzZXIvMDIuanBnJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBIaWRlcy9zaG93IHVzZXIgYXZhdGFyIG9uIHNpZGViYXJcbiAgICAgICAgICAkcm9vdFNjb3BlLnRvZ2dsZVVzZXJCbG9jayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZVVzZXJCbG9jaycpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJCbG9ja1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgICRyb290U2NvcGUuJG9uKCd0b2dnbGVVc2VyQmxvY2snLCBmdW5jdGlvbigvKmV2ZW50LCBhcmdzKi8pIHtcblxuICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyQmxvY2tWaXNpYmxlID0gISAkcm9vdFNjb3BlLnVzZXJCbG9ja1Zpc2libGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBhbmd1bGFyLWdyaWQuanNcclxuICogRXhhbXBsZSBmb3IgQW5ndWxhciBHcmlkXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAudGFibGVzJylcclxuICAgICAgICAuY29udHJvbGxlcignQW5ndWxhckdyaWRDb250cm9sbGVyJywgQW5ndWxhckdyaWRDb250cm9sbGVyKTtcclxuXHJcbiAgICBBbmd1bGFyR3JpZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcclxuICAgIGZ1bmN0aW9uIEFuZ3VsYXJHcmlkQ29udHJvbGxlcigkaHR0cCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBCYXNpY1xyXG4gICAgICAgICAgICB2YXIgY29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ0F0aGxldGUnLCBmaWVsZDogJ2F0aGxldGUnLCB3aWR0aDogMTUwfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ0FnZScsIGZpZWxkOiAnYWdlJywgd2lkdGg6IDkwfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ0NvdW50cnknLCBmaWVsZDogJ2NvdW50cnknLCB3aWR0aDogMTIwfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ1llYXInLCBmaWVsZDogJ3llYXInLCB3aWR0aDogOTB9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnRGF0ZScsIGZpZWxkOiAnZGF0ZScsIHdpZHRoOiAxMTB9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnU3BvcnQnLCBmaWVsZDogJ3Nwb3J0Jywgd2lkdGg6IDExMH0sXHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU6ICdHb2xkJywgZmllbGQ6ICdnb2xkJywgd2lkdGg6IDEwMH0sXHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU6ICdTaWx2ZXInLCBmaWVsZDogJ3NpbHZlcicsIHdpZHRoOiAxMDB9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnQnJvbnplJywgZmllbGQ6ICdicm9uemUnLCB3aWR0aDogMTAwfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ1RvdGFsJywgZmllbGQ6ICd0b3RhbCcsIHdpZHRoOiAxMDB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2bS5ncmlkT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IGNvbHVtbkRlZnMsXHJcbiAgICAgICAgICAgICAgICByb3dEYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uKGFwaSl7XHJcbiAgICAgICAgICAgICAgICAgIGFwaS5zaXplQ29sdW1uc1RvRml0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBGaWx0ZXIgRXhhbXBsZVxyXG4gICAgICAgICAgICB2YXIgaXJpc2hBdGhsZXRlcyA9IFsnSm9obiBKb2UgTmV2aW4nLCdLYXRpZSBUYXlsb3InLCdQYWRkeSBCYXJuZXMnLCdLZW5ueSBFZ2FuJywnRGFycmVuIFN1dGhlcmxhbmQnLCAnTWFyZ2FyZXQgVGhhdGNoZXInLCAnVG9ueSBCbGFpcicsICdSb25hbGQgUmVnYW4nLCAnQmFyYWNrIE9iYW1hJ107XHJcblxyXG4gICAgICAgICAgICB2YXIgY29sdW1uRGVmc0ZpbHRlciA9IFtcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ0F0aGxldGUnLCBmaWVsZDogJ2F0aGxldGUnLCB3aWR0aDogMTUwLCBmaWx0ZXI6ICdzZXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclBhcmFtczogeyBjZWxsSGVpZ2h0OiAyMCwgdmFsdWVzOiBpcmlzaEF0aGxldGVzfSB9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnQWdlJywgZmllbGQ6ICdhZ2UnLCB3aWR0aDogOTAsIGZpbHRlcjogJ251bWJlcid9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnQ291bnRyeScsIGZpZWxkOiAnY291bnRyeScsIHdpZHRoOiAxMjB9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnWWVhcicsIGZpZWxkOiAneWVhcicsIHdpZHRoOiA5MH0sXHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU6ICdEYXRlJywgZmllbGQ6ICdkYXRlJywgd2lkdGg6IDExMH0sXHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU6ICdTcG9ydCcsIGZpZWxkOiAnc3BvcnQnLCB3aWR0aDogMTEwfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ0dvbGQnLCBmaWVsZDogJ2dvbGQnLCB3aWR0aDogMTAwLCBmaWx0ZXI6ICdudW1iZXInfSxcclxuICAgICAgICAgICAgICAgIHtkaXNwbGF5TmFtZTogJ1NpbHZlcicsIGZpZWxkOiAnc2lsdmVyJywgd2lkdGg6IDEwMCwgZmlsdGVyOiAnbnVtYmVyJ30sXHJcbiAgICAgICAgICAgICAgICB7ZGlzcGxheU5hbWU6ICdCcm9uemUnLCBmaWVsZDogJ2Jyb256ZScsIHdpZHRoOiAxMDAsIGZpbHRlcjogJ251bWJlcid9LFxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlOYW1lOiAnVG90YWwnLCBmaWVsZDogJ3RvdGFsJywgd2lkdGg6IDEwMCwgZmlsdGVyOiAnbnVtYmVyJ31cclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIHZtLmdyaWRPcHRpb25zMSA9IHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IGNvbHVtbkRlZnNGaWx0ZXIsXHJcbiAgICAgICAgICAgICAgICByb3dEYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlRmlsdGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uKGFwaSl7XHJcbiAgICAgICAgICAgICAgICAgIGFwaS5zaXplQ29sdW1uc1RvRml0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIFBpbm5pbmcgRXhhbXBsZVxyXG5cclxuICAgICAgICAgICAgdm0uZ3JpZE9wdGlvbnMyID0ge1xyXG4gICAgICAgICAgICAgICAgY29sdW1uRGVmczogY29sdW1uRGVmcyxcclxuICAgICAgICAgICAgICAgIHJvd0RhdGE6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwaW5uZWRDb2x1bW5Db3VudDogMixcclxuICAgICAgICAgICAgICAgIHJlYWR5OiBmdW5jdGlvbihhcGkpe1xyXG4gICAgICAgICAgICAgICAgICBhcGkuc2l6ZUNvbHVtbnNUb0ZpdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGRhdGEgZnJvbSBTRVJWRVJcclxuICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCdzZXJ2ZXIvYWctb3dpbm5lcnMuanNvbicpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJhc2ljXHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZ3JpZE9wdGlvbnMucm93RGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmdyaWRPcHRpb25zLmFwaS5vbk5ld1Jvd3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICB2bS5ncmlkT3B0aW9uczEucm93RGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmdyaWRPcHRpb25zMS5hcGkub25OZXdSb3dzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGlubmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmdyaWRPcHRpb25zMi5yb3dEYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZ3JpZE9wdGlvbnMyLmFwaS5vbk5ld1Jvd3MoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGRhdGF0YWJsZSxqc1xyXG4gKiBBbmd1bGFyIERhdGF0YWJsZSBjb250cm9sbGVyXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAudGFibGVzJylcclxuICAgICAgICAuY29udHJvbGxlcignRGF0YVRhYmxlQ29udHJvbGxlcicsIERhdGFUYWJsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIERhdGFUYWJsZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJlc291cmNlJywgJ0RUT3B0aW9uc0J1aWxkZXInLCAnRFRDb2x1bW5EZWZCdWlsZGVyJ107XHJcbiAgICBmdW5jdGlvbiBEYXRhVGFibGVDb250cm9sbGVyKCRyZXNvdXJjZSwgRFRPcHRpb25zQnVpbGRlciwgRFRDb2x1bW5EZWZCdWlsZGVyKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHJcbiAgICAgICAgICAvLyBBamF4XHJcblxyXG4gICAgICAgICAgJHJlc291cmNlKCdzZXJ2ZXIvZGF0YXRhYmxlLmpzb24nKS5xdWVyeSgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocGVyc29ucykge1xyXG4gICAgICAgICAgICAgdm0ucGVyc29ucyA9IHBlcnNvbnM7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBDaGFuZ2luZyBkYXRhXHJcblxyXG4gICAgICAgICAgdm0uaGVyb2VzID0gW3tcclxuICAgICAgICAgICAgICAnaWQnOiA4NjAsXHJcbiAgICAgICAgICAgICAgJ2ZpcnN0TmFtZSc6ICdTdXBlcm1hbicsXHJcbiAgICAgICAgICAgICAgJ2xhc3ROYW1lJzogJ1lvZGEnXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAnaWQnOiA4NzAsXHJcbiAgICAgICAgICAgICAgJ2ZpcnN0TmFtZSc6ICdBY2UnLFxyXG4gICAgICAgICAgICAgICdsYXN0TmFtZSc6ICdWZW50dXJhJ1xyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgJ2lkJzogNTkwLFxyXG4gICAgICAgICAgICAgICdmaXJzdE5hbWUnOiAnRmxhc2gnLFxyXG4gICAgICAgICAgICAgICdsYXN0TmFtZSc6ICdHb3Jkb24nXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAnaWQnOiA4MDMsXHJcbiAgICAgICAgICAgICAgJ2ZpcnN0TmFtZSc6ICdMdWtlJyxcclxuICAgICAgICAgICAgICAnbGFzdE5hbWUnOiAnU2t5d2Fsa2VyJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLmR0T3B0aW9ucyA9IERUT3B0aW9uc0J1aWxkZXIubmV3T3B0aW9ucygpLndpdGhQYWdpbmF0aW9uVHlwZSgnZnVsbF9udW1iZXJzJyk7XHJcbiAgICAgICAgICB2bS5kdENvbHVtbkRlZnMgPSBbXHJcbiAgICAgICAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZigwKSxcclxuICAgICAgICAgICAgICBEVENvbHVtbkRlZkJ1aWxkZXIubmV3Q29sdW1uRGVmKDEpLFxyXG4gICAgICAgICAgICAgIERUQ29sdW1uRGVmQnVpbGRlci5uZXdDb2x1bW5EZWYoMiksXHJcbiAgICAgICAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZigzKS5ub3RTb3J0YWJsZSgpXHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgICAgdm0ucGVyc29uMkFkZCA9IF9idWlsZFBlcnNvbjJBZGQoMSk7XHJcbiAgICAgICAgICB2bS5hZGRQZXJzb24gPSBhZGRQZXJzb247XHJcbiAgICAgICAgICB2bS5tb2RpZnlQZXJzb24gPSBtb2RpZnlQZXJzb247XHJcbiAgICAgICAgICB2bS5yZW1vdmVQZXJzb24gPSByZW1vdmVQZXJzb247XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gX2J1aWxkUGVyc29uMkFkZChpZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiAnRm9vJyArIGlkLFxyXG4gICAgICAgICAgICAgICAgICBsYXN0TmFtZTogJ0JhcicgKyBpZFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmdW5jdGlvbiBhZGRQZXJzb24oKSB7XHJcbiAgICAgICAgICAgICAgdm0uaGVyb2VzLnB1c2goYW5ndWxhci5jb3B5KHZtLnBlcnNvbjJBZGQpKTtcclxuICAgICAgICAgICAgICB2bS5wZXJzb24yQWRkID0gX2J1aWxkUGVyc29uMkFkZCh2bS5wZXJzb24yQWRkLmlkICsgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmdW5jdGlvbiBtb2RpZnlQZXJzb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgICB2bS5oZXJvZXMuc3BsaWNlKGluZGV4LCAxLCBhbmd1bGFyLmNvcHkodm0ucGVyc29uMkFkZCkpO1xyXG4gICAgICAgICAgICAgIHZtLnBlcnNvbjJBZGQgPSBfYnVpbGRQZXJzb24yQWRkKHZtLnBlcnNvbjJBZGQuaWQgKyAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlcnNvbihpbmRleCkge1xyXG4gICAgICAgICAgICAgIHZtLmhlcm9lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IG5nLWdyaWQuanNcclxuICogbmdHcmlkIGRlbW9cclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50YWJsZXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdOR0dyaWRDb250cm9sbGVyJywgTkdHcmlkQ29udHJvbGxlcik7XHJcblxyXG4gICAgTkdHcmlkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRpbWVvdXQnXTtcclxuICAgIGZ1bmN0aW9uIE5HR3JpZENvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQpIHtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuZmlsdGVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICBmaWx0ZXJUZXh0OiAnJyxcclxuICAgICAgICAgICAgICB1c2VFeHRlcm5hbEZpbHRlcjogdHJ1ZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgICRzY29wZS50b3RhbFNlcnZlckl0ZW1zID0gMDtcclxuICAgICAgICAgICRzY29wZS5wYWdpbmdPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgIHBhZ2VTaXplczogICBbMjUwLCA1MDAsIDEwMDBdLCAgLy8gcGFnZSBzaXplIG9wdGlvbnNcclxuICAgICAgICAgICAgICBwYWdlU2l6ZTogICAgMjUwLCAgICAgICAgICAgICAgLy8gZGVmYXVsdCBwYWdlIHNpemVcclxuICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbCBwYWdlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5ncmlkT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICBkYXRhOiAgICAgICAgICAgICAnbXlEYXRhJyxcclxuICAgICAgICAgICAgICBlbmFibGVQYWdpbmc6ICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgIHNob3dGb290ZXI6ICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgcm93SGVpZ2h0OiAgICAgICAgMzYsXHJcbiAgICAgICAgICAgICAgaGVhZGVyUm93SGVpZ2h0OiAgMzgsXHJcbiAgICAgICAgICAgICAgdG90YWxTZXJ2ZXJJdGVtczogJ3RvdGFsU2VydmVySXRlbXMnLFxyXG4gICAgICAgICAgICAgIHBhZ2luZ09wdGlvbnM6ICAgICRzY29wZS5wYWdpbmdPcHRpb25zLFxyXG4gICAgICAgICAgICAgIGZpbHRlck9wdGlvbnM6ICAgICRzY29wZS5maWx0ZXJPcHRpb25zXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5zZXRQYWdpbmdEYXRhID0gZnVuY3Rpb24oZGF0YSwgcGFnZSwgcGFnZVNpemUpe1xyXG4gICAgICAgICAgICAgIC8vIGNhbGMgZm9yIHBhZ2VyXHJcbiAgICAgICAgICAgICAgdmFyIHBhZ2VkRGF0YSA9IGRhdGEuc2xpY2UoKHBhZ2UgLSAxKSAqIHBhZ2VTaXplLCBwYWdlICogcGFnZVNpemUpO1xyXG4gICAgICAgICAgICAgIC8vIFN0b3JlIGRhdGEgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAgICAgICAkc2NvcGUubXlEYXRhID0gcGFnZWREYXRhO1xyXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZXJ2ZXIgc2lkZSBkYXRhIGxlbmd0aFxyXG4gICAgICAgICAgICAgICRzY29wZS50b3RhbFNlcnZlckl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5nZXRQYWdlZERhdGFBc3luYyA9IGZ1bmN0aW9uIChwYWdlU2l6ZSwgcGFnZSwgc2VhcmNoVGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgbmdHcmlkUmVzb3VyY2VQYXRoID0gJ3NlcnZlci9uZy1ncmlkLWRhdGEuanNvbic7XHJcblxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZnQgPSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZ2V0KG5nR3JpZFJlc291cmNlUGF0aCkuc3VjY2VzcyhmdW5jdGlvbiAobGFyZ2VMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbGFyZ2VMb2FkLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaXRlbSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZ0KSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0UGFnaW5nRGF0YShkYXRhLHBhZ2UscGFnZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQobmdHcmlkUmVzb3VyY2VQYXRoKS5zdWNjZXNzKGZ1bmN0aW9uIChsYXJnZUxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFBhZ2luZ0RhdGEobGFyZ2VMb2FkLHBhZ2UscGFnZVNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaCgncGFnaW5nT3B0aW9ucycsIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkge1xyXG4gICAgICAgICAgICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCAmJiBuZXdWYWwuY3VycmVudFBhZ2UgIT09IG9sZFZhbC5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldFBhZ2VkRGF0YUFzeW5jKCRzY29wZS5wYWdpbmdPcHRpb25zLnBhZ2VTaXplLCAkc2NvcGUucGFnaW5nT3B0aW9ucy5jdXJyZW50UGFnZSwgJHNjb3BlLmZpbHRlck9wdGlvbnMuZmlsdGVyVGV4dCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdmaWx0ZXJPcHRpb25zJywgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPT0gb2xkVmFsKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0UGFnZWREYXRhQXN5bmMoJHNjb3BlLnBhZ2luZ09wdGlvbnMucGFnZVNpemUsICRzY29wZS5wYWdpbmdPcHRpb25zLmN1cnJlbnRQYWdlLCAkc2NvcGUuZmlsdGVyT3B0aW9ucy5maWx0ZXJUZXh0KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuZ2V0UGFnZWREYXRhQXN5bmMoJHNjb3BlLnBhZ2luZ09wdGlvbnMucGFnZVNpemUsICRzY29wZS5wYWdpbmdPcHRpb25zLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnRhYmxlcycpXHJcbiAgICAgICAgLnNlcnZpY2UoJ25nVGFibGVEYXRhU2VydmljZScsIG5nVGFibGVEYXRhU2VydmljZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gbmdUYWJsZURhdGFTZXJ2aWNlKCkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLmNhY2hlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdldERhdGEgPSBnZXREYXRhO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGEoJGRlZmVyLCBwYXJhbXMsIGFwaSkge1xyXG4gICAgICAgICAgLy8gaWYgbm8gY2FjaGUsIHJlcXVlc3QgZGF0YSBhbmQgZmlsdGVyXHJcbiAgICAgICAgICBpZiAoICEgc2VsZi5jYWNoZSApIHtcclxuICAgICAgICAgICAgaWYgKCBhcGkgKSB7XHJcbiAgICAgICAgICAgICAgYXBpLmdldChmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2FjaGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZGF0YSgkZGVmZXIsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmaWx0ZXJkYXRhKCRkZWZlciwgcGFyYW1zKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZnVuY3Rpb24gZmlsdGVyZGF0YSgkZGVmZXIsIHBhcmFtcykge1xyXG4gICAgICAgICAgICB2YXIgZnJvbSA9IChwYXJhbXMucGFnZSgpIC0gMSkgKiBwYXJhbXMuY291bnQoKTtcclxuICAgICAgICAgICAgdmFyIHRvID0gcGFyYW1zLnBhZ2UoKSAqIHBhcmFtcy5jb3VudCgpO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWREYXRhID0gc2VsZi5jYWNoZS5yZXN1bHQuc2xpY2UoZnJvbSwgdG8pO1xyXG5cclxuICAgICAgICAgICAgcGFyYW1zLnRvdGFsKHNlbGYuY2FjaGUudG90YWwpO1xyXG4gICAgICAgICAgICAkZGVmZXIucmVzb2x2ZShmaWx0ZXJlZERhdGEpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnRhYmxlcycpXHJcbiAgICAgICAgLnNlcnZpY2UoJ25nVGFibGVMQlNlcnZpY2UnLCBuZ1RhYmxlTEJTZXJ2aWNlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZ1RhYmxlTEJTZXJ2aWNlKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLmdldERhdGEgPSBnZXREYXRhO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0RGF0YSgkZGVmZXIsIHBhcmFtcywgTW9kZWwsIGZpbHRlcikge1xyXG4gICAgICAgIGZpbHRlci5saW1pdCA9IHBhcmFtcy5jb3VudCgpO1xyXG4gICAgICAgIGZpbHRlci5za2lwID0gKHBhcmFtcy5wYWdlKCktMSkqZmlsdGVyLmxpbWl0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIE1vZGVsLmNvdW50KHt3aGVyZTogZmlsdGVyLndoZXJlfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgcGFyYW1zLnRvdGFsKHJlc3VsdC5jb3VudCk7XHJcbiAgICAgICAgICBNb2RlbC5maW5kKHtmaWx0ZXI6ZmlsdGVyfSwgJGRlZmVyLnJlc29sdmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiBOR1RhYmxlQ3RybC5qc1xuICogQ29udHJvbGxlciBmb3IgbmdUYWJsZXNcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudGFibGVzJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ05HVGFibGVDdHJsJywgTkdUYWJsZUN0cmwpO1xuICAgIC8qanNoaW50IC1XMDU1ICovXG4gICAgTkdUYWJsZUN0cmwuJGluamVjdCA9IFsnJGZpbHRlcicsICduZ1RhYmxlUGFyYW1zJywgJyRyZXNvdXJjZScsICckdGltZW91dCcsICduZ1RhYmxlRGF0YVNlcnZpY2UnXTtcbiAgICBmdW5jdGlvbiBOR1RhYmxlQ3RybCgkZmlsdGVyLCBuZ1RhYmxlUGFyYW1zLCAkcmVzb3VyY2UsICR0aW1lb3V0LCBuZ1RhYmxlRGF0YVNlcnZpY2UpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0udGl0bGUgPSAnQ29udHJvbGxlcic7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBbXG4gICAgICAgICAgICAgIHtuYW1lOiAnTW9yb25pJywgIGFnZTogNTAsIG1vbmV5OiAtMTAgICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzLCBtb25leTogMTIwICAgfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsICAgYWdlOiAyNywgbW9uZXk6IDUuNSAgIH0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnTmVwaGknLCAgIGFnZTogMjksIG1vbmV5OiAtNTQgICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ0Vub3MnLCAgICBhZ2U6IDM0LCBtb25leTogMTEwICAgfSxcbiAgICAgICAgICAgICAge25hbWU6ICdUaWFuY3VtJywgYWdlOiA0MywgbW9uZXk6IDEwMDAgIH0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnSmFjb2InLCAgIGFnZTogMjcsIG1vbmV5OiAtMjAxICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ05lcGhpJywgICBhZ2U6IDI5LCBtb25leTogMTAwICAgfSxcbiAgICAgICAgICAgICAge25hbWU6ICdFbm9zJywgICAgYWdlOiAzNCwgbW9uZXk6IC01Mi41IH0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnVGlhbmN1bScsIGFnZTogNDMsIG1vbmV5OiA1Mi4xICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ0phY29iJywgICBhZ2U6IDI3LCBtb25leTogMTEwICAgfSxcbiAgICAgICAgICAgICAge25hbWU6ICdOZXBoaScsICAgYWdlOiAyOSwgbW9uZXk6IC01NSAgIH0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnRW5vcycsICAgIGFnZTogMzQsIG1vbmV5OiA1NTEgICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzLCBtb25leTogLTE0MTAgfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsICAgYWdlOiAyNywgbW9uZXk6IDQxMCAgIH0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnTmVwaGknLCAgIGFnZTogMjksIG1vbmV5OiAxMDAgICB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ0Vub3MnLCAgICBhZ2U6IDM0LCBtb25leTogLTEwMCAgfVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICAvLyBTRUxFQ1QgUk9XU1xuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG4gICAgICAgICAgdm0uZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgICB2bS50YWJsZVBhcmFtczMgPSBuZXcgbmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsICAgICAgICAgICAgLy8gc2hvdyBmaXJzdCBwYWdlXG4gICAgICAgICAgICAgIGNvdW50OiAxMCAgICAgICAgICAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdG90YWw6IGRhdGEubGVuZ3RoLCAvLyBsZW5ndGggb2YgZGF0YVxuICAgICAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbiAoJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHVzZSBidWlsZC1pbiBhbmd1bGFyIGZpbHRlclxuICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkRGF0YSA9IHBhcmFtcy5maWx0ZXIoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXIoJ2ZpbHRlcicpKGRhdGEsIHBhcmFtcy5maWx0ZXIoKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhO1xuICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWREYXRhID0gcGFyYW1zLnNvcnRpbmcoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXIoJ29yZGVyQnknKShmaWx0ZXJlZERhdGEsIHBhcmFtcy5vcmRlckJ5KCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTtcblxuICAgICAgICAgICAgICAgICAgcGFyYW1zLnRvdGFsKG9yZGVyZWREYXRhLmxlbmd0aCk7IC8vIHNldCB0b3RhbCBmb3IgcmVjYWxjIHBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICAgICRkZWZlci5yZXNvbHZlKG9yZGVyZWREYXRhLnNsaWNlKChwYXJhbXMucGFnZSgpIC0gMSkgKiBwYXJhbXMuY291bnQoKSwgcGFyYW1zLnBhZ2UoKSAqIHBhcmFtcy5jb3VudCgpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZtLmNoYW5nZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyh1c2VyKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gRVhQT1JUIENTVlxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBcblxuICAgICAgICAgIHZhciBkYXRhNCA9IFt7bmFtZTogJ01vcm9uaScsIGFnZTogNTB9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsIGFnZTogMjd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ05lcGhpJywgYWdlOiAyOX0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnRW5vcycsIGFnZTogMzR9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsIGFnZTogMjd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ05lcGhpJywgYWdlOiAyOX0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnRW5vcycsIGFnZTogMzR9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsIGFnZTogMjd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ05lcGhpJywgYWdlOiAyOX0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnRW5vcycsIGFnZTogMzR9LFxuICAgICAgICAgICAgICB7bmFtZTogJ1RpYW5jdW0nLCBhZ2U6IDQzfSxcbiAgICAgICAgICAgICAge25hbWU6ICdKYWNvYicsIGFnZTogMjd9LFxuICAgICAgICAgICAgICB7bmFtZTogJ05lcGhpJywgYWdlOiAyOX0sXG4gICAgICAgICAgICAgIHtuYW1lOiAnRW5vcycsIGFnZTogMzR9XTtcblxuICAgICAgICAgIHZtLnRhYmxlUGFyYW1zNCA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgcGFnZTogMSwgICAgICAgICAgICAvLyBzaG93IGZpcnN0IHBhZ2VcbiAgICAgICAgICAgICAgY291bnQ6IDEwICAgICAgICAgICAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdG90YWw6IGRhdGE0Lmxlbmd0aCwgLy8gbGVuZ3RoIG9mIGRhdGE0XG4gICAgICAgICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAkZGVmZXIucmVzb2x2ZShkYXRhNC5zbGljZSgocGFyYW1zLnBhZ2UoKSAtIDEpICogcGFyYW1zLmNvdW50KCksIHBhcmFtcy5wYWdlKCkgKiBwYXJhbXMuY291bnQoKSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cblxuICAgICAgICAgIC8vIFNPUlRJTkdcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuXG5cbiAgICAgICAgICB2bS50YWJsZVBhcmFtcyA9IG5ldyBuZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgcGFnZTogMSwgICAgICAgICAgICAvLyBzaG93IGZpcnN0IHBhZ2VcbiAgICAgICAgICAgICAgY291bnQ6IDEwLCAgICAgICAgICAvLyBjb3VudCBwZXIgcGFnZVxuICAgICAgICAgICAgICBzb3J0aW5nOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAnYXNjJyAgICAgLy8gaW5pdGlhbCBzb3J0aW5nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHRvdGFsOiBkYXRhLmxlbmd0aCwgLy8gbGVuZ3RoIG9mIGRhdGFcbiAgICAgICAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHVzZSBidWlsZC1pbiBhbmd1bGFyIGZpbHRlclxuICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWREYXRhID0gcGFyYW1zLnNvcnRpbmcoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXIoJ29yZGVyQnknKShkYXRhLCBwYXJhbXMub3JkZXJCeSgpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE7XG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAkZGVmZXIucmVzb2x2ZShvcmRlcmVkRGF0YS5zbGljZSgocGFyYW1zLnBhZ2UoKSAtIDEpICogcGFyYW1zLmNvdW50KCksIHBhcmFtcy5wYWdlKCkgKiBwYXJhbXMuY291bnQoKSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGSUxURVJTXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbiAgICAgICAgICB2bS50YWJsZVBhcmFtczIgPSBuZXcgbmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsICAgICAgICAgICAgLy8gc2hvdyBmaXJzdCBwYWdlXG4gICAgICAgICAgICAgIGNvdW50OiAxMCwgICAgICAgICAgLy8gY291bnQgcGVyIHBhZ2VcbiAgICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgIGFnZTogJydcbiAgICAgICAgICAgICAgICAgIC8vIG5hbWU6ICdNJyAgICAgICAvLyBpbml0aWFsIGZpbHRlclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0b3RhbDogZGF0YS5sZW5ndGgsIC8vIGxlbmd0aCBvZiBkYXRhXG4gICAgICAgICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAvLyB1c2UgYnVpbGQtaW4gYW5ndWxhciBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgIHZhciBvcmRlcmVkRGF0YSA9IHBhcmFtcy5maWx0ZXIoKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgJGZpbHRlcignZmlsdGVyJykoZGF0YSwgcGFyYW1zLmZpbHRlcigpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTtcblxuICAgICAgICAgICAgICAgICAgdm0udXNlcnMgPSBvcmRlcmVkRGF0YS5zbGljZSgocGFyYW1zLnBhZ2UoKSAtIDEpICogcGFyYW1zLmNvdW50KCksIHBhcmFtcy5wYWdlKCkgKiBwYXJhbXMuY291bnQoKSk7XG5cbiAgICAgICAgICAgICAgICAgIHBhcmFtcy50b3RhbChvcmRlcmVkRGF0YS5sZW5ndGgpOyAvLyBzZXQgdG90YWwgZm9yIHJlY2FsYyBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAkZGVmZXIucmVzb2x2ZSh2bS51c2Vycyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFKQVhcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgQXBpID0gJHJlc291cmNlKCdzZXJ2ZXIvdGFibGUtZGF0YS5qc29uJyk7XG5cbiAgICAgICAgICB2bS50YWJsZVBhcmFtczUgPSBuZXcgbmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsICAgICAgICAgICAgLy8gc2hvdyBmaXJzdCBwYWdlXG4gICAgICAgICAgICAgIGNvdW50OiAxMCAgICAgICAgICAgLy8gY291bnQgcGVyIHBhZ2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHRvdGFsOiAwLCAgICAgICAgICAgLy8gbGVuZ3RoIG9mIGRhdGFcbiAgICAgICAgICAgICAgY291bnRzOiBbXSwgICAgICAgICAvLyBoaWRlIHBhZ2UgY291bnRzIGNvbnRyb2xcbiAgICAgICAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gU2VydmljZSB1c2luZyBjYWNoZSB0byBhdm9pZCBtdXRpcGxlIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgICBuZ1RhYmxlRGF0YVNlcnZpY2UuZ2V0RGF0YSggJGRlZmVyLCBwYXJhbXMsIEFwaSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8qIGRpcmVjdCBhamF4IHJlcXVlc3QgdG8gYXBpIChwZXJmb3JtIHJlc3VsdCBwYWdpbmF0aW9uIG9uIHRoZSBzZXJ2ZXIpXG4gICAgICAgICAgICAgICAgICBBcGkuZ2V0KHBhcmFtcy51cmwoKSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGFibGUgcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy50b3RhbChkYXRhLnRvdGFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG5ldyBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICRkZWZlci5yZXNvbHZlKGRhdGEucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuXG5cbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IGRlbW8tYnV0dG9ucy5qc1xyXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBkZW1vIGZvciBidXR0b25zIGFjdGlvbnNcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50YWJsZXMnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdUYWJsZXhFZGl0YWJsZUNvbnRyb2xsZXInLCBUYWJsZXhFZGl0YWJsZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIFRhYmxleEVkaXRhYmxlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZmlsdGVyJywgJyRodHRwJywgJ2VkaXRhYmxlT3B0aW9ucycsICdlZGl0YWJsZVRoZW1lcycsJyRxJ107XHJcbiAgICBmdW5jdGlvbiBUYWJsZXhFZGl0YWJsZUNvbnRyb2xsZXIoJGZpbHRlciwgJGh0dHAsIGVkaXRhYmxlT3B0aW9ucywgZWRpdGFibGVUaGVtZXMsICRxKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHJcbiAgICAgICAgICAvLyBlZGl0YWJsZSByb3dcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG4gICAgICAgICAgdm0udXNlcnMgPSBbXHJcbiAgICAgICAgICAgIHtpZDogMSwgbmFtZTogJ2F3ZXNvbWUgdXNlcjEnLCBzdGF0dXM6IDIsIGdyb3VwOiA0LCBncm91cE5hbWU6ICdhZG1pbid9LFxyXG4gICAgICAgICAgICB7aWQ6IDIsIG5hbWU6ICdhd2Vzb21lIHVzZXIyJywgc3RhdHVzOiB1bmRlZmluZWQsIGdyb3VwOiAzLCBncm91cE5hbWU6ICd2aXAnfSxcclxuICAgICAgICAgICAge2lkOiAzLCBuYW1lOiAnYXdlc29tZSB1c2VyMycsIHN0YXR1czogMiwgZ3JvdXA6IG51bGx9XHJcbiAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgIHZtLnN0YXR1c2VzID0gW1xyXG4gICAgICAgICAgICB7dmFsdWU6IDEsIHRleHQ6ICdzdGF0dXMxJ30sXHJcbiAgICAgICAgICAgIHt2YWx1ZTogMiwgdGV4dDogJ3N0YXR1czInfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAzLCB0ZXh0OiAnc3RhdHVzMyd9LFxyXG4gICAgICAgICAgICB7dmFsdWU6IDQsIHRleHQ6ICdzdGF0dXM0J31cclxuICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgdm0uZ3JvdXBzID0gW107XHJcbiAgICAgICAgICB2bS5sb2FkR3JvdXBzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2bS5ncm91cHMubGVuZ3RoID8gbnVsbCA6ICRodHRwLmdldCgnc2VydmVyL3hlZGl0YWJsZS1ncm91cHMuanNvbicpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgIHZtLmdyb3VwcyA9IGRhdGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5zaG93R3JvdXAgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgIGlmKHVzZXIuZ3JvdXAgJiYgdm0uZ3JvdXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHZtLmdyb3Vwcywge2lkOiB1c2VyLmdyb3VwfSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdLnRleHQgOiAnTm90IHNldCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHVzZXIuZ3JvdXBOYW1lIHx8ICdOb3Qgc2V0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2bS5zaG93U3RhdHVzID0gZnVuY3Rpb24odXNlcikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgaWYodXNlci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICBzZWxlY3RlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHZtLnN0YXR1c2VzLCB7dmFsdWU6IHVzZXIuc3RhdHVzfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdLnRleHQgOiAnTm90IHNldCc7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmNoZWNrTmFtZSA9IGZ1bmN0aW9uKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgIGlmIChpZCA9PT0gMiAmJiBkYXRhICE9PSAnYXdlc29tZScpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gJ1VzZXJuYW1lIDIgc2hvdWxkIGJlIGBhd2Vzb21lYCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdm0uc2F2ZVVzZXIgPSBmdW5jdGlvbihkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAvL3ZtLnVzZXIgbm90IHVwZGF0ZWQgeWV0XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGRhdGEsIHtpZDogaWR9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NhdmluZyB1c2VyOiAnICsgaWQpO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAucG9zdCgnL3NhdmVVc2VyJywgZGF0YSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIHJlbW92ZSB1c2VyXHJcbiAgICAgICAgICB2bS5yZW1vdmVVc2VyID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgdm0udXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gYWRkIHVzZXJcclxuICAgICAgICAgIHZtLmFkZFVzZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdm0uaW5zZXJ0ZWQgPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IHZtLnVzZXJzLmxlbmd0aCsxLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICAgIHN0YXR1czogbnVsbCxcclxuICAgICAgICAgICAgICBncm91cDogbnVsbCxcclxuICAgICAgICAgICAgICBpc05ldzogdHJ1ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2bS51c2Vycy5wdXNoKHZtLmluc2VydGVkKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gZWRpdGFibGUgY29sdW1uXHJcbiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuXHJcblxyXG4gICAgICAgICAgdm0uc2F2ZUNvbHVtbiA9IGZ1bmN0aW9uKGNvbHVtbikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXNlcnMsIGZ1bmN0aW9uKC8qdXNlciovKSB7XHJcbiAgICAgICAgICAgICAgLy8gcmVzdWx0cy5wdXNoKCRodHRwLnBvc3QoJy9zYXZlQ29sdW1uJywge2NvbHVtbjogY29sdW1uLCB2YWx1ZTogdXNlcltjb2x1bW5dLCBpZDogdXNlci5pZH0pKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGNvbHVtbjogJyArIGNvbHVtbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHJlc3VsdHMpO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBlZGl0YWJsZSB0YWJsZVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgLy8gZmlsdGVyIHVzZXJzIHRvIHNob3dcclxuICAgICAgICAgIHZtLmZpbHRlclVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyLmlzRGVsZXRlZCAhPT0gdHJ1ZTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgLy8gbWFyayB1c2VyIGFzIGRlbGV0ZWRcclxuICAgICAgICAgIHZtLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSAkZmlsdGVyKCdmaWx0ZXInKSh2bS51c2Vycywge2lkOiBpZH0pO1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZmlsdGVyZWRbMF0uaXNEZWxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBjYW5jZWwgYWxsIGNoYW5nZXNcclxuICAgICAgICAgIHZtLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdm0udXNlcnMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVzZXIgPSB2bS51c2Vyc1tpXTtcclxuICAgICAgICAgICAgICAvLyB1bmRlbGV0ZVxyXG4gICAgICAgICAgICAgIGlmICh1c2VyLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHVzZXIuaXNEZWxldGVkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyByZW1vdmUgbmV3IFxyXG4gICAgICAgICAgICAgIGlmICh1c2VyLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICB2bS51c2Vycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIHNhdmUgZWRpdHNcclxuICAgICAgICAgIHZtLnNhdmVUYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdm0udXNlcnMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVzZXIgPSB2bS51c2Vyc1tpXTtcclxuICAgICAgICAgICAgICAvLyBhY3R1YWxseSBkZWxldGUgdXNlclxyXG4gICAgICAgICAgICAgIGlmICh1c2VyLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdm0udXNlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBtYXJrIGFzIG5vdCBuZXcgXHJcbiAgICAgICAgICAgICAgaWYgKHVzZXIuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIHVzZXIuaXNOZXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIHNlbmQgb24gc2VydmVyXHJcbiAgICAgICAgICAgICAgLy8gcmVzdWx0cy5wdXNoKCRodHRwLnBvc3QoJy9zYXZlVXNlcicsIHVzZXIpKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2F2aW5nIFRhYmxlLi4uJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocmVzdWx0cyk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBNb2R1bGU6IFVJR3JpZENvbnRyb2xsZXJcclxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAudGFibGVzJylcclxuICAgICAgICAuY29udHJvbGxlcignVUlHcmlkQ29udHJvbGxlcicsIFVJR3JpZENvbnRyb2xsZXIpO1xyXG5cclxuICAgIFVJR3JpZENvbnRyb2xsZXIuJGluamVjdCA9IFsndWlHcmlkQ29uc3RhbnRzJywgJyRodHRwJ107XHJcbiAgICBmdW5jdGlvbiBVSUdyaWRDb250cm9sbGVyKHVpR3JpZENvbnN0YW50cywgJGh0dHApIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuICAgICAgICAgIC8vIEJhc2ljIGV4YW1wbGVcclxuICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxyXG5cclxuICAgICAgICAgIHZtLmdyaWRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IDM0LFxyXG4gICAgICAgICAgICBkYXRhOiBbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdXaWxkZXIgR29uemFsZXMnLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ21hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdHZWVra28nXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0dlb3JnaW5hIFNjaHVsdHonLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ2ZlbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICdjb21wYW55JzogJ1N1cmV0ZWNoJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdDYXJyb2xsIEJ1Y2hhbmFuJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnRWNvc3lzJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdWYWxhcmllIEF0a2luc29uJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdmZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdIb3BlbGknXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ1NjaHJvZWRlciBNYXRoZXdzJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnUG9sYXJpdW0nXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0V0aGVsIFByaWNlJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdmZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdFbmVyc29sJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdDbGF1ZGluZSBOZWFsJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdmZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdTZWFsb3VkJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdCZXJ5bCBSaWNlJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdmZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdWZWxpdHknXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0x5bmRhIE1lbmRvemEnLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ2ZlbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICdjb21wYW55JzogJ0RvZ3NwYSdcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ25hbWUnOiAnU2FyYWggTWFzc2V5JyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdmZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdCaXNiYSdcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ25hbWUnOiAnUm9ibGVzIEJveWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnQ29tdHJhY3QnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0V2YW5zIEhpY2ttYW4nLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ21hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdQYXJsZXluZXQnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0Rhd3NvbiBCYXJiZXInLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ21hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdEeW1pJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdCcnVjZSBTdHJvbmcnLFxyXG4gICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogJ21hbGUnLFxyXG4gICAgICAgICAgICAgICAgICAnY29tcGFueSc6ICdYeXFhZydcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgJ25hbWUnOiAnTmVsbGllIFdoaXRmaWVsZCcsXHJcbiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiAnZmVtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnRXhvc3BhY2UnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0phY2tzb24gTWFjaWFzJyxcclxuICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6ICdtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnQXF1YW1hdGUnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ1BlbmEgUGVuYScsXHJcbiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiAnbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICdjb21wYW55JzogJ1F1YXJ4J1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdMZWxpYSBHYXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiAnZmVtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnUHJveHNvZnQnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICduYW1lJzogJ0xldGl0aWEgVmFzcXVleicsXHJcbiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiAnZmVtYWxlJyxcclxuICAgICAgICAgICAgICAgICAgJ2NvbXBhbnknOiAnU2x1bWJlcmlhJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAnbmFtZSc6ICdUcmV2aW5vIE1vcmVubycsXHJcbiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiAnbWFsZScsXHJcbiAgICAgICAgICAgICAgICAgICdjb21wYW55JzogJ0Nvbmp1cmljYSdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENvbXBsZXggZXhhbXBsZVxyXG4gICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXHJcblxyXG4gICAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgIHZtLmdyaWRPcHRpb25zQ29tcGxleCA9IHtcclxuICAgICAgICAgICAgICBzaG93R3JpZEZvb3RlcjogdHJ1ZSxcclxuICAgICAgICAgICAgICBzaG93Q29sdW1uRm9vdGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGVuYWJsZUZpbHRlcmluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBbXHJcbiAgICAgICAgICAgICAgICAgIHsgZmllbGQ6ICduYW1lJywgd2lkdGg6ICcxMyUnIH0sXHJcbiAgICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdhZGRyZXNzLnN0cmVldCcsYWdncmVnYXRpb25UeXBlOiB1aUdyaWRDb25zdGFudHMuYWdncmVnYXRpb25UeXBlcy5zdW0sIHdpZHRoOiAnMTMlJyB9LFxyXG4gICAgICAgICAgICAgICAgICB7IGZpZWxkOiAnYWdlJywgYWdncmVnYXRpb25UeXBlOiB1aUdyaWRDb25zdGFudHMuYWdncmVnYXRpb25UeXBlcy5hdmcsIGFnZ3JlZ2F0aW9uSGlkZUxhYmVsOiB0cnVlLCB3aWR0aDogJzEzJScgfSxcclxuICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnYWdlTWluJywgZmllbGQ6ICdhZ2UnLCBhZ2dyZWdhdGlvblR5cGU6IHVpR3JpZENvbnN0YW50cy5hZ2dyZWdhdGlvblR5cGVzLm1pbiwgd2lkdGg6ICcxMyUnLCBkaXNwbGF5TmFtZTogJ0FnZSBmb3IgbWluJyB9LFxyXG4gICAgICAgICAgICAgICAgICB7IG5hbWU6ICdhZ2VNYXgnLCBmaWVsZDogJ2FnZScsIGFnZ3JlZ2F0aW9uVHlwZTogdWlHcmlkQ29uc3RhbnRzLmFnZ3JlZ2F0aW9uVHlwZXMubWF4LCB3aWR0aDogJzEzJScsIGRpc3BsYXlOYW1lOiAnQWdlIGZvciBtYXgnIH0sXHJcbiAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2N1c3RvbUNlbGxUZW1wbGF0ZScsIFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnYWdlJywgXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxNCUnLCBcclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJDZWxsVGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidWktZ3JpZC1jZWxsLWNvbnRlbnRzIGJnLWluZm8gdGV4dC1jZW50ZXJcIj5DdXN0b20gSFRNTDwvZGl2PicgXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3JlZ2lzdGVyZWQnLCBmaWVsZDogJ3JlZ2lzdGVyZWQnLCB3aWR0aDogJzIwJScsIGNlbGxGaWx0ZXI6ICdkYXRlJywgZm9vdGVyQ2VsbEZpbHRlcjogJ2RhdGUnLCBhZ2dyZWdhdGlvblR5cGU6IHVpR3JpZENvbnN0YW50cy5hZ2dyZWdhdGlvblR5cGVzLm1heCB9XHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgIG9uUmVnaXN0ZXJBcGk6IGZ1bmN0aW9uKGdyaWRBcGkpIHtcclxuICAgICAgICAgICAgICAgIHZtLmdyaWRBcGkgPSBncmlkQXBpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAkaHR0cC5nZXQoJ3NlcnZlci91aWdyaWQtY29tcGxleC5qc29uJylcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgIGRhdGEuZm9yRWFjaCggZnVuY3Rpb24ocm93KSB7XHJcbiAgICAgICAgICAgICAgICByb3cucmVnaXN0ZXJlZCA9IERhdGUucGFyc2Uocm93LnJlZ2lzdGVyZWQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHZtLmdyaWRPcHRpb25zQ29tcGxleC5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICB2bS5ncmlkT3B0aW9uczEgPSB7XHJcbiAgICAgICAgICAgICAgcGFnaW5hdGlvblBhZ2VTaXplczogWzI1LCA1MCwgNzVdLFxyXG4gICAgICAgICAgICAgIHBhZ2luYXRpb25QYWdlU2l6ZTogMjUsXHJcbiAgICAgICAgICAgICAgY29sdW1uRGVmczogW1xyXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnbmFtZScgfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ2dlbmRlcicgfSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NvbXBhbnknIH1cclxuICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnc2VydmVyL3VpZ3JpZC0xMDAuanNvbicpXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgdm0uZ3JpZE9wdGlvbnMxLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC50cmFuc2xhdGUnKVxyXG4gICAgICAgIC5jb25maWcodHJhbnNsYXRlQ29uZmlnKVxyXG4gICAgICAgIDtcclxuICAgIHRyYW5zbGF0ZUNvbmZpZy4kaW5qZWN0ID0gWyckdHJhbnNsYXRlUHJvdmlkZXInXTtcclxuICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZUNvbmZpZygkdHJhbnNsYXRlUHJvdmlkZXIpe1xyXG5cclxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcclxuICAgICAgICAgIHByZWZpeCA6ICdhcHAvaTE4bi8nLFxyXG4gICAgICAgICAgc3VmZml4IDogJy5qc29uJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnemhfQ04nKTtcclxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlUG9zdENvbXBpbGluZyh0cnVlKTtcclxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgnc2FuaXRpemVQYXJhbWV0ZXJzJyk7XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnRyYW5zbGF0ZScpXHJcbiAgICAgICAgLnJ1bih0cmFuc2xhdGVSdW4pXHJcbiAgICAgICAgO1xyXG4gICAgdHJhbnNsYXRlUnVuLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHRyYW5zbGF0ZSddO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVSdW4oJHJvb3RTY29wZSwgJHRyYW5zbGF0ZSl7XHJcblxyXG4gICAgICAvLyBJbnRlcm5hdGlvbmFsaXphdGlvblxyXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAkcm9vdFNjb3BlLmxhbmd1YWdlID0ge1xyXG4gICAgICAgIC8vIEhhbmRsZXMgbGFuZ3VhZ2UgZHJvcGRvd25cclxuICAgICAgICBsaXN0SXNPcGVuOiBmYWxzZSxcclxuICAgICAgICAvLyBsaXN0IG9mIGF2YWlsYWJsZSBsYW5ndWFnZXNcclxuICAgICAgICBhdmFpbGFibGU6IHtcclxuICAgICAgICAgICd6aF9DTic6ICAgICfkuK3mlofnroDkvZMnLFxyXG4gICAgICAgICAgJ2VuJzogICAgICAgJ0VuZ2xpc2gnLFxyXG4gICAgICAgICAgJ2VzX0FSJzogICAgJ0VzcGHDsW9sJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZGlzcGxheSBhbHdheXMgdGhlIGN1cnJlbnQgdWkgbGFuZ3VhZ2VcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgcHJvcG9zZWRMYW5ndWFnZSA9ICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSgpIHx8ICR0cmFuc2xhdGUudXNlKCk7XHJcbiAgICAgICAgICB2YXIgcHJlZmVycmVkTGFuZ3VhZ2UgPSAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCk7IC8vIHdlIGtub3cgd2UgaGF2ZSBzZXQgYSBwcmVmZXJyZWQgb25lIGluIGFwcC5jb25maWdcclxuICAgICAgICAgICRyb290U2NvcGUubGFuZ3VhZ2Uuc2VsZWN0ZWQgPSAkcm9vdFNjb3BlLmxhbmd1YWdlLmF2YWlsYWJsZVsgKHByb3Bvc2VkTGFuZ3VhZ2UgfHwgcHJlZmVycmVkTGFuZ3VhZ2UpIF07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsb2NhbGVJZCkge1xyXG4gICAgICAgICAgLy8gU2V0IHRoZSBuZXcgaWRpb21cclxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKGxvY2FsZUlkKTtcclxuICAgICAgICAgIC8vIHNhdmUgYSByZWZlcmVuY2UgZm9yIHRoZSBjdXJyZW50IGxhbmd1YWdlXHJcbiAgICAgICAgICAkcm9vdFNjb3BlLmxhbmd1YWdlLnNlbGVjdGVkID0gJHJvb3RTY29wZS5sYW5ndWFnZS5hdmFpbGFibGVbbG9jYWxlSWRdO1xyXG4gICAgICAgICAgLy8gZmluYWxseSB0b2dnbGUgZHJvcGRvd25cclxuICAgICAgICAgICRyb290U2NvcGUubGFuZ3VhZ2UubGlzdElzT3BlbiA9ICEgJHJvb3RTY29wZS5sYW5ndWFnZS5saXN0SXNPcGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgICRyb290U2NvcGUubGFuZ3VhZ2UuaW5pdCgpO1xyXG5cclxuICAgIH1cclxufSkoKTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogYW5pbWF0ZS1lbmFibGVkLmpzXG4gKiBFbmFibGUgb3IgZGlzYWJsZXMgbmdBbmltYXRlIGZvciBlbGVtZW50IHdpdGggZGlyZWN0aXZlXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnV0aWxzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYW5pbWF0ZUVuYWJsZWQnLCBhbmltYXRlRW5hYmxlZCk7XG5cbiAgICBhbmltYXRlRW5hYmxlZC4kaW5qZWN0ID0gWyckYW5pbWF0ZSddO1xuICAgIGZ1bmN0aW9uIGFuaW1hdGVFbmFibGVkICgkYW5pbWF0ZSkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnMuYW5pbWF0ZUVuYWJsZWQsIHNjb3BlKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmVuYWJsZWQoISFuZXdWYWx1ZSwgZWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogTW9kdWxlOiBicm93c2VyLmpzXHJcbiAqIEJyb3dzZXIgZGV0ZWN0aW9uXHJcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhcHAudXRpbHMnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdCcm93c2VyJywgQnJvd3Nlcik7XHJcblxyXG4gICAgQnJvd3Nlci4kaW5qZWN0ID0gWyckd2luZG93J107XHJcbiAgICBmdW5jdGlvbiBCcm93c2VyKCR3aW5kb3cpIHtcclxuICAgICAgcmV0dXJuICR3aW5kb3cualFCcm93c2VyO1xyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGNsZWFyLXN0b3JhZ2UuanNcbiAqIFJlbW92ZXMgYSBrZXkgZnJvbSB0aGUgYnJvd3NlciBzdG9yYWdlIHZpYSBlbGVtZW50IGNsaWNrXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnV0aWxzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncmVzZXRLZXknLCByZXNldEtleSk7XG5cbiAgICByZXNldEtleS4kaW5qZWN0ID0gWyckc3RhdGUnLCAnJGxvY2FsU3RvcmFnZSddO1xuICAgIGZ1bmN0aW9uIHJlc2V0S2V5ICgkc3RhdGUsICRsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgcmVzZXRLZXk6ICdAJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICBpZihzY29wZS5yZXNldEtleSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkbG9jYWxTdG9yYWdlW3Njb3BlLnJlc2V0S2V5XTtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJHN0YXRlLmN1cnJlbnQsIHt9LCB7cmVsb2FkOiB0cnVlfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5lcnJvcignTm8gc3RvcmFnZSBrZXkgc3BlY2lmaWVkIGZvciByZXNldC4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGN1cnJlbmN5LmpzXG4gKiBDdXJyZW5jeSBmb3JtYXQgZFxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FwcC51dGlscycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2N1cnJlbmN5JywgY3VycmVuY3kpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2JvbnVzJywgYm9udXMpO1xuXG4gICAgY3VycmVuY3kuJGluamVjdCA9IFsnJHdpbmRvdyddO1xuICAgIGZ1bmN0aW9uIGN1cnJlbmN5KCR3aW5kb3cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsQ29udHJvbGxlcikge1xuICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgLy9jb252ZXJ0IGRhdGEgZnJvbSB2aWV3IGZvcm1hdCB0byBtb2RlbCBmb3JtYXRcbiAgICAgICAgICAgIHJldHVybiBkYXRhKjEwMDsgLy9jb252ZXJ0ZWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgLy9jb252ZXJ0IGRhdGEgZnJvbSBtb2RlbCBmb3JtYXQgdG8gdmlldyBmb3JtYXRcbiAgICAgICAgICAgIHJldHVybiBkYXRhLzEwMDsgLy9jb252ZXJ0ZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgYm9udXMuJGluamVjdCA9IFsnJHdpbmRvdyddO1xuICAgIGZ1bmN0aW9uIGJvbnVzKCR3aW5kb3cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsQ29udHJvbGxlcikge1xuICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgLy9jb252ZXJ0IGRhdGEgZnJvbSB2aWV3IGZvcm1hdCB0byBtb2RlbCBmb3JtYXRcbiAgICAgICAgICAgIHJldHVybiBkYXRhLzEwMDsgLy9jb252ZXJ0ZWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgLy9jb252ZXJ0IGRhdGEgZnJvbSBtb2RlbCBmb3JtYXQgdG8gdmlldyBmb3JtYXRcbiAgICAgICAgICAgIHJldHVybiBkYXRhKjEwMDsgLy9jb252ZXJ0ZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogZnVsbHNjcmVlbi5qc1xuICogVG9nZ2xlIHRoZSBmdWxsc2NyZWVuIG1vZGUgb24vb2ZmXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnV0aWxzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgndG9nZ2xlRnVsbHNjcmVlbicsIHRvZ2dsZUZ1bGxzY3JlZW4pO1xuXG4gICAgdG9nZ2xlRnVsbHNjcmVlbi4kaW5qZWN0ID0gWydCcm93c2VyJ107XG4gICAgZnVuY3Rpb24gdG9nZ2xlRnVsbHNjcmVlbiAoQnJvd3Nlcikge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgLy8gTm90IHN1cHBvcnRlZCB1bmRlciBJRVxuICAgICAgICAgIGlmKCBCcm93c2VyLm1zaWUgKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5mdWxsLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgc2NyZWVuZnVsbC50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gU3dpdGNoIGljb24gaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICBpZihzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbilcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignZW0nKS5yZW1vdmVDbGFzcygnZmEtZXhwYW5kJykuYWRkQ2xhc3MoJ2ZhLWNvbXByZXNzJyk7XG4gICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2VtJykucmVtb3ZlQ2xhc3MoJ2ZhLWNvbXByZXNzJykuYWRkQ2xhc3MoJ2ZhLWV4cGFuZCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICQuZXJyb3IoJ0Z1bGxzY3JlZW4gbm90IGVuYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGxvYWQtY3NzLmpzXG4gKiBSZXF1ZXN0IGFuZCBsb2FkIGludG8gdGhlIGN1cnJlbnQgcGFnZSBhIGNzcyBmaWxlXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnV0aWxzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbG9hZENzcycsIGxvYWRDc3MpO1xuXG4gICAgZnVuY3Rpb24gbG9hZENzcyAoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBpZihlbGVtZW50LmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgdmFyIHVyaSA9IGF0dHJzLmxvYWRDc3MsXG4gICAgICAgICAgICAgICAgICBsaW5rO1xuXG4gICAgICAgICAgICAgIGlmKHVyaSkge1xuICAgICAgICAgICAgICAgIGxpbmsgPSBjcmVhdGVMaW5rKHVyaSk7XG4gICAgICAgICAgICAgICAgaWYgKCAhbGluayApIHtcbiAgICAgICAgICAgICAgICAgICQuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHN0eWxlc2hlZXQgbGluayBlbGVtZW50LicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmVycm9yKCdObyBzdHlsZXNoZWV0IGxvY2F0aW9uIGRlZmluZWQuJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVMaW5rKHVyaSkge1xuICAgICAgICAgIHZhciBsaW5rSWQgPSAnYXV0b2xvYWRlZC1zdHlsZXNoZWV0JyxcbiAgICAgICAgICAgICAgb2xkTGluayA9ICQoJyMnK2xpbmtJZCkuYXR0cignaWQnLCBsaW5rSWQgKyAnLW9sZCcpO1xuXG4gICAgICAgICAgJCgnaGVhZCcpLmFwcGVuZCgkKCc8bGluay8+JykuYXR0cih7XG4gICAgICAgICAgICAnaWQnOiAgIGxpbmtJZCxcbiAgICAgICAgICAgICdyZWwnOiAgJ3N0eWxlc2hlZXQnLFxuICAgICAgICAgICAgJ2hyZWYnOiB1cmlcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBpZiggb2xkTGluay5sZW5ndGggKSB7XG4gICAgICAgICAgICBvbGRMaW5rLnJlbW92ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAkKCcjJytsaW5rSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IG5vdy5qc1xuICogUHJvdmlkZXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgdGltZSBmb3JtYXR0ZWRcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXRpbHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdub3cnLCBub3cpO1xuXG4gICAgbm93LiRpbmplY3QgPSBbJ2RhdGVGaWx0ZXInLCAnJGludGVydmFsJ107XG4gICAgZnVuY3Rpb24gbm93IChkYXRlRmlsdGVyLCAkaW50ZXJ2YWwpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdCA9IGF0dHJzLmZvcm1hdDtcblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAgICAgICB2YXIgZHQgPSBkYXRlRmlsdGVyKG5ldyBEYXRlKCksIGZvcm1hdCk7XG4gICAgICAgICAgICBlbGVtZW50LnRleHQoZHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZVRpbWUoKTtcbiAgICAgICAgICB2YXIgaW50ZXJ2YWxQcm9taXNlID0gJGludGVydmFsKHVwZGF0ZVRpbWUsIDEwMDApO1xuXG4gICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsUHJvbWlzZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbiIsIi8qKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTW9kdWxlOiB0YWJsZS1jaGVja2FsbC5qc1xuICogVGFibGVzIGNoZWNrIGFsbCBjaGVja2JveFxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXRpbHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjaGVja0FsbCcsIGNoZWNrQWxsKTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrQWxsICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBpbmRleD0gJHRoaXMuaW5kZXgoKSArIDEsXG4gICAgICAgICAgICAgICAgY2hlY2tib3ggPSAkdGhpcy5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKSxcbiAgICAgICAgICAgICAgICB0YWJsZSA9ICR0aGlzLnBhcmVudHMoJ3RhYmxlJyk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gYWZmZWN0IG9ubHkgdGhlIGNvcnJlY3QgY2hlY2tib3ggY29sdW1uXG4gICAgICAgICAgICB0YWJsZS5maW5kKCd0Ym9keSA+IHRyID4gdGQ6bnRoLWNoaWxkKCcraW5kZXgrJykgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcbiAgICAgICAgICAgICAgLnByb3AoJ2NoZWNrZWQnLCBjaGVja2JveFswXS5jaGVja2VkKTtcblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1vZHVsZTogdHJpZ2dlci1yZXNpemUuanNcclxuICogVHJpZ2dlcnMgYSB3aW5kb3cgcmVzaXplIGV2ZW50IGZyb20gYW55IGVsZW1lbnRcclxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnYXBwLnV0aWxzJylcclxuICAgICAgICAuZGlyZWN0aXZlKCd0cmlnZ2VyUmVzaXplJywgdHJpZ2dlclJlc2l6ZSk7XHJcblxyXG4gICAgdHJpZ2dlclJlc2l6ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyR0aW1lb3V0J107XHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyUmVzaXplICgkd2luZG93LCAkdGltZW91dCkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQSdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IHV0aWxzLmpzXG4gKiBVdGlsaXR5IGxpYnJhcnkgdG8gdXNlIGFjcm9zcyB0aGUgdGhlbWVcbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhcHAudXRpbHMnKVxuICAgICAgICAuc2VydmljZSgnVXRpbHMnLCBVdGlscyk7XG5cbiAgICBVdGlscy4kaW5qZWN0ID0gWyckd2luZG93JywgJ0FQUF9NRURJQVFVRVJZJ107XG4gICAgZnVuY3Rpb24gVXRpbHMoJHdpbmRvdywgQVBQX01FRElBUVVFUlkpIHtcblxuICAgICAgICB2YXIgJGh0bWwgPSBhbmd1bGFyLmVsZW1lbnQoJ2h0bWwnKSxcbiAgICAgICAgICAgICR3aW4gID0gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLFxuICAgICAgICAgICAgJGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoJ2JvZHknKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIERFVEVDVElPTlxuICAgICAgICAgIHN1cHBvcnQ6IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25FbmQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1velRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2l0aW9uRW5kICYmIHsgZW5kOiB0cmFuc2l0aW9uRW5kIH07XG4gICAgICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbkVuZCA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbUVuZEV2ZW50TmFtZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb3pBbmltYXRpb246ICdhbmltYXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9BbmltYXRpb246ICdvQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ2FuaW1hdGlvbmVuZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIGFuaW1FbmRFdmVudE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYW5pbUVuZEV2ZW50TmFtZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkVuZCAmJiB7IGVuZDogYW5pbWF0aW9uRW5kIH07XG4gICAgICAgICAgICB9KSgpLFxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oY2FsbGJhY2speyB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMC82MCk7IH0sXG4gICAgICAgICAgICAvKmpzaGludCAtVzA2OSovXG4gICAgICAgICAgICB0b3VjaDogKFxuICAgICAgICAgICAgICAgICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9tb2JpbGV8dGFibGV0LykpIHx8XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpICB8fFxuICAgICAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yWydtc1BvaW50ZXJFbmFibGVkJ10gJiYgd2luZG93Lm5hdmlnYXRvclsnbXNNYXhUb3VjaFBvaW50cyddID4gMCkgfHwgLy9JRSAxMFxuICAgICAgICAgICAgICAgICh3aW5kb3cubmF2aWdhdG9yWydwb2ludGVyRW5hYmxlZCddICYmIHdpbmRvdy5uYXZpZ2F0b3JbJ21heFRvdWNoUG9pbnRzJ10gPiAwKSB8fCAvL0lFID49MTFcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG11dGF0aW9ub2JzZXJ2ZXI6ICh3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlciB8fCBudWxsKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gVVRJTElUSUVTXG4gICAgICAgICAgaXNJblZpZXc6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgLypqc2hpbnQgLVcxMDYqL1xuICAgICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgIGlmICghJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciB3aW5kb3dfbGVmdCA9ICR3aW4uc2Nyb2xsTGVmdCgpLFxuICAgICAgICAgICAgICAgICAgd2luZG93X3RvcCAgPSAkd2luLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgb2Zmc2V0ICAgICAgPSAkZWxlbWVudC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgIGxlZnQgICAgICAgID0gb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICAgICAgICB0b3AgICAgICAgICA9IG9mZnNldC50b3A7XG5cbiAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt0b3BvZmZzZXQ6MCwgbGVmdG9mZnNldDowfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgaWYgKHRvcCArICRlbGVtZW50LmhlaWdodCgpID49IHdpbmRvd190b3AgJiYgdG9wIC0gb3B0aW9ucy50b3BvZmZzZXQgPD0gd2luZG93X3RvcCArICR3aW4uaGVpZ2h0KCkgJiZcbiAgICAgICAgICAgICAgICAgIGxlZnQgKyAkZWxlbWVudC53aWR0aCgpID49IHdpbmRvd19sZWZ0ICYmIGxlZnQgLSBvcHRpb25zLmxlZnRvZmZzZXQgPD0gd2luZG93X2xlZnQgKyAkd2luLndpZHRoKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFxuICAgICAgICAgIGxhbmdkaXJlY3Rpb246ICRodG1sLmF0dHIoJ2RpcicpID09PSAncnRsJyA/ICdyaWdodCcgOiAnbGVmdCcsXG5cbiAgICAgICAgICBpc1RvdWNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0bWwuaGFzQ2xhc3MoJ3RvdWNoJyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGlzU2lkZWJhckNvbGxhcHNlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRib2R5Lmhhc0NsYXNzKCdhc2lkZS1jb2xsYXBzZWQnKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaXNTaWRlYmFyVG9nZ2xlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRib2R5Lmhhc0NsYXNzKCdhc2lkZS10b2dnbGVkJyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGlzTW9iaWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHdpbi53aWR0aCgpIDwgQVBQX01FRElBUVVFUlkudGFibGV0O1xuICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2N1c3RvbScsIFtcclxuICAgICAgICAgICAgLy8gcmVxdWVzdCB0aGUgdGhlIGVudGlyZSBmcmFtZXdvcmtcclxuICAgICAgICAgICAgJ2FuZ2xlJyxcclxuICAgICAgICAgICAgLy8gb3IganVzdCBtb2R1bGVzXHJcbiAgICAgICAgICAgICdhcHAuY29yZScsXHJcbiAgICAgICAgICAgICdhcHAuc2lkZWJhcidcclxuICAgICAgICAgICAgLyouLi4qL1xyXG4gICAgICAgIF0pO1xyXG59KSgpOyIsIlxyXG4vLyBUbyBydW4gdGhpcyBjb2RlLCBlZGl0IGZpbGUgaW5kZXguaHRtbCBvciBpbmRleC5qYWRlIGFuZCBjaGFuZ2VcclxuLy8gaHRtbCBkYXRhLW5nLWFwcCBhdHRyaWJ1dGUgZnJvbSBhbmdsZSB0byBteUFwcE5hbWVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdjdXN0b20nKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdDb250cm9sbGVyJywgQ29udHJvbGxlcik7XHJcblxyXG4gICAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XHJcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRsb2cpIHtcclxuICAgICAgICAvLyBmb3IgY29udHJvbGxlckFzIHN5bnRheFxyXG4gICAgICAgIC8vIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAkbG9nLmxvZygnSVxcJ20gYSBsaW5lIGZyb20gY3VzdG9tLmpzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
